{"version":3,"file":"index-BoiPFHfl.js","sources":["../../../app/administration/src/module/sw-cms/component/sw-cms-list-item/sw-cms-list-item.html.twig","../../../app/administration/src/module/sw-cms/component/sw-cms-list-item/index.ts"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_cms_list_item %}\n<div\n    class=\"sw-cms-list-item\"\n    :class=\"componentClasses\"\n    :title=\"page && page.translated.name\"\n>\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_cms_list_item_options %}\n    <slot name=\"contextMenu\"></slot>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_cms_list_item_image %}\n    <div\n        v-if=\"page\"\n        class=\"sw-cms-list-item__image\"\n        :style=\"previewMedia\"\n        role=\"button\"\n        tabindex=\"0\"\n        @click=\"onItemClick(page)\"\n        @keydown.enter=\"onItemClick(page)\"\n    >\n        <div v-if=\"isDefault\">\n            <span\n                v-if=\"page.type === 'product_list'\"\n                class=\"sw-cms-list-item__is-default\"\n            >{{ $tc('sw-cms.components.cmsListItem.defaultLayoutProductList') }}</span>\n            <span\n                v-else-if=\"page.type === 'product_detail'\"\n                class=\"sw-cms-list-item__is-default\"\n            >{{ $tc('sw-cms.components.cmsListItem.defaultLayoutProductDetail') }}</span>\n        </div>\n    </div>\n    <div\n        v-else\n        class=\"sw-cms-list-item__image is--empty\"\n    >\n        {{ $tc('sw-cms.components.cmsListItem.emptyText') }}\n    </div>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_cms_list_item_info %}\n    <div class=\"sw-cms-list-item__info\">\n        <div\n            v-if=\"page\"\n            class=\"sw-cms-list-item__status\"\n            :class=\"statusClasses\"\n        ></div>\n        <div\n            v-if=\"page\"\n            class=\"sw-cms-list-item__title\"\n            role=\"button\"\n            tabindex=\"0\"\n            @click=\"onElementClick\"\n            @keydown.enter=\"onElementClick\"\n        >\n            {{ page.translated.name }}\n        </div>\n        <sw-icon\n            v-if=\"page && page.locked\"\n            class=\"sw-cms-list-item__locked\"\n            name=\"solid-lock\"\n            small\n        />\n    </div>\n    {% endblock %}\n</div>\n{% endblock %}\n","import { type PropType } from 'vue';\nimport template from './sw-cms-list-item.html.twig';\nimport './sw-cms-list-item.scss';\n\nconst { Filter } = Cicada;\n\n/**\n * @package discovery\n */\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default Cicada.Component.wrapComponentConfig({\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: ['feature'],\n\n    emits: [\n        'preview-image-change',\n        'on-item-click',\n        'element-click',\n        'item-click',\n        'cms-page-delete',\n    ],\n\n    props: {\n        page: {\n            type: Object as PropType<EntitySchema.Entity<'cms_page'>>,\n            required: false,\n            default: null,\n        },\n\n        active: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n\n        isDefault: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n\n        disabled: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n    },\n\n    computed: {\n        previewMedia() {\n            if (this.page.previewMedia?.id && this.page.previewMedia?.url) {\n                return {\n                    'background-image': `url(${this.page.previewMedia.url})`,\n                    'background-size': 'cover',\n                };\n            }\n\n            if (this.page.locked && this.page.type !== 'page') {\n                return {\n                    'background-image': this.defaultLayoutAsset,\n                };\n            }\n\n            const backgroundImage = this.defaultItemLayoutAssetBackground;\n            if (backgroundImage) {\n                return {\n                    'background-image': backgroundImage,\n                    'background-size': 'cover',\n                };\n            }\n\n            return null;\n        },\n\n        defaultLayoutAsset() {\n            return `url(${this.assetFilter(`administration/static/img/cms/default_preview_${this.page.type}.jpg`)})`;\n        },\n\n        defaultItemLayoutAssetBackground() {\n            const path = 'administration/static/img/cms';\n\n            if (this.page.sections!.length < 1) {\n                return null;\n            }\n\n            return `url(${this.assetFilter(`${path}/preview_${this.page.type}_${this.page.sections![0].type}.png`)})`;\n        },\n\n        componentClasses() {\n            return {\n                'is--active': this.active,\n                'is--disabled': this.disabled,\n            };\n        },\n\n        statusClasses() {\n            return {\n                'is--active': this.active || this.isDefault,\n            };\n        },\n\n        assetFilter() {\n            return Filter.getByName('asset');\n        },\n    },\n\n    methods: {\n        onChangePreviewImage(page: EntitySchema.Entity<'cms_page'>) {\n            this.$emit('preview-image-change', page);\n        },\n\n        /** @deprecated tag:v6.7.0 - `on-item-click` will be removed. Handle `element-click` instead */\n        onElementClick() {\n            if (this.disabled) {\n                return;\n            }\n\n            this.$emit('on-item-click', this.page);\n            this.$emit('element-click', this.page);\n        },\n\n        onItemClick(page: EntitySchema.Entity<'cms_page'>) {\n            if (this.disabled) {\n                return;\n            }\n\n            this.$emit('item-click', page);\n        },\n\n        /** @deprecated tag:v6.7.0 - `onRemovePreviewImage` will be removed without replacement */\n        onRemovePreviewImage(page: EntitySchema.Entity<'cms_page'>) {\n            page.previewMediaId = undefined;\n            // eslint-disable-next-line max-len\n            // eslint-disable-next-line @typescript-eslint/no-explicit-any,@typescript-eslint/no-unsafe-member-access,@typescript-eslint/no-unsafe-call\n            (page as any).save();\n            page.previewMedia = undefined;\n        },\n\n        onDelete(page: EntitySchema.Entity<'cms_page'>) {\n            this.$emit('cms-page-delete', page);\n        },\n    },\n});\n"],"names":["template","Filter","index","_a","_b","backgroundImage","path","page"],"mappings":"AAAA,MAAeA,EAAA,40CCIT,CAAE,OAAAC,CAAW,EAAA,OAMnBC,EAAe,OAAO,UAAU,oBAAoB,CAChD,SAAAF,EAEA,aAAc,OAAO,aAErB,OAAQ,CAAC,SAAS,EAElB,MAAO,CACH,uBACA,gBACA,gBACA,aACA,iBACJ,EAEA,MAAO,CACH,KAAM,CACF,KAAM,OACN,SAAU,GACV,QAAS,IACb,EAEA,OAAQ,CACJ,KAAM,QACN,SAAU,GACV,QAAS,EACb,EAEA,UAAW,CACP,KAAM,QACN,SAAU,GACV,QAAS,EACb,EAEA,SAAU,CACN,KAAM,QACN,SAAU,GACV,QAAS,EACb,CACJ,EAEA,SAAU,CACN,cAAe,CDpDvB,IAAAG,EAAAC,ECqDY,IAAID,EAAA,KAAK,KAAK,eAAV,MAAAA,EAAwB,MAAMC,EAAA,KAAK,KAAK,eAAV,MAAAA,EAAwB,KAC/C,MAAA,CACH,mBAAoB,OAAO,KAAK,KAAK,aAAa,GAAG,IACrD,kBAAmB,OAAA,EAI3B,GAAI,KAAK,KAAK,QAAU,KAAK,KAAK,OAAS,OAChC,MAAA,CACH,mBAAoB,KAAK,kBAAA,EAIjC,MAAMC,EAAkB,KAAK,iCAC7B,OAAIA,EACO,CACH,mBAAoBA,EACpB,kBAAmB,OAAA,EAIpB,IACX,EAEA,oBAAqB,CACV,MAAA,OAAO,KAAK,YAAY,iDAAiD,KAAK,KAAK,IAAI,MAAM,CAAC,GACzG,EAEA,kCAAmC,CAC/B,MAAMC,EAAO,gCAEb,OAAI,KAAK,KAAK,SAAU,OAAS,EACtB,KAGJ,OAAO,KAAK,YAAY,GAAGA,CAAI,YAAY,KAAK,KAAK,IAAI,IAAI,KAAK,KAAK,SAAU,CAAC,EAAE,IAAI,MAAM,CAAC,GAC1G,EAEA,kBAAmB,CACR,MAAA,CACH,aAAc,KAAK,OACnB,eAAgB,KAAK,QAAA,CAE7B,EAEA,eAAgB,CACL,MAAA,CACH,aAAc,KAAK,QAAU,KAAK,SAAA,CAE1C,EAEA,aAAc,CACH,OAAAL,EAAO,UAAU,OAAO,CACnC,CACJ,EAEA,QAAS,CACL,qBAAqBM,EAAuC,CACnD,KAAA,MAAM,uBAAwBA,CAAI,CAC3C,EAGA,gBAAiB,CACT,KAAK,WAIJ,KAAA,MAAM,gBAAiB,KAAK,IAAI,EAChC,KAAA,MAAM,gBAAiB,KAAK,IAAI,EACzC,EAEA,YAAYA,EAAuC,CAC3C,KAAK,UAIJ,KAAA,MAAM,aAAcA,CAAI,CACjC,EAGA,qBAAqBA,EAAuC,CACxDA,EAAK,eAAiB,OAGrBA,EAAa,KAAK,EACnBA,EAAK,aAAe,MACxB,EAEA,SAASA,EAAuC,CACvC,KAAA,MAAM,kBAAmBA,CAAI,CACtC,CACJ,CACJ,CAAC"}