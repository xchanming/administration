{"version":3,"file":"index--ppPQ8ot.js","sources":["../../../app/administration/src/module/sw-settings/page/sw-settings-index/sw-settings-index.html.twig","../../../app/administration/src/module/sw-settings/page/sw-settings-index/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_settings %}\n<sw-page\n    class=\"sw-settings-index\"\n    :show-smart-bar=\"false\"\n>\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_content %}\n    <template #content>\n        <sw-card-view>\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_settings_content_tabs %}\n            <sw-tabs\n                class=\"sw-settings__tabs\"\n                position-identifier=\"sw-settings-index\"\n                :is-vertical=\"true\"\n                :small=\"false\"\n            >\n                <template #default=\"{ active }\">\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_settings_content_tab_shop %}\n                    <sw-tabs-item\n                        v-if=\"settingsGroups['shop']\"\n                        class=\"sw-settings__tab-shop\"\n                        :route=\"{ name: 'sw.settings.index.shop'}\"\n                        name=\"shop\"\n                        :active-tab=\"active\"\n                        :title=\"$tc('sw-settings.index.tabShop')\"\n                    >\n                        {{ $tc('sw-settings.index.tabShop') }}\n                    </sw-tabs-item>\n                    {% endblock %}\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_settings_content_tab_system %}\n                    <sw-tabs-item\n                        v-if=\"settingsGroups['system']\"\n                        class=\"sw-settings__tab-system\"\n                        name=\"system\"\n                        :route=\"{ name: 'sw.settings.index.system'}\"\n                        :active-tab=\"active\"\n                        :title=\"$tc('sw-settings.index.tabSystem')\"\n                    >\n                        {{ $tc('sw-settings.index.tabSystem') }}\n                    </sw-tabs-item>\n                    {% endblock %}\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_settings_content_tab_plugins %}\n                    <sw-tabs-item\n                        v-if=\"hasPluginConfig()\"\n                        class=\"sw-settings__tab-plugins\"\n                        name=\"plugins\"\n                        :route=\"{ name: 'sw.settings.index.plugins'}\"\n                        :active-tab=\"active\"\n                        :title=\"$tc('sw-settings.index.tabPlugins')\"\n                    >\n                        {{ $tc('sw-settings.index.tabPlugins') }}\n                    </sw-tabs-item>\n                    {% endblock %}\n                </template>\n\n                <template #content=\"{ active }\">\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_settings_content_card %}\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_settings_content_header %}\n                    <h1 class=\"sw-settings__content-header\">\n                        {{ $tc('sw-settings.index.title') }}\n                    </h1>\n                    {% endblock %}\n\n                    <sw-card\n                        class=\"sw-settings__card\"\n                        position-identifier=\"sw-settings-index-content\"\n                    >\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_content_card_content %}\n                        <slot\n                            v-for=\"(settingsItems, settingsGroup) in settingsGroups\"\n                            :key=\"settingsGroup\"\n                            :name=\"settingsGroup\"\n                            :aria-label=\"$tc('sw-settings.index.title')\"\n                        >\n                            <nav\n                                v-show=\"active === settingsGroup\"\n                                :id=\"`sw-settings__content-grid-${settingsGroup}`\"\n                                class=\"sw-settings__content-grid\"\n                            >\n                                <sw-settings-item\n                                    v-for=\"settingsItem in settingsItems\"\n                                    :id=\"settingsItem.id\"\n                                    :key=\"settingsItem.name\"\n                                    :label=\"getLabel(settingsItem)\"\n                                    :to=\"getRouteConfig(settingsItem)\"\n                                    :background-enabled=\"settingsItem.backgroundEnabled\"\n                                >\n                                    <template #icon>\n                                        <component\n                                            :is=\"settingsItem.iconComponent\"\n                                            v-if=\"settingsItem.iconComponent\"\n                                        />\n                                        <sw-icon\n                                            v-else\n                                            :name=\"settingsItem.icon\"\n                                        />\n                                    </template>\n                                </sw-settings-item>\n                            </nav>\n                        </slot>\n                        {% endblock %}\n                    </sw-card>\n                    {% endblock %}\n                </template>\n            </sw-tabs>\n            {% endblock %}\n        </sw-card-view>\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}\n","/**\n * @package services-settings\n */\nimport template from './sw-settings-index.html.twig';\nimport './sw-settings-index.scss';\n\nconst { hasOwnProperty } = Cicada.Utils.object;\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: ['acl'],\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        settingsGroups() {\n            const settingsGroups = Object.entries(Cicada.State.get('settingsItems').settingsGroups);\n            return settingsGroups.reduce(\n                (\n                    acc,\n                    [\n                        groupName,\n                        groupSettings,\n                    ],\n                ) => {\n                    const group = groupSettings\n                        .filter((setting) => {\n                            if (!setting.privilege) {\n                                return true;\n                            }\n\n                            return this.acl.can(setting.privilege);\n                        })\n                        .sort((a, b) => {\n                            const labelA = typeof a.label === 'string' ? a.label : a.label?.label;\n                            const labelB = typeof b.label === 'string' ? b.label : b.label?.label;\n\n                            return this.$tc(labelA).localeCompare(this.$tc(labelB));\n                        });\n\n                    if (group.length > 0) {\n                        acc[groupName] = group;\n                    }\n\n                    return acc;\n                },\n                {},\n            );\n        },\n    },\n\n    methods: {\n        hasPluginConfig() {\n            return hasOwnProperty(this.settingsGroups, 'plugins') && this.settingsGroups.plugins.length > 0;\n        },\n\n        getRouteConfig(settingsItem) {\n            if (!hasOwnProperty(settingsItem, 'to')) {\n                return {};\n            }\n\n            if (typeof settingsItem.to === 'string') {\n                return { name: settingsItem.to };\n            }\n\n            if (typeof settingsItem.to === 'object') {\n                return settingsItem.to;\n            }\n\n            return {};\n        },\n\n        getLabel(settingsItem) {\n            if (!hasOwnProperty(settingsItem, 'label')) {\n                return '';\n            }\n\n            if (typeof settingsItem.label === 'string') {\n                return this.$tc(settingsItem.label);\n            }\n\n            if (typeof settingsItem.label !== 'object') {\n                return '';\n            }\n\n            if (!hasOwnProperty(settingsItem.label, 'translated')) {\n                return '';\n            }\n\n            if (!hasOwnProperty(settingsItem.label, 'label') || typeof settingsItem.label.label !== 'string') {\n                return '';\n            }\n\n            if (settingsItem.label.translated) {\n                return settingsItem.label.label;\n            }\n\n            return this.$tc(settingsItem.label.label);\n        },\n    },\n};\n"],"names":["template","hasOwnProperty","index","acc","groupName","groupSettings","group","setting","a","b","_a","_b","labelA","labelB","settingsItem"],"mappings":"AAAA,MAAeA,EAAA,y6ECMT,CAAE,eAAAC,CAAgB,EAAG,OAAO,MAAM,OAGzBC,EAAA,CACX,SAAAF,EAEA,aAAc,OAAO,aAErB,OAAQ,CAAC,KAAK,EAEd,UAAW,CACP,MAAO,CACH,MAAO,KAAK,aAAc,CACtC,CACK,EAED,SAAU,CACN,gBAAiB,CAEb,OADuB,OAAO,QAAQ,OAAO,MAAM,IAAI,eAAe,EAAE,cAAc,EAChE,OAClB,CACIG,EACA,CACIC,EACAC,CACH,IACA,CACD,MAAMC,EAAQD,EACT,OAAQE,GACAA,EAAQ,UAIN,KAAK,IAAI,IAAIA,EAAQ,SAAS,EAH1B,EAId,EACA,KAAK,CAACC,EAAGC,IAAM,CDzCxC,IAAAC,EAAAC,EC0C4B,MAAMC,EAAS,OAAOJ,EAAE,OAAU,SAAWA,EAAE,OAAQE,EAAAF,EAAE,QAAF,YAAAE,EAAS,MAC1DG,EAAS,OAAOJ,EAAE,OAAU,SAAWA,EAAE,OAAQE,EAAAF,EAAE,QAAF,YAAAE,EAAS,MAEhE,OAAO,KAAK,IAAIC,CAAM,EAAE,cAAc,KAAK,IAAIC,CAAM,CAAC,CAClF,CAAyB,EAEL,OAAIP,EAAM,OAAS,IACfH,EAAIC,CAAS,EAAIE,GAGdH,CACV,EACD,CAAE,CAClB,CACS,CACJ,EAED,QAAS,CACL,iBAAkB,CACd,OAAOF,EAAe,KAAK,eAAgB,SAAS,GAAK,KAAK,eAAe,QAAQ,OAAS,CACjG,EAED,eAAea,EAAc,CACzB,OAAKb,EAAea,EAAc,IAAI,EAIlC,OAAOA,EAAa,IAAO,SACpB,CAAE,KAAMA,EAAa,IAG5B,OAAOA,EAAa,IAAO,SACpBA,EAAa,GAGjB,GAXI,EAYd,EAED,SAASA,EAAc,CACnB,OAAKb,EAAea,EAAc,OAAO,EAIrC,OAAOA,EAAa,OAAU,SACvB,KAAK,IAAIA,EAAa,KAAK,EAGlC,OAAOA,EAAa,OAAU,UAI9B,CAACb,EAAea,EAAa,MAAO,YAAY,GAIhD,CAACb,EAAea,EAAa,MAAO,OAAO,GAAK,OAAOA,EAAa,MAAM,OAAU,SAC7E,GAGPA,EAAa,MAAM,WACZA,EAAa,MAAM,MAGvB,KAAK,IAAIA,EAAa,MAAM,KAAK,EAvB7B,EAwBd,CACJ,CACL"}