{"version":3,"file":"index-B8aGdRo7.js","sources":["../../../app/administration/src/module/sw-promotion-v2/component/discount/sw-promotion-v2-settings-trigger/sw-promotion-v2-settings-trigger.html.twig","../../../app/administration/src/module/sw-promotion-v2/component/discount/sw-promotion-v2-settings-trigger/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_promotion_v2_settings_trigger %}\n<div class=\"sw-promotion-v2-settings-trigger-settings\">\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_promotion_v2_settings_trigger_description %}\n    <sw-promotion-v2-wizard-description\n        class=\"sw-promotion-v2-settings-trigger-settings__description\"\n    >\n        {{ $tc('sw-promotion-v2.detail.discounts.wizard.shipping-discount.description') }}\n    </sw-promotion-v2-wizard-description>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_promotion_v2_settings_trigger_radio_switch %}\n    <sw-switch-field\n        v-model:value=\"useTrigger\"\n        class=\"sw-promotion-v2-settings-trigger-settings__use-trigger\"\n        :label=\"$tc('sw-promotion-v2.detail.discounts.settings.trigger.labelUseTrigger')\"\n    />\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_promotion_v2_settings_trigger_container %}\n    <sw-container v-if=\"useTrigger\">\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_promotion_v2_settings_trigger_select_trigger_type %}\n        <sw-select-field\n            v-model:value=\"triggerType\"\n            class=\"sw-promotion-v2-settings-trigger-settings__trigger-type\"\n            :label=\"$tc('sw-promotion-v2.detail.discounts.settings.trigger.labelNumberOfTriggers')\"\n            :disabled=\"!acl.can('promotion.editor')\"\n        >\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_promotion_v2_settings_trigger_select_trigger_amount_options %}\n            <option\n                v-for=\"selection in getTriggerSelection()\"\n                :key=\"selection.value\"\n                :value=\"selection.value\"\n                :disabled=\"selection.disabled\"\n            >\n                {{ selection.display }}\n            </option>\n            {% endblock %}\n\n        </sw-select-field>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_promotion_v2_settings_trigger_rule_selection_selection %}\n        <sw-promotion-v2-rule-select\n            v-model:collection=\"discount.discountRules\"\n            local-mode\n            class=\"sw-promotion-v2-settings-trigger-settings__rule-selection\"\n            :criteria=\"ruleCriteria\"\n            :rule-scope=\"['cart']\"\n            :label=\"$tc('sw-promotion-v2.detail.discounts.settings.ruleSelection.labelSelection')\"\n            :placeholder=\"$tc('sw-promotion-v2.detail.discounts.settings.ruleSelection.placeholderSelection')\"\n            :disabled=\"!acl.can('promotion.editor')\"\n        />\n        {% endblock %}\n\n    </sw-container>\n    {% endblock %}\n\n</div>\n{% endblock %}\n","/**\n * @package checkout\n */\nimport template from './sw-promotion-v2-settings-trigger.html.twig';\n\nconst { Criteria } = Cicada.Data;\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: [\n        'acl',\n    ],\n\n    props: {\n        discount: {\n            type: Object,\n            required: true,\n        },\n    },\n\n    data() {\n        return {\n            useTrigger: this.discount.discountRules.length > 0,\n            triggerType: 'single',\n        };\n    },\n\n    computed: {\n        ruleCriteria() {\n            return new Criteria(1, 25).addSorting(Criteria.sort('name', 'ASC', false));\n        },\n    },\n\n    watch: {\n        'discount.discountRules'(discountRules) {\n            this.discount.considerAdvancedRules = discountRules.length > 0;\n        },\n    },\n\n    methods: {\n        getTriggerSelection() {\n            const prefix = 'sw-promotion-v2.detail.discounts.settings.trigger.triggerType';\n            return [\n                {\n                    value: 'single',\n                    display: this.$tc(`${prefix}.displaySingleTrigger`),\n                    disabled: false,\n                },\n                {\n                    value: 'multi',\n                    display: this.$tc(`${prefix}.displayMultiTrigger`),\n                    disabled: true,\n                },\n            ];\n        },\n    },\n};\n"],"names":["template","Criteria","index","discountRules","prefix"],"mappings":"AAAA,MAAeA,EAAA,u3DCKT,CAAE,SAAAC,CAAQ,EAAK,OAAO,KAGbC,EAAA,CACX,SAAAF,EAEA,aAAc,OAAO,aAErB,OAAQ,CACJ,KACH,EAED,MAAO,CACH,SAAU,CACN,KAAM,OACN,SAAU,EACb,CACJ,EAED,MAAO,CACH,MAAO,CACH,WAAY,KAAK,SAAS,cAAc,OAAS,EACjD,YAAa,QACzB,CACK,EAED,SAAU,CACN,cAAe,CACX,OAAO,IAAIC,EAAS,EAAG,EAAE,EAAE,WAAWA,EAAS,KAAK,OAAQ,MAAO,EAAK,CAAC,CAC5E,CACJ,EAED,MAAO,CACH,yBAAyBE,EAAe,CACpC,KAAK,SAAS,sBAAwBA,EAAc,OAAS,CAChE,CACJ,EAED,QAAS,CACL,qBAAsB,CAClB,MAAMC,EAAS,gEACf,MAAO,CACH,CACI,MAAO,SACP,QAAS,KAAK,IAAI,GAAGA,CAAM,uBAAuB,EAClD,SAAU,EACb,EACD,CACI,MAAO,QACP,QAAS,KAAK,IAAI,GAAGA,CAAM,sBAAsB,EACjD,SAAU,EACb,CACjB,CACS,CACJ,CACL"}