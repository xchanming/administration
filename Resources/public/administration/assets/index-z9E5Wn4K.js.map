{"version":3,"file":"index-z9E5Wn4K.js","sources":["../../../app/administration/src/module/sw-extension-sdk/page/sw-extension-sdk-module/sw-extension-sdk-module.html.twig","../../../app/administration/src/module/sw-extension-sdk/page/sw-extension-sdk-module/index.js","../../../app/administration/src/module/sw-extension-sdk/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_extension_sdk_module %}\n<sw-page\n    class=\"sw-extension-sdk-module\"\n    :show-search-bar=\"showSearchBar\"\n    :show-smart-bar=\"showSmartBar\"\n>\n    <template\n        v-if=\"showSmartBar\"\n        #smart-bar-header\n    >\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_extension_sdk_module_header %}\n        <template v-if=\"!isLoading\">\n            <h2>{{ $tc(module.heading ?? '') }}</h2>\n        </template>\n        {% endblock %}\n    </template>\n\n    <template\n        v-if=\"showSmartBar && back\"\n        #smart-bar-back\n    >\n        <router-link\n            :to=\"{ name: back }\"\n        >\n            <sw-icon\n                name=\"regular-chevron-left\"\n                small\n            />\n        </router-link>\n    </template>\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_extension_sdk_module_smart_bar_buttons %}\n    <template\n        v-if=\"showSmartBar\"\n        #smart-bar-actions\n    >\n        <sw-button\n            v-for=\"button in smartBarButtons\"\n            :id=\"button.buttonId\"\n            :key=\"button.buttonId\"\n            :disabled=\"button.disabled\"\n            :variant=\"button.variant\"\n            @click=\"button.onClickCallback\"\n        >\n            {{ $tc(button.label ?? '') }}\n        </sw-button>\n    </template>\n    {% endblock %}\n\n    <template #content>\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_extension_sdk_module_content %}\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_extension_sdk_module_content_iframe_renderer %}\n        <sw-iframe-renderer\n            v-if=\"!isLoading\"\n            ref=\"iframeRenderer\"\n            :src=\"module.baseUrl\"\n            :location-id=\"module.locationId\"\n            full-screen\n        />\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_extension_sdk_module_content_loader %}\n        <sw-loader v-else-if=\"!timedOut\" />\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_extension_sdk_module_content_error_state %}\n        <sw-my-apps-error-page v-if=\"timedOut\" />\n        {% endblock %}\n        {% endblock %}\n    </template>\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_extension_sdk_module_language_switch %}\n    <template\n        v-if=\"showSmartBar && showLanguageSwitch\"\n        #language-switch\n    >\n        <sw-language-switch\n            :change-global-language=\"true\"\n            @on-change=\"onChangeLanguage\"\n        />\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}\n","import template from './sw-extension-sdk-module.html.twig';\nimport './sw-extension-sdk-module.scss';\n\n/**\n * @private Only to be used by the Admin extension API\n */\nCicada.Component.register('sw-extension-sdk-module', {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    props: {\n        id: {\n            type: String,\n            required: true,\n        },\n        back: {\n            type: String,\n            required: false,\n            default: null,\n        },\n    },\n\n    data() {\n        return {\n            timedOut: false,\n            loadingTimeOut: null,\n        };\n    },\n\n    computed: {\n        module() {\n            return Cicada.State.get('extensionSdkModules').modules.find((module) => module.id === this.id);\n        },\n\n        isLoading() {\n            return !this.module;\n        },\n\n        showSearchBar() {\n            return this.module?.displaySearchBar ?? true;\n        },\n\n        showSmartBar() {\n            return this.module?.displaySmartBar ?? true;\n        },\n\n        showLanguageSwitch() {\n            return !!this.module?.displayLanguageSwitch;\n        },\n\n        smartBarButtons() {\n            return Cicada.State.get('extensionSdkModules').smartBarButtons.filter(\n                (button) => button.locationId === this.module?.locationId,\n            );\n        },\n    },\n\n    watch: {\n        /**\n         * When user changes from one app module to another the iframe should reload\n         */\n        'module.locationId'() {\n            if (!this.$refs.iframeRenderer) {\n                return;\n            }\n\n            // Trick to reload iframes with same src but different routes\n            this.$refs.iframeRenderer.$refs.iframe.src = `${this.$refs.iframeRenderer.$refs.iframe.src}`;\n        },\n    },\n\n    /**\n     * This component should not be extendable therefore no createdComponent() hook.\n     */\n    created() {\n        // Keep threshold synced with admin extension sdk\n        this.loadingTimeOut = window.setTimeout(() => {\n            if (!this.isLoading) {\n                return;\n            }\n\n            this.timedOut = true;\n            this.loadingTimeOut = null;\n        }, 7000);\n    },\n\n    beforeUnmount() {\n        if (this.loadingTimeOut) {\n            window.clearTimeout(this.loadingTimeOut);\n        }\n    },\n\n    methods: {\n        onChangeLanguage(languageId) {\n            Cicada.State.commit('context/setApiLanguageId', languageId);\n        },\n    },\n});\n","import './page/sw-extension-sdk-module';\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nCicada.Module.register('sw-extension-sdk', {\n    type: 'core',\n    name: 'sw-extension-sdk',\n    title: 'sw-extension-sdk.general.mainMenuItemGeneral',\n    description: 'sw-extension-sdk.general.moduleDescription',\n    icon: 'regular-view-grid',\n    color: '#9AA8B5',\n    routePrefixPath: 'extension',\n\n    routes: {\n        index: {\n            component: 'sw-extension-sdk-module',\n            path: ':id/:back?',\n            props: {\n                default(route) {\n                    const { id, back } = route.params;\n                    return {\n                        id,\n                        back,\n                    };\n                },\n            },\n        },\n    },\n\n    navigation: [\n        {\n            id: 'sw-extension-sdk',\n            label: 'sw-extension-sdk.general.mainMenuItemGeneral',\n            icon: 'regular-view-grid',\n            color: '#9AA8B5',\n            position: 110,\n        },\n    ],\n});\n"],"names":["template","module","_a","button","languageId","route","id","back"],"mappings":"AAAA,MAAeA,EAAA,mmDCMf,OAAO,UAAU,SAAS,0BAA2B,CACjD,SAAAA,EAEA,aAAc,OAAO,aAErB,MAAO,CACH,GAAI,CACA,KAAM,OACN,SAAU,EACb,EACD,KAAM,CACF,KAAM,OACN,SAAU,GACV,QAAS,IACZ,CACJ,EAED,MAAO,CACH,MAAO,CACH,SAAU,GACV,eAAgB,IAC5B,CACK,EAED,SAAU,CACN,QAAS,CACL,OAAO,OAAO,MAAM,IAAI,qBAAqB,EAAE,QAAQ,KAAMC,GAAWA,EAAO,KAAO,KAAK,EAAE,CAChG,EAED,WAAY,CACR,MAAO,CAAC,KAAK,MAChB,EAED,eAAgB,CDvCxB,IAAAC,ECwCY,QAAOA,EAAA,KAAK,SAAL,YAAAA,EAAa,mBAAoB,EAC3C,EAED,cAAe,CD3CvB,IAAAA,EC4CY,QAAOA,EAAA,KAAK,SAAL,YAAAA,EAAa,kBAAmB,EAC1C,EAED,oBAAqB,CD/C7B,IAAAA,ECgDY,MAAO,CAAC,GAACA,EAAA,KAAK,SAAL,MAAAA,EAAa,sBACzB,EAED,iBAAkB,CACd,OAAO,OAAO,MAAM,IAAI,qBAAqB,EAAE,gBAAgB,OAC1DC,GAAM,CDrDvB,IAAAD,ECqD4B,OAAAC,EAAO,eAAeD,EAAA,KAAK,SAAL,YAAAA,EAAa,YAC/D,CACS,CACJ,EAED,MAAO,CAIH,qBAAsB,CACb,KAAK,MAAM,iBAKhB,KAAK,MAAM,eAAe,MAAM,OAAO,IAAM,GAAG,KAAK,MAAM,eAAe,MAAM,OAAO,GAAG,GAC7F,CACJ,EAKD,SAAU,CAEN,KAAK,eAAiB,OAAO,WAAW,IAAM,CACrC,KAAK,YAIV,KAAK,SAAW,GAChB,KAAK,eAAiB,KACzB,EAAE,GAAI,CACV,EAED,eAAgB,CACR,KAAK,gBACL,OAAO,aAAa,KAAK,cAAc,CAE9C,EAED,QAAS,CACL,iBAAiBE,EAAY,CACzB,OAAO,MAAM,OAAO,2BAA4BA,CAAU,CAC7D,CACJ,CACL,CAAC,EC/FD,OAAO,OAAO,SAAS,mBAAoB,CACvC,KAAM,OACN,KAAM,mBACN,MAAO,+CACP,YAAa,6CACb,KAAM,oBACN,MAAO,UACP,gBAAiB,YAEjB,OAAQ,CACJ,MAAO,CACH,UAAW,0BACX,KAAM,aACN,MAAO,CACH,QAAQC,EAAO,CACX,KAAM,CAAE,GAAAC,EAAI,KAAAC,GAASF,EAAM,OAC3B,MAAO,CACH,GAAAC,EACA,KAAAC,CACxB,CACiB,CACJ,CACJ,CACJ,EAED,WAAY,CACR,CACI,GAAI,mBACJ,MAAO,+CACP,KAAM,oBACN,MAAO,UACP,SAAU,GACb,CACJ,CACL,CAAC"}