const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/app-action-button.service-MA1j6Pet.js","assets/api.service-DUFBkRAb.js","assets/channel-Cvr-E4M4.js","assets/InvalidActionButtonParameterError-KvFlsqmj.js","assets/app-cms-blocks.service-qR6lAzym.js","assets/app-modules.service-CKxTCYII.js","assets/app-url-change.service-B1jQmSlX.js","assets/business-events.api.service-Bc0ZIoo0.js","assets/calculate-price.api.service-BuuaPzE6.js","assets/cart-store-api.api.service-ewDf4onX.js","assets/util.service-DptoGcql.js","assets/_baseUniq-DJKU6o6f.js","assets/_baseIteratee-BDDcCv4P.js","assets/camelCase-FN5n0J2F.js","assets/string.utils-B0MdTyu7.js","assets/order.types-BvKP5qzO.js","assets/checkout-store.api.service-D5PWyd0w.js","assets/config.api.service-BhJrOqIl.js","assets/custom-snippet.api.service-CojFFaGV.js","assets/customer-group-registration.api.service-BLJJT--y.js","assets/customer-validation.api.service-Bw2BziYN.js","assets/document.api.service-DdEvgX5v.js","assets/excludedSearchTerm.api.service-AEhezz8Y.js","assets/extension-sdk.service-2GMZwlJ8.js","assets/flow-actions.api.service-BLKRf0hM.js","assets/known-ips.api.service-DfJIfO4W.js","assets/mail.api.service-CUoWLuGB.js","assets/media-folder.api.service-Cg8A6AZx.js","assets/media.api.service-mXibDD5w.js","assets/message-queue.api.service-DKfCgwg1.js","assets/notifications.service-BLz8uEMv.js","assets/order-document.api.service-DXWVq3L3.js","assets/order-state-machine.api.service-CO7rs3_j.js","assets/order.api.service-CpM45j9h.js","assets/product-export.api.service-C0hiGNio.js","assets/product-stream-preview.service-C5S7gqQk.js","assets/promotion-sync.api.service-xiy94VES.js","assets/sync.api.service-BF6pgC9s.js","assets/rule-conditions-config.api.service-waR4lmyv.js","assets/sales-channel.api.service-DCCGHr0c.js","assets/scheduled-task.api.service-B5SnmUNt.js","assets/search.api.service-CEElfgmp.js","assets/extension-api-data.service-BNEYYFaA.js","assets/sanitizer.helper-WLpaaNbZ.js","assets/promotion.helper-CtcaAhvM.js","assets/administration-CcAM5iN0.js","assets/administration-W4Hd5vBj.css","assets/seo-url-template.api.service-BjLSQbZ9.js","assets/seo-url.api.service-DgdJoHu6.js","assets/snippet.api.service-0KQ1tlBp.js","assets/state-machine.api.service-Bd_1Y3sT.js","assets/store-context.api.service-BzTO42NB.js","assets/store.api.service-JgjxuBX-.js","assets/system-config.api.service-m3IY3Opq.js","assets/error-resolver.system-config.data-CuyHI13_.js","assets/tag.api.service-1_DtIVvH.js","assets/usage-data.api.service-DdK-GRjj.js","assets/user-activity.service-CwyBNfoL.js","assets/user-config.api.service-BdOV9RbO.js","assets/user-input-sanitize.service-D_E49xjh.js","assets/user-recovery.api.service-BjFltF-H.js","assets/user-validation.api.service-By7DfFcT.js","assets/user.api.service-UZU9HOwG.js"])))=>i.map(i=>d[i]);
var rn=e=>{throw TypeError(e)};var Js=(e,r,t)=>r.has(e)||rn("Cannot "+t);var yt=(e,r,t)=>(Js(e,r,"read from private field"),t?t.call(e):r.get(e)),nn=(e,r,t)=>r.has(e)?rn("Cannot add the same private member more than once"):r instanceof WeakSet?r.add(e):r.set(e,t);import{w as Ue,o as Ys,u as Vr}from"./util.service-DptoGcql.js";import{h as ee,t as Ve,m as Ks,g as Xs,p as Nr,a as Oi,c as ki,d as Ts,E as Hr,b as qe,C as st,e as Zs,f as Qs,r as Le,i as Ci,u as Wr,j as Fi,k as eo,w as Ii,l as to,n as ro,o as mt,q as gt,s as no,v as io,x as so,M as oo,S as ao,F as Bi,V as co}from"./channel-Cvr-E4M4.js";import{g as uo,p as lo,S as po}from"./extension-api-data.service-BNEYYFaA.js";import{A as fo}from"./api.service-DUFBkRAb.js";import{S as ho}from"./sanitizer.helper-WLpaaNbZ.js";import{P as yo,D as mo,a as go}from"./promotion.helper-CtcaAhvM.js";import{_ as $}from"./administration-CcAM5iN0.js";import{L as xo}from"./order.types-BvKP5qzO.js";var me,Se=".",Li="function",Ni="string",ji="__global__",Gr="Provider",bo=0,Jr=Array.prototype.slice,vo=function(r,t){var n=r[t];if(n===void 0&&me.config.strict)throw new Error("Bottle was unable to resolve a service.  `"+t+"` is undefined.");return n},ot=function(r){var t;return this.nested[r]||(t=me.pop(),this.nested[r]=t,this.factory(r,function(){return t.container})),this.nested[r]},Di=function(r){return r.split(Se).reduce(vo,this)},Eo=function(r,t,n,i){var s={configurable:!0,enumerable:!0};return r.length?s.get=function(){var a=0,c=function(l){if(l)throw l;r[a]&&r[a++](n,c)};return c(),n}:(s.value=n,s.writable=!0),Object.defineProperty(i,t,s),i[t]},_o=function(r,t){var n,i;return typeof r===Li&&(t=r,r=ji),n=r.split(Se),i=n.shift(),n.length?ot.call(this,i).middleware(n.join(Se),t):(this.middlewares[i]||(this.middlewares[i]=[]),this.middlewares[i].push(t)),this},So=function(r,t){return t(r)},sn=function(r,t){return(r[t]||[]).concat(r.__global__||[])},Ro=function(r,t){var n,i,s,o,a;return this.id,s=this.container,o=this.decorators,a=this.middlewares,n=r+Gr,i=Object.create(null),i[n]={configurable:!0,enumerable:!0,get:function(){var h=new t;return delete s[n],s[n]=h,h}},i[r]={configurable:!0,enumerable:!0,get:function(){var h=s[n],l;return h&&(l=sn(o,r).reduce(So,h.$get(s)),delete s[n],delete s[r]),l===void 0?l:Eo(sn(a,r),r,l,s)}},Object.defineProperties(s,i),this},Mi=function(r,t){var n,i;return n=r.split(Se),this.providerMap[r]&&n.length===1&&!this.container[r+Gr]?console.error(r+" provider already instantiated."):(this.originalProviders[r]=t,this.providerMap[r]=!0,i=n.shift(),n.length?(ot.call(this,i).provider(n.join(Se),t),this):Ro.call(this,i,t))},Yr=function(r,t){return Mi.call(this,r,function(){this.$get=t})},$i=function(r,t,n){var i=arguments.length>3?Jr.call(arguments,3):[],s=this;return Yr.call(this,r,function(){var a=t,c=i.map(Di,s.container);return n?new(t.bind.apply(t,[null].concat(c))):a.apply(null,c)})},Ao=function(r,t){return $i.apply(this,[r,t,!0].concat(Jr.call(arguments,2)))},wo=function(r,t){return $i.apply(this,[r,t,!1].concat(Jr.call(arguments,2)))},Ui=function(r,t){Object.defineProperty(this,r,{configurable:!0,enumerable:!0,value:t,writable:!0})},qi=function(r,t){var n=r[t];return n||(n={},Ui.call(r,t,n)),n},Po=function(r,t){var n;return n=r.split(Se),r=n.pop(),Ui.call(n.reduce(qi,this.container),r,t),this},Oo=function(r,t){Object.defineProperty(this,r,{configurable:!1,enumerable:!0,value:t,writable:!1})},ko=function(r,t){var n=r.split(Se);return r=n.pop(),Oo.call(n.reduce(qi,this.container),r,t),this},zi=function(r,t){var n,i;return typeof r===Li&&(t=r,r=ji),n=r.split(Se),i=n.shift(),n.length?ot.call(this,i).decorator(n.join(Se),t):(this.decorators[i]||(this.decorators[i]=[]),this.decorators[i].push(t)),this},Co=function(r){return this.deferred.push(r),this},Fo=function(r){return(r||[]).map(Di,this.container)},Io=function(r,t){return Yr.call(this,r,function(i){return{instance:t.bind(t,i)}})},Bo=function(r){return!/^\$(?:decorator|register|list)$|Provider$/.test(r)},Kr=function(r){return Object.keys(r||this.container||{}).filter(Bo)},tt={},Lo=function(r){var t;return typeof r===Ni?(t=tt[r],t||(tt[r]=t=new me,t.constant("BOTTLE_NAME",r)),t):new me},No=function(r){typeof r===Ni?delete tt[r]:tt={}},Vi=function(r){var t=r.$value===void 0?r:r.$value;return this[r.$type||"service"].apply(this,[r.$name,t].concat(r.$inject||[]))},on=function(r){delete this.providerMap[r],delete this.container[r],delete this.container[r+Gr]},jo=function(r){var t=this.originalProviders,n=Array.isArray(r);Object.keys(this.originalProviders).forEach(function(s){if(!(n&&r.indexOf(s)===-1)){var o=s.split(Se);o.length>1&&o.forEach(on,ot.call(this,o[0])),on.call(this,s),this.provider(s,t[s])}},this)},Do=function(r){return this.deferred.forEach(function(n){n(r)}),this};me=function e(r){if(!(this instanceof e))return e.pop(r);this.id=bo++,this.decorators={},this.middlewares={},this.nested={},this.providerMap={},this.originalProviders={},this.deferred=[],this.container={$decorator:zi.bind(this),$register:Vi.bind(this),$list:Kr.bind(this)}};me.prototype={constant:ko,decorator:zi,defer:Co,digest:Fo,factory:Yr,instanceFactory:Io,list:Kr,middleware:_o,provider:Mi,resetProviders:jo,register:Vi,resolve:Do,service:Ao,serviceFactory:wo,value:Po};me.pop=Lo;me.clear=No;me.list=Kr;me.config={strict:!1};class at{constructor(){this._stack=[]}get stack(){return this._stack}use(r){if(typeof r!="function")throw new Error("Middleware must be a function.");return this._stack.push(r),this}go(...r){this.stack.forEach(t=>t(()=>{},...r))}}const Me={getModuleRoutes:qo,registerModule:$o,getModuleRegistry:Mo,getModuleByEntityName:zo,getModuleSnippets:Vo,getModuleByKey:Go},_e=new Map,Hi=new at;function Mo(){return _e.forEach((e,r)=>{var t;ee(e.manifest,"flag")&&!Shopware.Feature.isActive(((t=e==null?void 0:e.manifest)==null?void 0:t.flag)??"")&&_e.delete(r)}),_e}function $o(e,r){const t=r.type||"plugin";let n=new Map;if(!e)return!1;if(_e.has(e))return Ue("ModuleFactory",`A module with the identifier "${e}" is registered already. Abort registration.`,_e.get(e)),!1;const i=e.split("-");if(i.length<2||(ee(r,"display")||(r.display=!0),!r.display)||!ee(r,"routes")&&!r.routeMiddleware)return!1;if(ee(r,"routes")&&Object.keys(r.routes).forEach(o=>{let a=r.routes[o];const c=r.routePrefixName?r.routePrefixName:i.join(".");a.name=`${c}.${o}`;const h=r.routePrefixPath?r.routePrefixPath:i.join("/");if(a.coreRoute||(a.path=`/${h}/${a.path}`),a.type=t,a=Uo(a,e,r),!a)return;const l=a.children??{};if(ee(a,"children")&&Object.keys(l).length&&(a=Gi(a),n=Wi(a,n)),a.alias&&typeof a.alias=="string"&&a.alias.length>0&&!a.coreRoute){const f=r.routePrefixPath?r.routePrefixPath:i.join("/");a.alias=`/${f}/${a.alias}`}a.isChildren=!1,a.routeKey=o,n.set(a.name??"",a)}),r.routeMiddleware&&Ve.isFunction(r.routeMiddleware))Hi.use(r.routeMiddleware);else if(n.size===0)return Ue("ModuleFactory",`The module "${e}" was not registered cause it hasn't a valid route definition`,"Abort registration.",r.routes),!1;const s={routes:n,manifest:r,type:t};if(ee(r,"navigation")&&r.navigation){if(!Ve.isArray(r.navigation))return Ue("ModuleFactory","The route definition has to be an array.",r.navigation),!1;r.navigation=r.navigation.filter(o=>(o.moduleType=r.type,r.type==="plugin"&&!o.parent||!o.id&&!o.path&&!o.parent&&!o.link||!o.label||!o.label.length?!1:(r.type==="plugin"&&(o.position?o.position+=1e3:o.position=1e3),!0))),s.navigation=r.navigation}return ee(r,"settingsItem")&&r.settingsItem&&Ho(e,r),ee(r,"extensionEntryRoute")&&r.extensionEntryRoute&&Wo(r.extensionEntryRoute),_e.set(e,s),s}function Wi(e,r){return Object.values(e.children??{}).map(t=>(ee(t,"children")&&Object.keys(t.children??{}).length&&(r=Wi(t,r)),r.set(t.name??"",t),t)),r}function Gi(e){const r=e.children;return r&&(e.children=Object.entries(r).map(([t,n])=>(n.path&&n.path.length===0?n.path="":n.path=`${e.path}/${n.path}`,n.name=`${e.name??""}.${t}`,n.isChildren=!0,ee(n,"children")&&Object.keys(n.children??{}).length&&(n=Gi(n)),n))),e}function Uo(e,r,t){ee(t,"flag")&&(e.flag=t.flag),e.component&&(e.components={default:e.component},delete e.component);const n={},i=e.components??{};return Object.entries(i).forEach(([s,o])=>{o&&(n[s]=o)}),e.components=n,e}function qo(){const e=[];return _e.forEach(r=>{r.routes.forEach(t=>{ee(t,"flag")&&!Shopware.Feature.isActive(t.flag??"")||t.isChildren||(Hi.go(t),e.push(t))})}),e}function zo(e){return Array.from(_e.values()).find(r=>e===r.manifest.entity)}function Vo(){return Array.from(_e.values()).reduce((e,r)=>{const t=r.manifest;if(!ee(t,"snippets"))return e;const n=Object.keys(t.snippets??{});return n.length&&n.forEach(i=>{if(ee(e,i)||(e[i]={}),t.snippets){const s=t.snippets[i];e[i]=Ks(e[i],s)}}),e},{})}function Ho(e,r){ee(r,"flag")&&!Shopware.Feature.isActive(r.flag??"")||r.settingsItem&&(Array.isArray(r.settingsItem)||(r.settingsItem=[r.settingsItem]),r.settingsItem.forEach(t=>{t.group&&t.to&&(t.icon||t.iconComponent)&&((!ee(t,"id")||!t.id)&&(t.id=e),(!ee(t,"name")||!t.name)&&(t.name=r.name),(!ee(t,"label")||!t.label)&&(t.label=r.title),Shopware.Store.get("settingsItems").addItem(t))}))}function Wo(e){e.extensionName!=="string"&&e.route!=="string"&&Shopware.Store.get("extensionEntryRoutes").addItem(e)}function Go(e,r){return Array.from(_e.values()).find(t=>r===t.manifest[e])}var xt,an;function Jo(){return an||(an=1,xt=function(e){e.trace=!1,e.debug=!1,e.cache=!0,e.noop=function(){},e.merge=function(n,i,s){return Object.keys(i).forEach(o=>{s&&!(o in n)||(n[o]=i[o])}),n},e.Error=function(n,i){this.message=n,this.name="TwigException",this.type="TwigException",this.file=i},e.Error.prototype.toString=function(){return this.name+": "+this.message},e.log={trace(...n){e.trace&&console&&console.log(Array.prototype.slice.call(n))},debug(...n){e.debug&&console&&console.log(Array.prototype.slice.call(n))}},typeof console>"u"?e.log.error=function(){}:typeof console.error<"u"?e.log.error=function(...n){console.error(...n)}:typeof console.log<"u"&&(e.log.error=function(...n){console.log(...n)}),e.token={},e.token.type={output:"output",logic:"logic",comment:"comment",raw:"raw",outputWhitespacePre:"output_whitespace_pre",outputWhitespacePost:"output_whitespace_post",outputWhitespaceBoth:"output_whitespace_both",logicWhitespacePre:"logic_whitespace_pre",logicWhitespacePost:"logic_whitespace_post",logicWhitespaceBoth:"logic_whitespace_both"},e.token.definitions=[{type:e.token.type.raw,open:"{% raw %}",close:"{% endraw %}"},{type:e.token.type.raw,open:"{% verbatim %}",close:"{% endverbatim %}"},{type:e.token.type.outputWhitespacePre,open:"{{-",close:"}}"},{type:e.token.type.outputWhitespacePost,open:"{{",close:"-}}"},{type:e.token.type.outputWhitespaceBoth,open:"{{-",close:"-}}"},{type:e.token.type.logicWhitespacePre,open:"{%-",close:"%}"},{type:e.token.type.logicWhitespacePost,open:"{%",close:"-%}"},{type:e.token.type.logicWhitespaceBoth,open:"{%-",close:"-%}"},{type:e.token.type.output,open:"{{",close:"}}"},{type:e.token.type.logic,open:"{%",close:"%}"},{type:e.token.type.comment,open:"{#",close:"#}"}],e.token.strings=['"',"'"],e.token.findStart=function(n){const i={position:null,def:null};let s=null;const o=e.token.definitions.length;let a,c,h,l;for(a=0;a<o;a++)c=e.token.definitions[a],h=n.indexOf(c.open),l=n.indexOf(c.close),e.log.trace("Twig.token.findStart: ","Searching for ",c.open," found at ",h),!(h>=0&&c.open.length!==c.close.length&&l<0)&&(h>=0&&(i.position===null||h<i.position)?(i.position=h,i.def=c,s=l):h>=0&&i.position!==null&&h===i.position&&(c.open.length>i.def.open.length?(i.position=h,i.def=c,s=l):c.open.length===i.def.open.length&&(c.close.length>i.def.close.length,l>=0&&l<s&&(i.position=h,i.def=c,s=l))));return i},e.token.findEnd=function(n,i,s){let o=null,a=!1,c=0,h=null,l=null,f=null,y=null,m=null,x=null,v,A;for(;!a;){if(h=null,l=null,f=n.indexOf(i.close,c),f>=0)o=f,a=!0;else throw new e.Error("Unable to find closing bracket '"+i.close+"' opened near template position "+s);if(i.type===e.token.type.comment||i.type===e.token.type.raw)break;for(A=e.token.strings.length,v=0;v<A;v+=1)m=n.indexOf(e.token.strings[v],c),m>0&&m<f&&(h===null||m<h)&&(h=m,l=e.token.strings[v]);if(h!==null)for(y=h+1,o=null,a=!1;;){if(x=n.indexOf(l,y),x<0)throw e.Error("Unclosed string in template");if(n.slice(x-1,x)==="\\")y=x+1;else{c=x+1;break}}}return o},e.tokenize=function(n){const i=[];let s=0,o=null,a=null;for(;n.length>0;)if(o=e.token.findStart(n),e.log.trace("Twig.tokenize: ","Found token: ",o),o.position===null)i.push({type:e.token.type.raw,value:n,position:{start:s,end:s+o.position}}),n="";else{if(o.position>0&&i.push({type:e.token.type.raw,value:n.slice(0,Math.max(0,o.position)),position:{start:s,end:s+Math.max(0,o.position)}}),n=n.slice(o.position+o.def.open.length),s+=o.position+o.def.open.length,a=e.token.findEnd(n,o.def,s),e.log.trace("Twig.tokenize: ","Token ends at ",a),i.push({type:o.def.type,value:n.slice(0,Math.max(0,a)).trim(),position:{start:s-o.def.open.length,end:s+a+o.def.close.length}}),n.slice(a+o.def.close.length,a+o.def.close.length+1)===`
`)switch(o.def.type){case"logic_whitespace_pre":case"logic_whitespace_post":case"logic_whitespace_both":case"logic":a+=1;break}n=n.slice(a+o.def.close.length),s+=a+o.def.close.length}return i},e.compile=function(n){const i=this;try{const s=[],o=[];let a=[],c=null,h=null,l=null,f=null,y=null,m=null,x=null,v=null,A=null,B=null,M=null,U=null;const W=function(j){e.expression.compile.call(i,j),o.length>0?a.push(j):s.push(j)},F=function(j){if(h=e.logic.compile.call(i,j),h.position=j.position,B=h.type,M=e.logic.handler[B].open,U=e.logic.handler[B].next,e.log.trace("Twig.compile: ","Compiled logic token to ",h," next is: ",U," open is : ",M),M!==void 0&&!M){if(f=o.pop(),x=e.logic.handler[f.type],!x.next.includes(B))throw new Error(B+" not expected after a "+f.type);f.output=f.output||[],f.output=f.output.concat(a),a=[],A={type:e.token.type.logic,token:f,position:{open:f.position,close:j.position}},o.length>0?a.push(A):s.push(A)}U!==void 0&&U.length>0?(e.log.trace("Twig.compile: ","Pushing ",h," to logic stack."),o.length>0&&(f=o.pop(),f.output=f.output||[],f.output=f.output.concat(a),o.push(f),a=[]),o.push(h)):M!==void 0&&M&&(A={type:e.token.type.logic,token:h,position:h.position},o.length>0?a.push(A):s.push(A))};for(;n.length>0;){switch(c=n.shift(),y=s[s.length-1],m=a[a.length-1],v=n[0],e.log.trace("Compiling token ",c),c.type){case e.token.type.raw:o.length>0?a.push(c):s.push(c);break;case e.token.type.logic:F.call(i,c);break;case e.token.type.comment:break;case e.token.type.output:W.call(i,c);break;case e.token.type.logicWhitespacePre:case e.token.type.logicWhitespacePost:case e.token.type.logicWhitespaceBoth:case e.token.type.outputWhitespacePre:case e.token.type.outputWhitespacePost:case e.token.type.outputWhitespaceBoth:switch(c.type!==e.token.type.outputWhitespacePost&&c.type!==e.token.type.logicWhitespacePost&&(y&&y.type===e.token.type.raw&&(s.pop(),y.value=y.value.trimEnd(),s.push(y)),m&&m.type===e.token.type.raw&&(a.pop(),m.value=m.value.trimEnd(),a.push(m))),c.type){case e.token.type.outputWhitespacePre:case e.token.type.outputWhitespacePost:case e.token.type.outputWhitespaceBoth:W.call(i,c);break;case e.token.type.logicWhitespacePre:case e.token.type.logicWhitespacePost:case e.token.type.logicWhitespaceBoth:F.call(i,c);break;default:break}c.type!==e.token.type.outputWhitespacePre&&c.type!==e.token.type.logicWhitespacePre&&v&&v.type===e.token.type.raw&&(n.shift(),v.value=v.value.trimStart(),n.unshift(v));break;default:break}e.log.trace("Twig.compile: "," Output: ",s," Logic Stack: ",o," Pending Output: ",a)}if(o.length>0)throw l=o.pop(),new Error("Unable to find an end tag for "+l.type+", expecting one of "+l.next);return s}catch(s){if(i.options.rethrow)throw s.type==="TwigException"&&!s.file&&(s.file=i.id),s;e.log.error("Error compiling twig template "+i.id+": "),s.stack?e.log.error(s.stack):e.log.error(s.toString())}};function r(n,i){if(n.template.options.rethrow)throw typeof i=="string"&&(i=new e.Error(i)),i.type==="TwigException"&&!i.file&&(i.file=n.template.id),i;if(e.log.error("Error parsing twig template "+n.template.id+": "),i.stack?e.log.error(i.stack):e.log.error(i.toString()),e.debug)return i.toString()}e.prepare=function(n){e.log.debug("Twig.prepare: ","Tokenizing ",n);const i=e.tokenize.call(this,n);e.log.debug("Twig.prepare: ","Compiling ",i);const s=e.compile.call(this,i);return e.log.debug("Twig.prepare: ","Compiled ",s),s},e.output=function(n){const{autoescape:i}=this.options;if(!i)return n.join("");const s=typeof i=="string"?i:"html",o=n.map(c=>(c&&c.twigMarkup!==!0&&c.twigMarkup!==s&&!(s==="html"&&c.twigMarkup==="html_attr")&&(c=e.filters.escape(c,[s])),c));if(o.length===0)return"";const a=o.join("");return a.length===0?"":new e.Markup(a,!0)},e.Templates={loaders:{},parsers:{},registry:{}},e.validateId=function(n){if(n==="prototype")throw new e.Error(n+" is not a valid twig identifier");if(e.cache&&Object.hasOwnProperty.call(e.Templates.registry,n))throw new e.Error("There is already a template with the ID "+n);return!0},e.Templates.registerLoader=function(n,i,s){if(typeof i!="function")throw new e.Error("Unable to add loader for "+n+": Invalid function reference given.");s&&(i=i.bind(s)),this.loaders[n]=i},e.Templates.unRegisterLoader=function(n){this.isRegisteredLoader(n)&&delete this.loaders[n]},e.Templates.isRegisteredLoader=function(n){return Object.hasOwnProperty.call(this.loaders,n)},e.Templates.registerParser=function(n,i,s){if(typeof i!="function")throw new e.Error("Unable to add parser for "+n+": Invalid function regerence given.");s&&(i=i.bind(s)),this.parsers[n]=i},e.Templates.unRegisterParser=function(n){this.isRegisteredParser(n)&&delete this.parsers[n]},e.Templates.isRegisteredParser=function(n){return Object.hasOwnProperty.call(this.parsers,n)},e.Templates.save=function(n){if(n.id===void 0)throw new e.Error("Unable to save template with no id");e.Templates.registry[n.id]=n},e.Templates.load=function(n){return Object.hasOwnProperty.call(e.Templates.registry,n)?e.Templates.registry[n]:null},e.Templates.loadRemote=function(n,i,s,o){const a=typeof i.id>"u"?n:i.id,c=e.Templates.registry[a];return e.cache&&typeof c<"u"?(typeof s=="function"&&s(c),c):(i.parser=i.parser||"twig",i.id=a,typeof i.async>"u"&&(i.async=!0),(this.loaders[i.method]||this.loaders.fs).call(this,n,i,s,o))};function t(n,i){const s=Object.prototype.toString.call(i).slice(8,-1);return i!=null&&s===n}return e.Block=function(n,i){this.template=n,this.token=i},e.Block.prototype.render=function(n,i){const s=n.template;let o;return n.template=this.template,this.token.expression?o=e.expression.parseAsync.call(n,this.token.output,i):o=n.parseAsync(this.token.output,i),o.then(a=>e.expression.parseAsync.call(n,{type:e.expression.type.string,value:a},i)).then(a=>(n.template=s,a))},e.ParseState=function(n,i,s){this.renderedBlocks={},this.overrideBlocks=i===void 0?{}:i,this.context=s===void 0?{}:s,this.macros={},this.nestingStack=[],this.template=n},e.ParseState.prototype.getBlock=function(n,i){let s;return i!==!0&&(s=this.overrideBlocks[n]),s===void 0&&(s=this.template.getBlock(n,i)),s===void 0&&this.template.parentTemplate!==null&&(s=this.template.parentTemplate.getBlock(n)),s},e.ParseState.prototype.getBlocks=function(n){let i={};return n!==!1&&this.template.parentTemplate!==null&&this.template.parentTemplate!==this.template&&(i=this.template.parentTemplate.getBlocks()),i={...i,...this.template.getBlocks(),...this.overrideBlocks},i},e.ParseState.prototype.getNestingStackToken=function(n){let i;return this.nestingStack.forEach(s=>{i===void 0&&s.type===n&&(i=s)}),i},e.ParseState.prototype.parse=function(n,i,s){const o=this;let a=[],c=null,h=!0,l=null,f=!0;i&&(o.context=i);function y(x){a.push(x)}function m(x){typeof x.chain<"u"&&(f=x.chain),typeof x.context<"u"&&(o.context=x.context),typeof x.output<"u"&&a.push(x.output)}if(l=e.async.forEach(n,x=>{switch(e.log.debug("Twig.ParseState.parse: ","Parsing token: ",x),x.type){case e.token.type.raw:a.push(e.filters.raw(x.value));break;case e.token.type.logic:return e.logic.parseAsync.call(o,x.token,o.context,f).then(m);case e.token.type.comment:break;case e.token.type.outputWhitespacePre:case e.token.type.outputWhitespacePost:case e.token.type.outputWhitespaceBoth:case e.token.type.output:return e.log.debug("Twig.ParseState.parse: ","Output token: ",x.stack),e.expression.parseAsync.call(o,x.stack,o.context).then(y)}}).then(()=>(a=e.output.call(o.template,a),h=!1,a)).catch(x=>{s&&r(o,x),c=x}),s)return l;if(c!==null)return r(o,c);if(h)throw new e.Error("You are using Twig.js in sync mode in combination with async extensions.");return a},e.Template=function(n){const{data:i,id:s,base:o,path:a,url:c,name:h,method:l,options:f}=n;this.base=o,this.blocks={defined:{},imported:{}},this.id=s,this.method=l,this.name=h,this.options=f,this.parentTemplate=null,this.path=a,this.url=c,t("String",i)?this.tokens=e.prepare.call(this,i):this.tokens=i,s!==void 0&&e.Templates.save(this)},e.Template.prototype.getBlock=function(n,i,s=!0){let o;return i!==!0&&(o=this.blocks.defined[n]),s&&o===void 0&&(o=this.blocks.imported[n]),o===void 0&&this.parentTemplate!==null&&(o=this.parentTemplate.getBlock(n,i,s=!1)),o},e.Template.prototype.getBlocks=function(){let n={};return n={...n,...this.blocks.imported,...this.blocks.defined},n},e.Template.prototype.render=function(n,i,s){const o=this;return i=i||{},e.async.potentiallyAsync(o,s,()=>{const a=new e.ParseState(o,i.blocks,n);return a.parseAsync(o.tokens).then(c=>{let h,l;return o.parentTemplate!==null?(o.options.allowInlineIncludes&&(h=e.Templates.load(o.parentTemplate),h&&(h.options=o.options)),h||(l=e.path.parsePath(o,o.parentTemplate),h=e.Templates.loadRemote(l,{method:o.getLoaderMethod(),base:o.base,async:!1,id:l,options:o.options})),o.parentTemplate=h,o.parentTemplate.renderAsync(a.context,{blocks:a.getBlocks(!1),isInclude:!0})):i.isInclude===!0?c:c.valueOf()})})},e.Template.prototype.importFile=function(n){let i=null,s;if(!this.url&&this.options.allowInlineIncludes){if(n=this.path?e.path.parsePath(this,n):n,s=e.Templates.load(n),!s&&(s=e.Templates.loadRemote(i,{id:n,method:this.getLoaderMethod(),async:!1,path:n,options:this.options}),!s))throw new e.Error("Unable to find the template "+n);return s.options=this.options,s}return i=e.path.parsePath(this,n),s=e.Templates.loadRemote(i,{method:this.getLoaderMethod(),base:this.base,async:!1,options:this.options,id:i}),s},e.Template.prototype.getLoaderMethod=function(){return this.path?"fs":this.url?"ajax":this.method||"fs"},e.Template.prototype.compile=function(n){return e.compiler.compile(this,n)},e.Markup=function(n,i){if(typeof n!="string")return n;const s=new String(n);return s.twigMarkup=typeof i>"u"?!0:i,s},e}),xt}var bt,cn;function Yo(){return cn||(cn=1,bt=function(e){return e.compiler={module:{}},e.compiler.compile=function(r,t){const n=JSON.stringify(r.tokens),{id:i}=r;let s=null;if(t.module){if(e.compiler.module[t.module]===void 0)throw new e.Error("Unable to find module type "+t.module);s=e.compiler.module[t.module](i,n,t.twig)}else s=e.compiler.wrap(i,n);return s},e.compiler.module={amd(r,t,n){return'define(["'+n+`"], function (Twig) {
	var twig, templates;
twig = Twig.twig;
templates = `+e.compiler.wrap(r,t)+`
	return templates;
});`},node(r,t){return`var twig = require("twig").twig;
exports.template = `+e.compiler.wrap(r,t)},cjs2(r,t,n){return'module.declare([{ twig: "'+n+`" }], function (require, exports, module) {
	var twig = require("twig").twig;
	exports.template = `+e.compiler.wrap(r,t)+`
});`}},e.compiler.wrap=function(r,t){return'twig({id:"'+r.replace('"','\\"')+'", data:'+t+`, precompiled: true});
`},e}),bt}var vt,un;function Ko(){return un||(un=1,vt=function(e){e.expression.operator={leftToRight:"leftToRight",rightToLeft:"rightToLeft"};const r=function(t,n){if(n==null)return null;if(n.indexOf!==void 0)return(t===n||t!=="")&&n.includes(t);let i;for(i in n)if(Object.hasOwnProperty.call(n,i)&&n[i]===t)return!0;return!1};return e.expression.operator.lookup=function(t,n){switch(t){case"..":n.precidence=20,n.associativity=e.expression.operator.leftToRight;break;case",":n.precidence=18,n.associativity=e.expression.operator.leftToRight;break;case"?:":case"?":case":":n.precidence=16,n.associativity=e.expression.operator.rightToLeft;break;case"??":n.precidence=15,n.associativity=e.expression.operator.rightToLeft;break;case"or":n.precidence=14,n.associativity=e.expression.operator.leftToRight;break;case"and":n.precidence=13,n.associativity=e.expression.operator.leftToRight;break;case"b-or":n.precidence=12,n.associativity=e.expression.operator.leftToRight;break;case"b-xor":n.precidence=11,n.associativity=e.expression.operator.leftToRight;break;case"b-and":n.precidence=10,n.associativity=e.expression.operator.leftToRight;break;case"==":case"!=":n.precidence=9,n.associativity=e.expression.operator.leftToRight;break;case"<=>":n.precidence=9,n.associativity=e.expression.operator.leftToRight;break;case"<":case"<=":case">":case">=":case"not in":case"in":n.precidence=8,n.associativity=e.expression.operator.leftToRight;break;case"~":case"+":case"-":n.precidence=6,n.associativity=e.expression.operator.leftToRight;break;case"//":case"**":case"*":case"/":case"%":n.precidence=5,n.associativity=e.expression.operator.leftToRight;break;case"not":n.precidence=3,n.associativity=e.expression.operator.rightToLeft;break;case"matches":n.precidence=8,n.associativity=e.expression.operator.leftToRight;break;case"starts with":n.precidence=8,n.associativity=e.expression.operator.leftToRight;break;case"ends with":n.precidence=8,n.associativity=e.expression.operator.leftToRight;break;default:throw new e.Error("Failed to lookup operator: "+t+" is an unknown operator.")}return n.operator=t,n},e.expression.operator.parse=function(t,n){e.log.trace("Twig.expression.operator.parse: ","Handling ",t);let i,s,o;if(t==="?"&&(o=n.pop()),s=n.pop(),t!=="not"&&(i=n.pop()),t!=="in"&&t!=="not in"&&t!=="??"&&(i&&Array.isArray(i)&&(i=i.length),t!=="?"&&s&&Array.isArray(s)&&(s=s.length)),t==="matches"&&s&&typeof s=="string"){const a=s.match(/^\/(.*)\/([gims]?)$/),c=a[1],h=a[2];s=new RegExp(c,h)}switch(t){case":":break;case"??":i===void 0&&(i=s,s=o,o=void 0),i!=null?n.push(i):n.push(s);break;case"?:":e.lib.boolval(i)?n.push(i):n.push(s);break;case"?":i===void 0&&(i=s,s=o,o=void 0),e.lib.boolval(i)?n.push(s):n.push(o);break;case"+":s=parseFloat(s),i=parseFloat(i),n.push(i+s);break;case"-":s=parseFloat(s),i=parseFloat(i),n.push(i-s);break;case"*":s=parseFloat(s),i=parseFloat(i),n.push(i*s);break;case"/":s=parseFloat(s),i=parseFloat(i),n.push(i/s);break;case"//":s=parseFloat(s),i=parseFloat(i),n.push(Math.floor(i/s));break;case"%":s=parseFloat(s),i=parseFloat(i),n.push(i%s);break;case"~":n.push((typeof i<"u"&&i!==null?i.toString():"")+(typeof s<"u"&&s!==null?s.toString():""));break;case"not":case"!":n.push(!e.lib.boolval(s));break;case"<=>":n.push(i===s?0:i<s?-1:1);break;case"<":n.push(i<s);break;case"<=":n.push(i<=s);break;case">":n.push(i>s);break;case">=":n.push(i>=s);break;case"===":n.push(i===s);break;case"==":n.push(i==s);break;case"!==":n.push(i!==s);break;case"!=":n.push(i!=s);break;case"or":n.push(e.lib.boolval(i)||e.lib.boolval(s));break;case"b-or":n.push(i|s);break;case"b-xor":n.push(i^s);break;case"and":n.push(e.lib.boolval(i)&&e.lib.boolval(s));break;case"b-and":n.push(i&s);break;case"**":n.push(i**s);break;case"not in":n.push(!r(i,s));break;case"in":n.push(r(i,s));break;case"matches":n.push(s.test(i));break;case"starts with":n.push(typeof i=="string"&&i.indexOf(s)===0);break;case"ends with":n.push(typeof i=="string"&&i.includes(s,i.length-s.length));break;case"..":n.push(e.functions.range(i,s));break;default:throw new e.Error("Failed to parse operator: "+t+" is an unknown operator.")}},e}),vt}var Et,ln;function Xo(){return ln||(ln=1,Et=function(e){function r(t,n,i){return n?e.expression.parseAsync.call(t,n,i):e.Promise.resolve(!1)}for(e.expression={},Ko()(e),e.expression.reservedWords=["true","false","null","TRUE","FALSE","NULL","_context","and","b-and","or","b-or","b-xor","in","not in","if","matches","starts","ends","with"],e.expression.type={comma:"Twig.expression.type.comma",operator:{unary:"Twig.expression.type.operator.unary",binary:"Twig.expression.type.operator.binary"},string:"Twig.expression.type.string",bool:"Twig.expression.type.bool",slice:"Twig.expression.type.slice",array:{start:"Twig.expression.type.array.start",end:"Twig.expression.type.array.end"},object:{start:"Twig.expression.type.object.start",end:"Twig.expression.type.object.end"},parameter:{start:"Twig.expression.type.parameter.start",end:"Twig.expression.type.parameter.end"},subexpression:{start:"Twig.expression.type.subexpression.start",end:"Twig.expression.type.subexpression.end"},key:{period:"Twig.expression.type.key.period",brackets:"Twig.expression.type.key.brackets"},filter:"Twig.expression.type.filter",_function:"Twig.expression.type._function",variable:"Twig.expression.type.variable",number:"Twig.expression.type.number",_null:"Twig.expression.type.null",context:"Twig.expression.type.context",test:"Twig.expression.type.test"},e.expression.set={operations:[e.expression.type.filter,e.expression.type.operator.unary,e.expression.type.operator.binary,e.expression.type.array.end,e.expression.type.object.end,e.expression.type.parameter.end,e.expression.type.subexpression.end,e.expression.type.comma,e.expression.type.test],expressions:[e.expression.type._function,e.expression.type.bool,e.expression.type.string,e.expression.type.variable,e.expression.type.number,e.expression.type._null,e.expression.type.context,e.expression.type.parameter.start,e.expression.type.array.start,e.expression.type.object.start,e.expression.type.subexpression.start,e.expression.type.operator.unary]},e.expression.set.operationsExtended=e.expression.set.operations.concat([e.expression.type.key.period,e.expression.type.key.brackets,e.expression.type.slice]),e.expression.fn={compile:{push(t,n,i){i.push(t)},pushBoth(t,n,i){i.push(t),n.push(t)}},parse:{push(t,n){n.push(t)},pushValue(t,n){n.push(t.value)}}},e.expression.definitions=[{type:e.expression.type.test,regex:/^is\s+(not)?\s*([a-zA-Z_]\w*(\s?(?:as|by))?)/,next:e.expression.set.operations.concat([e.expression.type.parameter.start]),compile(t,n,i){t.filter=t.match[2],t.modifier=t.match[1],delete t.match,delete t.value,i.push(t)},parse(t,n,i){const s=n.pop();return r(this,t.params,i).then(a=>{const c=e.test(t.filter,s,a);t.modifier==="not"?n.push(!c):n.push(c)})}},{type:e.expression.type.comma,regex:/^,/,next:e.expression.set.expressions.concat([e.expression.type.array.end,e.expression.type.object.end]),compile(t,n,i){let s=n.length-1,o;for(delete t.match,delete t.value;s>=0;s--){if(o=n.pop(),o.type===e.expression.type.object.start||o.type===e.expression.type.parameter.start||o.type===e.expression.type.array.start){n.push(o);break}i.push(o)}i.push(t)}},{type:e.expression.type.number,regex:/^-?\d+(\.\d+)?/,next:e.expression.set.operations,compile(t,n,i){t.value=Number(t.value),i.push(t)},parse:e.expression.fn.parse.pushValue},{type:e.expression.type.operator.binary,regex:/(^\?\?|^\?:|^(b-and)|^(b-or)|^(b-xor)|^[+\-~%?]|^(<=>)|^[:](?!\d\])|^[!=]==?|^[!<>]=?|^\*\*?|^\/\/?|^(and)[(|\s+]|^(or)[(|\s+]|^(in)[(|\s+]|^(not in)[(|\s+]|^(matches)|^(starts with)|^(ends with)|^\.\.)/,next:e.expression.set.expressions,transform(t,n){switch(t[0]){case"and(":case"or(":case"in(":case"not in(":return n[n.length-1].value=t[2],t[0];default:return""}},compile(t,n,i){delete t.match,t.value=t.value.trim();const{value:s}=t,o=e.expression.operator.lookup(s,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",o," from ",s);n.length>0&&(n[n.length-1].type===e.expression.type.operator.unary||n[n.length-1].type===e.expression.type.operator.binary)&&(o.associativity===e.expression.operator.leftToRight&&o.precidence>=n[n.length-1].precidence||o.associativity===e.expression.operator.rightToLeft&&o.precidence>n[n.length-1].precidence);){const a=n.pop();i.push(a)}if(s===":"){if(!(n[n.length-1]&&n[n.length-1].value==="?")){const a=i.pop();if(a.type===e.expression.type.string||a.type===e.expression.type.variable)t.key=a.value;else if(a.type===e.expression.type.number)t.key=a.value.toString();else if(a.expression&&(a.type===e.expression.type.parameter.end||a.type===e.expression.type.subexpression.end))t.params=a.params;else throw new e.Error("Unexpected value before ':' of "+a.type+" = "+a.value);i.push(t)}}else n.push(o)},parse(t,n,i){const s=this;if(t.key)n.push(t);else{if(t.params)return e.expression.parseAsync.call(s,t.params,i).then(o=>{t.key=o,n.push(t),i.loop||delete t.params});e.expression.operator.parse(t.value,n)}}},{type:e.expression.type.operator.unary,regex:/(^not\s+)/,next:e.expression.set.expressions,compile(t,n,i){delete t.match,t.value=t.value.trim();const{value:s}=t,o=e.expression.operator.lookup(s,t);for(e.log.trace("Twig.expression.compile: ","Operator: ",o," from ",s);n.length>0&&(n[n.length-1].type===e.expression.type.operator.unary||n[n.length-1].type===e.expression.type.operator.binary)&&(o.associativity===e.expression.operator.leftToRight&&o.precidence>=n[n.length-1].precidence||o.associativity===e.expression.operator.rightToLeft&&o.precidence>n[n.length-1].precidence);){const a=n.pop();i.push(a)}n.push(o)},parse(t,n){e.expression.operator.parse(t.value,n)}},{type:e.expression.type.string,regex:/^(["'])(?:(?=(\\?))\2[\s\S])*?\1/,next:e.expression.set.operationsExtended,compile(t,n,i){let{value:s}=t;delete t.match,s.slice(0,1)==='"'?s=s.replace('\\"','"'):s=s.replace("\\'","'"),t.value=s.slice(1,-1).replace(/\\n/g,`
`).replace(/\\r/g,"\r"),e.log.trace("Twig.expression.compile: ","String value: ",t.value),i.push(t)},parse:e.expression.fn.parse.pushValue},{type:e.expression.type.subexpression.start,regex:/^\(/,next:e.expression.set.expressions.concat([e.expression.type.subexpression.end]),compile(t,n,i){t.value="(",i.push(t),n.push(t)},parse:e.expression.fn.parse.push},{type:e.expression.type.subexpression.end,regex:/^\)/,next:e.expression.set.operationsExtended,validate(t,n){let i=n.length-1,s=!1,o=!1,a=0;for(;!s&&i>=0;){const c=n[i];s=c.type===e.expression.type.subexpression.start,s&&o&&(o=!1,s=!1),c.type===e.expression.type.parameter.start?a++:c.type===e.expression.type.parameter.end?a--:c.type===e.expression.type.subexpression.end&&(o=!0),i--}return s&&a===0},compile(t,n,i){let s;const o=t;for(s=n.pop();n.length>0&&s.type!==e.expression.type.subexpression.start;)i.push(s),s=n.pop();const a=[];for(;t.type!==e.expression.type.subexpression.start;)a.unshift(t),t=i.pop();a.unshift(t),s=n[n.length-1],s===void 0||s.type!==e.expression.type._function&&s.type!==e.expression.type.filter&&s.type!==e.expression.type.test&&s.type!==e.expression.type.key.brackets?(o.expression=!0,a.pop(),a.shift(),o.params=a,i.push(o)):(o.expression=!1,s.params=a)},parse(t,n,i){const s=this;if(t.expression)return e.expression.parseAsync.call(s,t.params,i).then(o=>{n.push(o)});throw new e.Error("Unexpected subexpression end when token is not marked as an expression")}},{type:e.expression.type.parameter.start,regex:/^\(/,next:e.expression.set.expressions.concat([e.expression.type.parameter.end]),validate(t,n){const i=n[n.length-1];return i&&!e.expression.reservedWords.includes(i.value.trim())},compile:e.expression.fn.compile.pushBoth,parse:e.expression.fn.parse.push},{type:e.expression.type.parameter.end,regex:/^\)/,next:e.expression.set.operationsExtended,compile(t,n,i){let s;const o=t;for(s=n.pop();n.length>0&&s.type!==e.expression.type.parameter.start;)i.push(s),s=n.pop();const a=[];for(;t.type!==e.expression.type.parameter.start;)a.unshift(t),t=i.pop();a.unshift(t),t=i[i.length-1],t===void 0||t.type!==e.expression.type._function&&t.type!==e.expression.type.filter&&t.type!==e.expression.type.test&&t.type!==e.expression.type.key.brackets?(o.expression=!0,a.pop(),a.shift(),o.params=a,i.push(o)):(o.expression=!1,t.params=a)},parse(t,n,i){const s=[];let o=!1,a=null;const c=this;if(t.expression)return e.expression.parseAsync.call(c,t.params,i).then(h=>{n.push(h)});for(;n.length>0;){if(a=n.pop(),a&&a.type&&a.type===e.expression.type.parameter.start){o=!0;break}s.unshift(a)}if(!o)throw new e.Error("Expected end of parameter set.");n.push(s)}},{type:e.expression.type.slice,regex:/^\[(-?\w*:-?\w*)\]/,next:e.expression.set.operationsExtended,compile(t,n,i){const s=t.match[1].split(":"),o=s[0],a=s[1];t.value="slice",t.params=[o,a],a||(t.params=[o]),i.push(t)},parse(t,n,i){const s=n.pop();let{params:o}=t;const a=this;if(parseInt(o[0],10).toString()===o[0])o[0]=parseInt(o[0],10);else{const c=i[o[0]];if(a.template.options.strictVariables&&c===void 0)throw new e.Error('Variable "'+o[0]+'" does not exist.');o[0]=c}if(o[1])if(parseInt(o[1],10).toString()===o[1])o[1]=parseInt(o[1],10);else{const c=i[o[1]];if(a.template.options.strictVariables&&c===void 0)throw new e.Error('Variable "'+o[1]+'" does not exist.');c===void 0?o=[o[0]]:o[1]=c}n.push(e.filter.call(a,t.value,s,o))}},{type:e.expression.type.array.start,regex:/^\[/,next:e.expression.set.expressions.concat([e.expression.type.array.end]),compile:e.expression.fn.compile.pushBoth,parse:e.expression.fn.parse.push},{type:e.expression.type.array.end,regex:/^\]/,next:e.expression.set.operationsExtended,compile(t,n,i){let s=n.length-1,o;for(;s>=0&&(o=n.pop(),o.type!==e.expression.type.array.start);s--)i.push(o);i.push(t)},parse(t,n){const i=[];let s=!1,o=null;for(;n.length>0;){if(o=n.pop(),o&&o.type&&o.type===e.expression.type.array.start){s=!0;break}i.unshift(o)}if(!s)throw new e.Error("Expected end of array.");n.push(i)}},{type:e.expression.type.object.start,regex:/^\{/,next:e.expression.set.expressions.concat([e.expression.type.object.end]),compile:e.expression.fn.compile.pushBoth,parse:e.expression.fn.parse.push},{type:e.expression.type.object.end,regex:/^\}/,next:e.expression.set.operationsExtended,compile(t,n,i){let s=n.length-1,o;for(;s>=0&&(o=n.pop(),!(o&&o.type===e.expression.type.object.start));s--)i.push(o);i.push(t)},parse(t,n){const i={};let s=!1,o=null,a=!1,c=null;for(;n.length>0;){if(o=n.pop(),o&&o.type&&o.type===e.expression.type.object.start){s=!0;break}if(o&&o.type&&(o.type===e.expression.type.operator.binary||o.type===e.expression.type.operator.unary)&&o.key){if(!a)throw new e.Error("Missing value for key '"+o.key+"' in object definition.");i[o.key]=c,i._keys===void 0&&(i._keys=[]),i._keys.unshift(o.key),c=null,a=!1}else a=!0,c=o}if(!s)throw new e.Error("Unexpected end of object.");n.push(i)}},{type:e.expression.type.filter,regex:/^\|\s?([a-zA-Z_][a-zA-Z0-9_-]*)/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile(t,n,i){t.value=t.match[1],i.push(t)},parse(t,n,i){const s=n.pop(),o=this;return r(o,t.params,i).then(a=>e.filter.call(o,t.value,s,a)).then(a=>{n.push(a)})}},{type:e.expression.type._function,regex:/^([a-zA-Z_]\w*)\s*\(/,next:e.expression.type.parameter.start,validate(t){return t[1]&&!e.expression.reservedWords.includes(t[1])},transform(){return"("},compile(t,n,i){const s=t.match[1];t.fn=s,delete t.match,delete t.value,i.push(t)},parse(t,n,i){const s=this,{fn:o}=t;let a;return r(s,t.params,i).then(c=>{if(e.functions[o])a=e.functions[o].apply(s,c);else if(typeof i[o]=="function")a=i[o](...c);else throw new e.Error(o+" function does not exist and is not defined in the context");return a}).then(c=>{n.push(c)})}},{type:e.expression.type.variable,regex:/^[a-zA-Z_]\w*/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,validate(t){return!e.expression.reservedWords.includes(t[0])},parse(t,n,i){const s=this;return e.expression.resolveAsync.call(s,i[t.value],i).then(o=>{if(s.template.options.strictVariables&&o===void 0)throw new e.Error('Variable "'+t.value+'" does not exist.');n.push(o)})}},{type:e.expression.type.key.period,regex:/^\.(\w+)/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile(t,n,i){t.key=t.match[1],delete t.match,delete t.value,i.push(t)},parse(t,n,i,s){const o=this,{key:a}=t,c=n.pop();let h;if(c&&!Object.prototype.hasOwnProperty.call(c,a)&&o.template.options.strictVariables)throw Object.keys(c).length>0?new e.Error('Key "'+a+'" for object with keys "'+Object.keys(c).join(", ")+'" does not exist.'):new e.Error('Key "'+a+'" does not exist as the object is empty.');return r(o,t.params,i).then(l=>{if(c==null)h=void 0;else{const f=function(y){return y.slice(0,1).toUpperCase()+y.slice(1)};typeof c=="object"&&a in c?h=c[a]:c["get"+f(a)]?h=c["get"+f(a)]:c["is"+f(a)]?h=c["is"+f(a)]:h=void 0}return e.expression.resolveAsync.call(o,h,i,l,s,c)}).then(l=>{n.push(l)})}},{type:e.expression.type.key.brackets,regex:/^\[([^\]]*)\]/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile(t,n,i){const s=t.match[1];delete t.value,delete t.match,t.stack=e.expression.compile({value:s}).stack,i.push(t)},parse(t,n,i,s){const o=this;let a=null,c,h;return r(o,t.params,i).then(l=>(a=l,e.expression.parseAsync.call(o,t.stack,i))).then(l=>{if(c=n.pop(),c&&!Object.prototype.hasOwnProperty.call(c,l)&&o.template.options.strictVariables){const f=Object.keys(c);throw f.length>0?new e.Error('Key "'+l+'" for array with keys "'+f.join(", ")+'" does not exist.'):new e.Error('Key "'+l+'" does not exist as the array is empty.')}else if(c==null)return null;return typeof c=="object"&&l in c?h=c[l]:h=null,e.expression.resolveAsync.call(o,h,c,a,s)}).then(l=>{n.push(l)})}},{type:e.expression.type._null,regex:/^(null|NULL|none|NONE)/,next:e.expression.set.operations,compile(t,n,i){delete t.match,t.value=null,i.push(t)},parse:e.expression.fn.parse.pushValue},{type:e.expression.type.context,regex:/^_context/,next:e.expression.set.operationsExtended.concat([e.expression.type.parameter.start]),compile:e.expression.fn.compile.push,parse(t,n,i){n.push(i)}},{type:e.expression.type.bool,regex:/^(true|TRUE|false|FALSE)/,next:e.expression.set.operations,compile(t,n,i){t.value=t.match[0].toLowerCase()==="true",delete t.match,i.push(t)},parse:e.expression.fn.parse.pushValue}],e.expression.resolveAsync=function(t,n,i,s,o){const a=this;if(typeof t!="function")return e.Promise.resolve(t);let c=e.Promise.resolve(i);return s&&s.type===e.expression.type.parameter.end&&(c=c.then(()=>s.params&&e.expression.parseAsync.call(a,s.params,n,!0)).then(l=>(s.cleanup=!0,l))),c.then(h=>t.apply(o||n,h||[]))},e.expression.resolve=function(t,n,i,s,o){return e.async.potentiallyAsync(this,!1,function(){return e.expression.resolveAsync.call(this,t,n,i,s,o)})},e.expression.handler={},e.expression.extendType=function(t){e.expression.type[t]="Twig.expression.type."+t},e.expression.extend=function(t){if(!t.type)throw new e.Error("Unable to extend logic definition. No type provided for "+t);e.expression.handler[t.type]=t};e.expression.definitions.length>0;)e.expression.extend(e.expression.definitions.shift());return e.expression.tokenize=function(t){let n=t.value;const i=[];let s=0,o=null,a,c,h,l,f,y=[];const m=function(...x){let v=arguments.length-2;const A=new Array(v);for(;v-- >0;)A[v]=x[v];if(e.log.trace("Twig.expression.tokenize","Matched a ",a," regular expression of ",A),o&&!o.includes(a))return y.push(a+" cannot follow a "+i[i.length-1].type+" at template:"+s+" near '"+A[0].slice(0,20)+"...'"),A[0];const B=e.expression.handler[a];if(B.validate&&!B.validate(A,i))return A[0];y=[];const M={type:a,value:A[0],match:A};return t.position&&(M.position=t.position),i.push(M),f=!0,o=l,s+=A[0].length,B.transform?B.transform(A,i):""};for(e.log.debug("Twig.expression.tokenize","Tokenizing expression ",n);n.length>0;){n=n.trim();for(a in e.expression.handler)if(Object.hasOwnProperty.call(e.expression.handler,a)){if(l=e.expression.handler[a].next,c=e.expression.handler[a].regex,e.log.trace("Checking type ",a," on ",n),f=!1,Array.isArray(c))for(h=c.length;h-- >0;)n=n.replace(c[h],m);else n=n.replace(c,m);if(f)break}if(!f)throw y.length>0?new e.Error(y.join(" OR ")):new e.Error("Unable to parse '"+n+"' at template position"+s)}return e.log.trace("Twig.expression.tokenize","Tokenized to ",i),i},e.expression.compile=function(t){const n=e.expression.tokenize(t);let i=null;const s=[],o=[];let a=null;for(e.log.trace("Twig.expression.compile: ","Compiling ",t.value);n.length>0;)i=n.shift(),a=e.expression.handler[i.type],e.log.trace("Twig.expression.compile: ","Compiling ",i),a.compile(i,o,s),e.log.trace("Twig.expression.compile: ","Stack is",o),e.log.trace("Twig.expression.compile: ","Output is",s);for(;o.length>0;)s.push(o.pop());return e.log.trace("Twig.expression.compile: ","Final output is",s),t.stack=s,delete t.value,t},e.expression.parse=function(t,n,i,s){const o=this;Array.isArray(t)||(t=[t]);const a=[],c=[],h=e.expression.type.operator.binary;return e.async.potentiallyAsync(o,s,()=>e.async.forEach(t,(l,f)=>{let y=null,m=null,x;if(!l.cleanup)return t.length>f+1&&(m=t[f+1]),y=e.expression.handler[l.type],y.parse&&(x=y.parse.call(o,l,a,n,m)),l.type===h&&n.loop&&c.push(l),x}).then(()=>{let l=c.length,f=null;for(;l-- >0;)f=c[l],f.params&&f.key&&delete f.key;if(i){const y=a.splice(0);a.push(y)}return a.pop()}))},e}),Et}var _t,pn;function To(){return pn||(pn=1,_t=function(e){function r(t,n){const i=Object.prototype.toString.call(n).slice(8,-1);return n!=null&&i===t}return e.filters={upper(t){return typeof t!="string"?t:t.toUpperCase()},lower(t){return typeof t!="string"?t:t.toLowerCase()},capitalize(t){return typeof t!="string"?t:t.slice(0,1).toUpperCase()+t.toLowerCase().slice(1)},title(t){return typeof t!="string"?t:t.toLowerCase().replace(/(^|\s)([a-z])/g,(n,i,s)=>i+s.toUpperCase())},length(t){return e.lib.is("Array",t)||typeof t=="string"?t.length:e.lib.is("Object",t)?t._keys===void 0?Object.keys(t).length:t._keys.length:0},reverse(t){if(r("Array",t))return t.reverse();if(r("String",t))return t.split("").reverse().join("");if(r("Object",t)){const n=t._keys||Object.keys(t).reverse();return t._keys=n,t}},sort(t){if(r("Array",t))return t.sort();if(r("Object",t)){delete t._keys;const i=Object.keys(t).sort((s,o)=>{let a,c;return t[s]>t[o]==!(t[s]<=t[o])?t[s]>t[o]?1:t[s]<t[o]?-1:0:!isNaN(a=parseFloat(t[s]))&&!isNaN(c=parseFloat(t[o]))?a>c?1:a<c?-1:0:typeof t[s]=="string"?t[s]>t[o].toString()?1:t[s]<t[o].toString()?-1:0:typeof t[o]=="string"?t[s].toString()>t[o]?1:t[s].toString()<t[o]?-1:0:null});return t._keys=i,t}},keys(t){if(t==null)return;const n=t._keys||Object.keys(t),i=[];return n.forEach(s=>{s!=="_keys"&&Object.hasOwnProperty.call(t,s)&&i.push(s)}),i},url_encode(t){if(t==null)return;if(e.lib.is("Object",t)){const i=function(s,o){const a=[];return(s._keys||Object.keys(s)).forEach(h=>{if(!Object.prototype.hasOwnProperty.call(s,h))return;const l=o?o+"["+h+"]":h,f=s[h];a.push(e.lib.is("Object",f)||Array.isArray(f)?i(f,l):encodeURIComponent(l)+"="+encodeURIComponent(f))}),a.join("&amp;")};return i(t)}let n=encodeURIComponent(t);return n=n.replace("'","%27"),n},join(t,n){if(t==null)return;let i="",s=[],o=null;return n&&n[0]&&(i=n[0]),r("Array",t)?s=t:(o=t._keys||Object.keys(t),o.forEach(a=>{a!=="_keys"&&Object.hasOwnProperty.call(t,a)&&s.push(t[a])})),s.join(i)},default(t,n){if(n!==void 0&&n.length>1)throw new e.Error("default filter expects one argument");return t==null||t===""?n===void 0?"":n[0]:t},json_encode(t){if(t==null)return"null";if(typeof t=="object"&&r("Array",t)){const n=[];return t.forEach(i=>{n.push(e.filters.json_encode(i))}),"["+n.join(",")+"]"}if(typeof t=="object"&&r("Date",t))return'"'+t.toISOString()+'"';if(typeof t=="object"){const n=t._keys||Object.keys(t),i=[];return n.forEach(s=>{i.push(JSON.stringify(s)+":"+e.filters.json_encode(t[s]))}),"{"+i.join(",")+"}"}return JSON.stringify(t)},merge(t,n){let i=[],s=0,o=[];if(r("Array",t)?n.forEach(a=>{r("Array",a)||(i={})}):i={},r("Array",i)||(i._keys=[]),r("Array",t)?t.forEach(a=>{i._keys&&i._keys.push(s),i[s]=a,s++}):(o=t._keys||Object.keys(t),o.forEach(a=>{i[a]=t[a],i._keys.push(a);const c=parseInt(a,10);!isNaN(c)&&c>=s&&(s=c+1)})),n.forEach(a=>{r("Array",a)?a.forEach(c=>{i._keys&&i._keys.push(s),i[s]=c,s++}):(o=a._keys||Object.keys(a),o.forEach(c=>{i[c]||i._keys.push(c),i[c]=a[c];const h=parseInt(c,10);!isNaN(h)&&h>=s&&(s=h+1)}))}),n.length===0)throw new e.Error("Filter merge expects at least one parameter");return i},date(t,n){const i=e.functions.date(t),s=n&&n.length?n[0]:"F j, Y H:i";return e.lib.date(s.replace(/\\\\/g,"\\"),i)},date_modify(t,n){if(t==null)return;if(n===void 0||n.length!==1)throw new e.Error("date_modify filter expects 1 argument");const i=n[0];let s;return e.lib.is("Date",t)&&(s=e.lib.strtotime(i,t.getTime()/1e3)),e.lib.is("String",t)&&(s=e.lib.strtotime(i,e.lib.strtotime(t))),e.lib.is("Number",t)&&(s=e.lib.strtotime(i,t)),new Date(s*1e3)},replace(t,n){if(t==null)return;const i=n[0];let s;for(s in i)Object.hasOwnProperty.call(i,s)&&s!=="_keys"&&(t=e.lib.replaceAll(t,s,i[s]));return t},format(t,n){if(t!=null)return e.lib.vsprintf(t,n)},striptags(t,n){if(t!=null)return e.lib.stripTags(t,n)},escape(t,n){if(t==null||t==="")return;let i="html";if(n&&n.length&&n[0]!==!0&&(i=n[0]),i==="html"){const s=t.toString().replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;");return new e.Markup(s,"html")}if(i==="js"){const s=t.toString();let o="";for(let a=0;a<s.length;a++)if(s[a].match(/^[a-zA-Z0-9,._]$/))o+=s[a];else{const c=s.charAt(a),h=s.charCodeAt(a),l={"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"};l[c]?o+=l[c]:o+=e.lib.sprintf("\\u%04s",h.toString(16).toUpperCase())}return new e.Markup(o,"js")}if(i==="css"){const s=t.toString();let o="";for(let a=0;a<s.length;a++)if(s[a].match(/^[a-zA-Z0-9]$/))o+=s[a];else{const c=s.charCodeAt(a);o+="\\"+c.toString(16).toUpperCase()+" "}return new e.Markup(o,"css")}if(i==="url"){const s=e.filters.url_encode(t);return new e.Markup(s,"url")}if(i==="html_attr"){const s=t.toString();let o="";for(let a=0;a<s.length;a++)if(s[a].match(/^[a-zA-Z0-9,.\-_]$/))o+=s[a];else if(s[a].match(/^[&<>"]$/))o+=s[a].replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;");else{const c=s.charCodeAt(a);c<=31&&c!==9&&c!==10&&c!==13?o+="&#xFFFD;":c<128?o+=e.lib.sprintf("&#x%02s;",c.toString(16).toUpperCase()):o+=e.lib.sprintf("&#x%04s;",c.toString(16).toUpperCase())}return new e.Markup(o,"html_attr")}throw new e.Error("escape strategy unsupported")},e(t,n){return e.filters.escape(t,n)},nl2br(t){if(t==null||t==="")return;const n="BACKSLASH_n_replace",i="<br />"+n;return t=e.filters.escape(t).replace(/\r\n/g,i).replace(/\r/g,i).replace(/\n/g,i),t=e.lib.replaceAll(t,n,`
`),new e.Markup(t)},number_format(t,n){let i=t;const s=n&&n[0]?n[0]:void 0,o=n&&n[1]!==void 0?n[1]:".",a=n&&n[2]!==void 0?n[2]:",";i=String(i).replace(/[^0-9+\-Ee.]/g,"");const c=isFinite(Number(i))?Number(i):0,h=isFinite(Number(s))?Math.abs(s):0;let l="";return l=(h?function(y,m){const x=10**m;return String(Math.round(y*x)/x)}(c,h):String(Math.round(c))).split("."),l[0].length>3&&(l[0]=l[0].replace(/\B(?=(?:\d{3})+(?!\d))/g,a)),(l[1]||"").length<h&&(l[1]=l[1]||"",l[1]+=new Array(h-l[1].length+1).join("0")),l.join(o)},trim(t,n){if(t==null)return;let i=String(t),s;n&&n[0]?s=String(n[0]):s=` 
\r	\f\v            ​\u2028\u2029　`;for(let o=0;o<i.length;o++)if(!s.includes(i.charAt(o))){i=i.slice(Math.max(0,o));break}for(let o=i.length-1;o>=0;o--)if(!s.includes(i.charAt(o))){i=i.slice(0,Math.max(0,o+1));break}return s.includes(i.charAt(0))?"":i},truncate(t,n){let i=30,s=!1,o="...";if(t=String(t),n&&(n[0]&&(i=n[0]),n[1]&&(s=n[1]),n[2]&&(o=n[2])),t.length>i){if(s&&(i=t.indexOf(" ",i),i===-1))return t;t=t.slice(0,i)+o}return t},slice(t,n){if(t==null)return;if(n===void 0||n.length===0)throw new e.Error("slice filter expects at least 1 argument");const i=n[0]||0;let s=n.length>1?n[1]:t.length;const o=i>=0?i:Math.max(t.length+i,0);if(s<0&&(s=t.length-o+s),e.lib.is("Array",t)){const a=[];for(let c=o;c<o+s&&c<t.length;c++)a.push(t[c]);return a}if(e.lib.is("String",t))return t.slice(o,o+s);throw new e.Error("slice filter expects value to be an array or string")},abs(t){if(t!=null)return Math.abs(t)},first(t){if(r("Array",t))return t[0];if(r("Object",t)){if("_keys"in t)return t[t._keys[0]]}else if(typeof t=="string")return t.slice(0,1)},split(t,n){if(t!=null){if(n===void 0||n.length===0||n.length>2)throw new e.Error("split filter expects 1 or 2 argument");if(e.lib.is("String",t)){const i=n[0],s=n[1],o=t.split(i);if(s===void 0)return o;if(s<0)return t.split(i,o.length+s);const a=[];if(i==="")for(;o.length>0;){let c="";for(let h=0;h<s&&o.length>0;h++)c+=o.shift();a.push(c)}else{for(let c=0;c<s-1&&o.length>0;c++)a.push(o.shift());o.length>0&&a.push(o.join(i))}return a}throw new e.Error("split filter expects value to be a string")}},last(t){if(e.lib.is("Object",t)){let n;return t._keys===void 0?n=Object.keys(t):n=t._keys,t[n[n.length-1]]}return e.lib.is("Number",t)?t.toString().slice(-1):t[t.length-1]},raw(t){return new e.Markup(t||"")},batch(t,n){let i=n.shift();const s=n.shift();let o,a;if(!e.lib.is("Array",t))throw new e.Error("batch filter expects items to be an array");if(!e.lib.is("Number",i))throw new e.Error("batch filter expects size to be a number");i=Math.ceil(i);const c=e.lib.chunkArray(t,i);if(s&&t.length%i!==0){for(o=c.pop(),a=i-o.length;a--;)o.push(s);c.push(o)}return c},round(t,n){n=n||[];const i=n.length>0?n[0]:0,s=n.length>1?n[1]:"common";if(t=parseFloat(t),i&&!e.lib.is("Number",i))throw new e.Error("round filter expects precision to be a number");if(s==="common")return e.lib.round(t,i);if(!e.lib.is("Function",Math[s]))throw new e.Error("round filter expects method to be 'floor', 'ceil', or 'common'");return Math[s](t*10**i)/10**i},spaceless(t){return t.replace(/>\s+</g,"><").trim()}},e.filter=function(t,n,i){const s=this;if(!e.filters[t])throw new e.Error("Unable to find filter "+t);return e.filters[t].call(s,n,i)},e.filter.extend=function(t,n){e.filters[t]=n},e}),_t}var St={exports:{}},fn;function Zo(){return fn||(fn=1,function(e){e.exports=function(r){const t='Template "{name}" is not defined.';return r.functions={range(n,i,s){const o=[];let a,c;const h=s||1;let l=!1;if(!isNaN(n)&&!isNaN(i)?(a=parseInt(n,10),c=parseInt(i,10)):isNaN(n)&&isNaN(i)?(l=!0,a=n.charCodeAt(0),c=i.charCodeAt(0)):(a=isNaN(n)?0:n,c=isNaN(i)?0:i),!(a>c))for(;a<=c;)o.push(l?String.fromCharCode(a):a),a+=h;else for(;a>=c;)o.push(l?String.fromCharCode(a):a),a-=h;return o},cycle(n,i){const s=i%n.length;return n[s]},dump(...n){const i=[...n],s=this,o=`
`,a="  ";let c=0,h="";const l=function(m){let x="";for(;m>0;)m--,x+=a;return x},f=function(m){h+=l(c),typeof m=="object"?y(m):typeof m=="function"?h+="function()"+o:typeof m=="string"?h+="string("+m.length+') "'+m+'"'+o:typeof m=="number"?h+="number("+m+")"+o:typeof m=="boolean"&&(h+="bool("+m+")"+o)},y=function(m){let x;if(m===null)h+="NULL"+o;else if(m===void 0)h+="undefined"+o;else if(typeof m=="object"){h+=l(c)+typeof m,c++,h+="("+function(v){let A=0,B;for(B in v)Object.hasOwnProperty.call(v,B)&&A++;return A}(m)+") {"+o;for(x in m)Object.hasOwnProperty.call(m,x)&&(h+=l(c)+"["+x+"]=> "+o,f(m[x]));c--,h+=l(c)+"}"+o}else f(m)};return i.length===0&&i.push(s.context),i.forEach(m=>{y(m)}),h},date(n){let i;if(n==null||n==="")i=new Date;else if(r.lib.is("Date",n))i=n;else if(r.lib.is("String",n))n.match(/^\d+$/)?i=new Date(n*1e3):i=new Date(r.lib.strtotime(n)*1e3);else if(r.lib.is("Number",n))i=new Date(n*1e3);else throw new r.Error("Unable to parse date "+n);return i},block(n){const i=this,s=i.getBlock(n);if(s!==void 0)return s.render(i,i.context)},parent(){const n=this;return n.getBlock(n.getNestingStackToken(r.logic.type.block).blockName,!0).render(n,n.context)},attribute(n,i,s){return r.lib.is("Object",n)&&Object.hasOwnProperty.call(n,i)?typeof n[i]=="function"?n[i].apply(void 0,s):n[i]:n&&n[i]||void 0},max(n,...i){return r.lib.is("Object",n)?(delete n._keys,r.lib.max(n)):Reflect.apply(r.lib.max,null,[n,...i])},min(n,...i){return r.lib.is("Object",n)?(delete n._keys,r.lib.min(n)):Reflect.apply(r.lib.min,null,[n,...i])},template_from_string(n){const i=this;return n===void 0&&(n=""),r.Templates.parsers.twig({options:i.template.options,data:n})},random(n){function s(o){const a=Math.floor(Math.random()*2147483648),c=Math.min.call(null,0,o),h=Math.max.call(null,0,o);return c+Math.floor((h-c+1)*a/2147483648)}if(r.lib.is("Number",n))return s(n);if(r.lib.is("String",n))return n.charAt(s(n.length-1));if(r.lib.is("Array",n))return n[s(n.length-1)];if(r.lib.is("Object",n)){const o=Object.keys(n);return n[o[s(o.length-1)]]}return s(2147483647)},source(n,i){const s=this,{namespaces:o}=s.template.options;let a,c=!1;const h=typeof window>"u";let l,f=n;o&&typeof o=="object"&&(f=r.path.expandNamespace(o,f)),h?l="fs":l="ajax";const y={id:n,path:f,method:l,parser:"source",async:!1,fetchTemplateSource:!0};typeof i>"u"&&(i=!1);try{a=r.Templates.loadRemote(n,y),typeof a>"u"||a===null?a="":c=!0}catch(m){r.log.debug("Twig.functions.source: ","Problem loading template  ",m)}return!c&&!i?t.replace("{name}",n):a}},r._function=function(n,i,s){if(!r.functions[n])throw new r.Error("Unable to find function "+n);return r.functions[n](i,s)},r._function.extend=function(n,i){r.functions[n]=i},r}}(St)),St.exports}var Rt,hn;function Ji(){return hn||(hn=1,Rt=function(){var r=/%%|%(?:(\d+)\$)?((?:[-+#0 ]|'[\s\S])*)(\d+)?(?:\.(\d*))?([\s\S])/g,t=arguments,n=0,i=t[n++],s=function(f,y,m,x){m||(m=" ");var v=f.length>=y?"":new Array(1+y-f.length>>>0).join(m);return x?f+v:v+f},o=function(f,y,m,x,v){var A=x-f.length;return A>0&&(!m&&v==="0"?f=[f.slice(0,y.length),s("",A,"0",!0),f.slice(y.length)].join(""):f=s(f,x,v,m)),f},a=function(f,y,m,x,v,A){var B=f>>>0;return f=s(B.toString(y),v||0,"0",!1),o(f,"",m,x,A)},c=function(f,y,m,x,v){return x!=null&&(f=f.slice(0,x)),o(f,"",y,m,v)},h=function(f,y,m,x,v,A){var B=void 0,M=void 0,U=void 0,W=void 0,F=void 0;if(f==="%%")return"%";var j=" ",S=!1,L="",D=void 0,J=void 0;for(D=0,J=m.length;D<J;D++)switch(m.charAt(D)){case" ":case"0":j=m.charAt(D);break;case"+":L="+";break;case"-":S=!0;break;case"'":D+1<J&&(j=m.charAt(D+1),D++);break}if(x?x=+x:x=0,!isFinite(x))throw new Error("Width must be finite");if(v?v=+v:v=A==="d"?0:"fFeE".indexOf(A)>-1?6:void 0,y&&+y==0)throw new Error("Argument number must be greater than zero");if(y&&+y>=t.length)throw new Error("Too few arguments");switch(F=y?t[+y]:t[n++],A){case"%":return"%";case"s":return c(F+"",S,x,v,j);case"c":return c(String.fromCharCode(+F),S,x,v,j);case"b":return a(F,2,S,x,v,j);case"o":return a(F,8,S,x,v,j);case"x":return a(F,16,S,x,v,j);case"X":return a(F,16,S,x,v,j).toUpperCase();case"u":return a(F,10,S,x,v,j);case"i":case"d":return B=+F||0,B=Math.round(B-B%1),M=B<0?"-":L,F=M+s(String(Math.abs(B)),v,"0",!1),S&&j==="0"&&(j=" "),o(F,M,S,x,j);case"e":case"E":case"f":case"F":case"g":case"G":return B=+F,M=B<0?"-":L,U=["toExponential","toFixed","toPrecision"]["efg".indexOf(A.toLowerCase())],W=["toString","toUpperCase"]["eEfFgG".indexOf(A)%2],F=M+Math.abs(B)[U](v),o(F,M,S,x,j)[W]();default:return""}};try{return i.replace(r,h)}catch{return!1}}),Rt}var At,dn;function Qo(){return dn||(dn=1,At=function(r,t){var n=Ji();return n.apply(this,[r].concat(t))}),At}var wt,yn;function Yi(){if(yn)return wt;yn=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};return wt=function(t){var n=typeof t>"u"?"undefined":e(t);switch(n){case"number":return isNaN(t)||!isFinite(t)?0:t<0?Math.ceil(t):Math.floor(t);case"string":return parseInt(t,10)||0;case"boolean":default:return+!!t}},wt}var Pt,mn;function ea(){if(mn)return Pt;mn=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};return Pt=function(t){var n=typeof t>"u"?"undefined":e(t);switch(n){case"number":return t;case"string":return parseFloat(t)||0;case"boolean":default:return Yi()(t)}},Pt}var Ot,gn;function ta(){if(gn)return Ot;gn=1;function e(r,t){var n=Math.floor(Math.abs(r)+.5);return(t==="PHP_ROUND_HALF_DOWN"&&r===n-.5||t==="PHP_ROUND_HALF_EVEN"&&r===.5+2*Math.floor(n/2)||t==="PHP_ROUND_HALF_ODD"&&r===.5+2*Math.floor(n/2)-1)&&(n-=1),r<0?-n:n}return Ot=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"PHP_ROUND_HALF_UP",s=ea(),o=Yi(),a=void 0;if(t=s(t),n=o(n),a=Math.pow(10,n),isNaN(t)||!isFinite(t)||Math.trunc(t)===t&&n>=0)return t;var c=14-Math.floor(Math.log10(Math.abs(t)));return c>n&&c-15<n?(t=e(t*Math.pow(10,c),i),t/=Math.pow(10,Math.abs(n-c))):t*=a,t=e(t,i),t/a},Ot}var kt,xn;function ra(){if(xn)return kt;xn=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};return kt=function(){var t=void 0,n=void 0,i=0,s=0,o=arguments,a=o.length,c=function(f){if(Object.prototype.toString.call(f)==="[object Array]")return f;var y=[];for(var m in f)f.hasOwnProperty(m)&&y.push(f[m]);return y},h=function l(f,y){var m=0,x=0,v=0,A=0,B=0;if(f===y)return 0;if((typeof f>"u"?"undefined":e(f))==="object"){if((typeof y>"u"?"undefined":e(y))==="object"){if(f=c(f),y=c(y),B=f.length,A=y.length,A>B)return 1;if(A<B)return-1;for(m=0,x=B;m<x;++m){if(v=l(f[m],y[m]),v===1)return 1;if(v===-1)return-1}return 0}return-1}else{if((typeof y>"u"?"undefined":e(y))==="object")return 1;if(isNaN(y)&&!isNaN(f))return f===0?0:f<0?1:-1;if(isNaN(f)&&!isNaN(y))return y===0?0:y>0?1:-1}return y===f?0:y>f?1:-1};if(a===0)throw new Error("At least one value should be passed to max()");if(a===1){if(e(o[0])==="object")t=c(o[0]);else throw new Error("Wrong parameter count for max()");if(t.length===0)throw new Error("Array must contain at least one element for max()")}else t=o;for(n=t[0],i=1,s=t.length;i<s;++i)h(n,t[i])===1&&(n=t[i]);return n},kt}var Ct,bn;function na(){if(bn)return Ct;bn=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};return Ct=function(){var t=void 0,n=void 0,i=0,s=0,o=arguments,a=o.length,c=function(f){if(Object.prototype.toString.call(f)==="[object Array]")return f;var y=[];for(var m in f)f.hasOwnProperty(m)&&y.push(f[m]);return y},h=function l(f,y){var m=0,x=0,v=0,A=0,B=0;if(f===y)return 0;if((typeof f>"u"?"undefined":e(f))==="object"){if((typeof y>"u"?"undefined":e(y))==="object"){if(f=c(f),y=c(y),B=f.length,A=y.length,A>B)return 1;if(A<B)return-1;for(m=0,x=B;m<x;++m){if(v=l(f[m],y[m]),v===1)return 1;if(v===-1)return-1}return 0}return-1}else{if((typeof y>"u"?"undefined":e(y))==="object")return 1;if(isNaN(y)&&!isNaN(f))return f===0?0:f<0?1:-1;if(isNaN(f)&&!isNaN(y))return y===0?0:y>0?1:-1}return y===f?0:y>f?1:-1};if(a===0)throw new Error("At least one value should be passed to min()");if(a===1){if(e(o[0])==="object")t=c(o[0]);else throw new Error("Wrong parameter count for min()");if(t.length===0)throw new Error("Array must contain at least one element for min()")}else t=o;for(n=t[0],i=1,s=t.length;i<s;++i)h(n,t[i])===-1&&(n=t[i]);return n},Ct}var Ft,vn;function ia(){if(vn)return Ft;vn=1;var e=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r};return Ft=function(t){var n=typeof t>"u"?"undefined":e(t);switch(n){case"boolean":return t?"1":"";case"string":return t;case"number":return isNaN(t)?"NAN":isFinite(t)?t+"":(t<0?"-":"")+"INF";case"undefined":return"";case"object":return Array.isArray(t)?"Array":t!==null?"Object":"";case"function":default:throw new Error("Unsupported value type")}},Ft}var It,En;function sa(){return En||(En=1,It=function(r,t){var n=ia();t=(((t||"")+"").toLowerCase().match(/<[a-z][a-z0-9]*>/g)||[]).join("");var i=/<\/?([a-z0-9]*)\b[^>]*>?/gi,s=/<!--[\s\S]*?-->|<\?(?:php)?[\s\S]*?\?>/gi,o=n(r);for(o=o.substring(o.length-1)==="<"?o.substring(0,o.length-1):o;;){var a=o;if(o=a.replace(s,"").replace(i,function(c,h){return t.indexOf("<"+h.toLowerCase()+">")>-1?c:""}),a===o)return o}}),It}var Bt,_n;function oa(){if(_n)return Bt;_n=1;var e="[ \\t]+",r="[ \\t]*",t="(?:([ap])\\.?m\\.?([\\t ]|$))",n="(2[0-4]|[01]?[0-9])",i="([01][0-9]|2[0-4])",s="(0?[1-9]|1[0-2])",o="([0-5]?[0-9])",a="([0-5][0-9])",c="(60|[0-5]?[0-9])",h="(60|[0-5][0-9])",l="(?:\\.([0-9]+))",f="sunday|monday|tuesday|wednesday|thursday|friday|saturday",y="sun|mon|tue|wed|thu|fri|sat",m=f+"|"+y+"|weekdays?",x="first|second|third|fourth|fifth|sixth|seventh|eighth?|ninth|tenth|eleventh|twelfth",v="next|last|previous|this",A="(?:second|sec|minute|min|hour|day|fortnight|forthnight|month|year)s?|weeks|"+m,B="([0-9]{1,4})",M="([0-9]{2})",U="([0-9]{4})",W="([+-]?[0-9]{4})",F="(1[0-2]|0?[0-9])",j="(0[0-9]|1[0-2])",S="(?:(3[01]|[0-2]?[0-9])(?:st|nd|rd|th)?)",L="(0[0-9]|[1-2][0-9]|3[01])",D="january|february|march|april|may|june|july|august|september|october|november|december",J="jan|feb|mar|apr|may|jun|jul|aug|sept?|oct|nov|dec",X="i[vx]|vi{0,3}|xi{0,2}|i{1,3}",re="("+D+"|"+J+"|"+X+")",oe="((?:GMT)?([+-])"+n+":?"+o+"?)",ie="\\(?([a-zA-Z]{1,6})\\)?",pe="(00[1-9]|0[1-9][0-9]|[12][0-9][0-9]|3[0-5][0-9]|36[0-6])",ue="(0[1-9]|[1-4][0-9]|5[0-3])",fe=re+"[ .\\t-]*"+S+"[,.stndrh\\t ]*";function ae(k,C){switch(C=C&&C.toLowerCase(),C){case"a":k+=k===12?-12:0;break;case"p":k+=k!==12?12:0;break}return k}function ge(k){var C=+k;return k.length<4&&C<100&&(C+=C<70?2e3:1900),C}function se(k){return{jan:0,january:0,i:0,feb:1,february:1,ii:1,mar:2,march:2,iii:2,apr:3,april:3,iv:3,may:4,v:4,jun:5,june:5,vi:5,jul:6,july:6,vii:6,aug:7,august:7,viii:7,sep:8,sept:8,september:8,ix:8,oct:9,october:9,x:9,nov:10,november:10,xi:10,dec:11,december:11,xii:11}[k.toLowerCase()]}function _(k){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,R={mon:1,monday:1,tue:2,tuesday:2,wed:3,wednesday:3,thu:4,thursday:4,fri:5,friday:5,sat:6,saturday:6,sun:0,sunday:0};return R[k.toLowerCase()]||C}function q(k){var C={last:-1,previous:-1,this:0,first:1,next:1,second:2,third:3,fourth:4,fifth:5,sixth:6,seventh:7,eight:8,eighth:8,ninth:9,tenth:10,eleventh:11,twelfth:12},R={this:1},P=k.toLowerCase();return{amount:C[P],behavior:R[P]||0}}function z(k,C){var R=/(?:GMT)?([+-])(\d+)(:?)(\d{0,2})/i;if(k=k&&k.match(R),!k)return C;var P=k[1]==="-"?-1:1,I=+k[2],N=+k[4];return!k[4]&&!k[3]&&(N=Math.floor(I%100),I=Math.floor(I/100)),P*(I*60+N)*60}var H={acdt:37800,acst:34200,addt:-7200,adt:-10800,aedt:39600,aest:36e3,ahdt:-32400,ahst:-36e3,akdt:-28800,akst:-32400,amt:-13840,apt:-10800,ast:-14400,awdt:32400,awst:28800,awt:-10800,bdst:7200,bdt:-36e3,bmt:-14309,bst:3600,cast:34200,cat:7200,cddt:-14400,cdt:-18e3,cemt:10800,cest:7200,cet:3600,cmt:-15408,cpt:-18e3,cst:-21600,cwt:-18e3,chst:36e3,dmt:-1521,eat:10800,eddt:-10800,edt:-14400,eest:10800,eet:7200,emt:-26248,ept:-14400,est:-18e3,ewt:-14400,ffmt:-14660,fmt:-4056,gdt:39600,gmt:0,gst:36e3,hdt:-34200,hkst:32400,hkt:28800,hmt:-19776,hpt:-34200,hst:-36e3,hwt:-34200,iddt:14400,idt:10800,imt:25025,ist:7200,jdt:36e3,jmt:8440,jst:32400,kdt:36e3,kmt:5736,kst:30600,lst:9394,mddt:-18e3,mdst:16279,mdt:-21600,mest:7200,met:3600,mmt:9017,mpt:-21600,msd:14400,msk:10800,mst:-25200,mwt:-21600,nddt:-5400,ndt:-9052,npt:-9e3,nst:-12600,nwt:-9e3,nzdt:46800,nzmt:41400,nzst:43200,pddt:-21600,pdt:-25200,pkst:21600,pkt:18e3,plmt:25590,pmt:-13236,ppmt:-17340,ppt:-25200,pst:-28800,pwt:-25200,qmt:-18840,rmt:5794,sast:7200,sdmt:-16800,sjmt:-20173,smt:-13884,sst:-39600,tbmt:10751,tmt:12344,uct:0,utc:0,wast:7200,wat:3600,wemt:7200,west:3600,wet:0,wib:25200,wita:28800,wit:32400,wmt:5040,yddt:-25200,ydt:-28800,ypt:-28800,yst:-32400,ywt:-28800,a:3600,b:7200,c:10800,d:14400,e:18e3,f:21600,g:25200,h:28800,i:32400,k:36e3,l:39600,m:43200,n:-3600,o:-7200,p:-10800,q:-14400,r:-18e3,s:-21600,t:-25200,u:-28800,v:-32400,w:-36e3,x:-39600,y:-43200,z:0},O={yesterday:{regex:/^yesterday/i,name:"yesterday",callback:function(){return this.rd-=1,this.resetTime()}},now:{regex:/^now/i,name:"now"},noon:{regex:/^noon/i,name:"noon",callback:function(){return this.resetTime()&&this.time(12,0,0,0)}},midnightOrToday:{regex:/^(midnight|today)/i,name:"midnight | today",callback:function(){return this.resetTime()}},tomorrow:{regex:/^tomorrow/i,name:"tomorrow",callback:function(){return this.rd+=1,this.resetTime()}},timestamp:{regex:/^@(-?\d+)/i,name:"timestamp",callback:function(C,R){return this.rs+=+R,this.y=1970,this.m=0,this.d=1,this.dates=0,this.resetTime()&&this.zone(0)}},firstOrLastDay:{regex:/^(first|last) day of/i,name:"firstdayof | lastdayof",callback:function(C,R){R.toLowerCase()==="first"?this.firstOrLastDayOfMonth=1:this.firstOrLastDayOfMonth=-1}},backOrFrontOf:{regex:RegExp("^(back|front) of "+n+r+t+"?","i"),name:"backof | frontof",callback:function(C,R,P,I){var N=R.toLowerCase()==="back",V=+P,T=15;return N||(V-=1,T=45),V=ae(V,I),this.resetTime()&&this.time(V,T,0,0)}},mssqltime:{regex:RegExp("^"+s+":"+a+":"+h+"[:.]([0-9]+)"+t,"i"),name:"mssqltime",callback:function(C,R,P,I,N,V){return this.time(ae(+R,V),+P,+I,+N.substr(0,3))}},oracledate:{regex:/^(\d{2})-([A-Z]{3})-(\d{2})$/i,name:"d-M-y",callback:function(C,R,P,I){var N={JAN:0,FEB:1,MAR:2,APR:3,MAY:4,JUN:5,JUL:6,AUG:7,SEP:8,OCT:9,NOV:10,DEC:11}[P.toUpperCase()];return this.ymd(2e3+parseInt(I,10),N,parseInt(R,10))}},timeLong12:{regex:RegExp("^"+s+"[:.]"+o+"[:.]"+h+r+t,"i"),name:"timelong12",callback:function(C,R,P,I,N){return this.time(ae(+R,N),+P,+I,0)}},timeShort12:{regex:RegExp("^"+s+"[:.]"+a+r+t,"i"),name:"timeshort12",callback:function(C,R,P,I){return this.time(ae(+R,I),+P,0,0)}},timeTiny12:{regex:RegExp("^"+s+r+t,"i"),name:"timetiny12",callback:function(C,R,P){return this.time(ae(+R,P),0,0,0)}},soap:{regex:RegExp("^"+U+"-"+j+"-"+L+"T"+i+":"+a+":"+h+l+oe+"?","i"),name:"soap",callback:function(C,R,P,I,N,V,T,we,xe){return this.ymd(+R,P-1,+I)&&this.time(+N,+V,+T,+we.substr(0,3))&&this.zone(z(xe))}},wddx:{regex:RegExp("^"+U+"-"+F+"-"+S+"T"+n+":"+o+":"+c),name:"wddx",callback:function(C,R,P,I,N,V,T){return this.ymd(+R,P-1,+I)&&this.time(+N,+V,+T,0)}},exif:{regex:RegExp("^"+U+":"+j+":"+L+" "+i+":"+a+":"+h,"i"),name:"exif",callback:function(C,R,P,I,N,V,T){return this.ymd(+R,P-1,+I)&&this.time(+N,+V,+T,0)}},xmlRpc:{regex:RegExp("^"+U+j+L+"T"+n+":"+a+":"+h),name:"xmlrpc",callback:function(C,R,P,I,N,V,T){return this.ymd(+R,P-1,+I)&&this.time(+N,+V,+T,0)}},xmlRpcNoColon:{regex:RegExp("^"+U+j+L+"[Tt]"+n+a+h),name:"xmlrpcnocolon",callback:function(C,R,P,I,N,V,T){return this.ymd(+R,P-1,+I)&&this.time(+N,+V,+T,0)}},clf:{regex:RegExp("^"+S+"/("+J+")/"+U+":"+i+":"+a+":"+h+e+oe,"i"),name:"clf",callback:function(C,R,P,I,N,V,T,we){return this.ymd(+I,se(P),+R)&&this.time(+N,+V,+T,0)&&this.zone(z(we))}},iso8601long:{regex:RegExp("^t?"+n+"[:.]"+o+"[:.]"+c+l,"i"),name:"iso8601long",callback:function(C,R,P,I,N){return this.time(+R,+P,+I,+N.substr(0,3))}},dateTextual:{regex:RegExp("^"+re+"[ .\\t-]*"+S+"[,.stndrh\\t ]+"+B,"i"),name:"datetextual",callback:function(C,R,P,I){return this.ymd(ge(I),se(R),+P)}},pointedDate4:{regex:RegExp("^"+S+"[.\\t-]"+F+"[.-]"+U),name:"pointeddate4",callback:function(C,R,P,I){return this.ymd(+I,P-1,+R)}},pointedDate2:{regex:RegExp("^"+S+"[.\\t]"+F+"\\."+M),name:"pointeddate2",callback:function(C,R,P,I){return this.ymd(ge(I),P-1,+R)}},timeLong24:{regex:RegExp("^t?"+n+"[:.]"+o+"[:.]"+c),name:"timelong24",callback:function(C,R,P,I){return this.time(+R,+P,+I,0)}},dateNoColon:{regex:RegExp("^"+U+j+L),name:"datenocolon",callback:function(C,R,P,I){return this.ymd(+R,P-1,+I)}},pgydotd:{regex:RegExp("^"+U+"\\.?"+pe),name:"pgydotd",callback:function(C,R,P){return this.ymd(+R,0,+P)}},timeShort24:{regex:RegExp("^t?"+n+"[:.]"+o,"i"),name:"timeshort24",callback:function(C,R,P){return this.time(+R,+P,0,0)}},iso8601noColon:{regex:RegExp("^t?"+i+a+h,"i"),name:"iso8601nocolon",callback:function(C,R,P,I){return this.time(+R,+P,+I,0)}},iso8601dateSlash:{regex:RegExp("^"+U+"/"+j+"/"+L+"/"),name:"iso8601dateslash",callback:function(C,R,P,I){return this.ymd(+R,P-1,+I)}},dateSlash:{regex:RegExp("^"+U+"/"+F+"/"+S),name:"dateslash",callback:function(C,R,P,I){return this.ymd(+R,P-1,+I)}},american:{regex:RegExp("^"+F+"/"+S+"/"+B),name:"american",callback:function(C,R,P,I){return this.ymd(ge(I),R-1,+P)}},americanShort:{regex:RegExp("^"+F+"/"+S),name:"americanshort",callback:function(C,R,P){return this.ymd(this.y,R-1,+P)}},gnuDateShortOrIso8601date2:{regex:RegExp("^"+B+"-"+F+"-"+S),name:"gnudateshort | iso8601date2",callback:function(C,R,P,I){return this.ymd(ge(R),P-1,+I)}},iso8601date4:{regex:RegExp("^"+W+"-"+j+"-"+L),name:"iso8601date4",callback:function(C,R,P,I){return this.ymd(+R,P-1,+I)}},gnuNoColon:{regex:RegExp("^t?"+i+a,"i"),name:"gnunocolon",callback:function(C,R,P){switch(this.times){case 0:return this.time(+R,+P,0,this.f);case 1:return this.y=R*100+ +P,this.times++,!0;default:return!1}}},gnuDateShorter:{regex:RegExp("^"+U+"-"+F),name:"gnudateshorter",callback:function(C,R,P){return this.ymd(+R,P-1,1)}},pgTextReverse:{regex:RegExp("^(\\d{3,4}|[4-9]\\d|3[2-9])-("+J+")-"+L,"i"),name:"pgtextreverse",callback:function(C,R,P,I){return this.ymd(ge(R),se(P),+I)}},dateFull:{regex:RegExp("^"+S+"[ \\t.-]*"+re+"[ \\t.-]*"+B,"i"),name:"datefull",callback:function(C,R,P,I){return this.ymd(ge(I),se(P),+R)}},dateNoDay:{regex:RegExp("^"+re+"[ .\\t-]*"+U,"i"),name:"datenoday",callback:function(C,R,P){return this.ymd(+P,se(R),1)}},dateNoDayRev:{regex:RegExp("^"+U+"[ .\\t-]*"+re,"i"),name:"datenodayrev",callback:function(C,R,P){return this.ymd(+R,se(P),1)}},pgTextShort:{regex:RegExp("^("+J+")-"+L+"-"+B,"i"),name:"pgtextshort",callback:function(C,R,P,I){return this.ymd(ge(I),se(R),+P)}},dateNoYear:{regex:RegExp("^"+fe,"i"),name:"datenoyear",callback:function(C,R,P){return this.ymd(this.y,se(R),+P)}},dateNoYearRev:{regex:RegExp("^"+S+"[ .\\t-]*"+re,"i"),name:"datenoyearrev",callback:function(C,R,P){return this.ymd(this.y,se(P),+R)}},isoWeekDay:{regex:RegExp("^"+U+"-?W"+ue+"(?:-?([0-7]))?"),name:"isoweekday | isoweek",callback:function(C,R,P,I){if(I=I?+I:1,!this.ymd(+R,0,1))return!1;var N=new Date(this.y,this.m,this.d).getDay();N=0-(N>4?N-7:N),this.rd+=N+(P-1)*7+I}},relativeText:{regex:RegExp("^("+x+"|"+v+")"+e+"("+A+")","i"),name:"relativetext",callback:function(C,R,P){var I=q(R),N=I.amount;switch(P.toLowerCase()){case"sec":case"secs":case"second":case"seconds":this.rs+=N;break;case"min":case"mins":case"minute":case"minutes":this.ri+=N;break;case"hour":case"hours":this.rh+=N;break;case"day":case"days":this.rd+=N;break;case"fortnight":case"fortnights":case"forthnight":case"forthnights":this.rd+=N*14;break;case"week":case"weeks":this.rd+=N*7;break;case"month":case"months":this.rm+=N;break;case"year":case"years":this.ry+=N;break;case"mon":case"monday":case"tue":case"tuesday":case"wed":case"wednesday":case"thu":case"thursday":case"fri":case"friday":case"sat":case"saturday":case"sun":case"sunday":this.resetTime(),this.weekday=_(P,7),this.weekdayBehavior=1,this.rd+=(N>0?N-1:N)*7;break}}},relative:{regex:RegExp("^([+-]*)[ \\t]*(\\d+)"+r+"("+A+"|week)","i"),name:"relative",callback:function(C,R,P,I){var N=R.replace(/[^-]/g,"").length,V=+P*Math.pow(-1,N);switch(I.toLowerCase()){case"sec":case"secs":case"second":case"seconds":this.rs+=V;break;case"min":case"mins":case"minute":case"minutes":this.ri+=V;break;case"hour":case"hours":this.rh+=V;break;case"day":case"days":this.rd+=V;break;case"fortnight":case"fortnights":case"forthnight":case"forthnights":this.rd+=V*14;break;case"week":case"weeks":this.rd+=V*7;break;case"month":case"months":this.rm+=V;break;case"year":case"years":this.ry+=V;break;case"mon":case"monday":case"tue":case"tuesday":case"wed":case"wednesday":case"thu":case"thursday":case"fri":case"friday":case"sat":case"saturday":case"sun":case"sunday":this.resetTime(),this.weekday=_(I,7),this.weekdayBehavior=1,this.rd+=(V>0?V-1:V)*7;break}}},dayText:{regex:RegExp("^("+m+")","i"),name:"daytext",callback:function(C,R){this.resetTime(),this.weekday=_(R,0),this.weekdayBehavior!==2&&(this.weekdayBehavior=1)}},relativeTextWeek:{regex:RegExp("^("+v+")"+e+"week","i"),name:"relativetextweek",callback:function(C,R){switch(this.weekdayBehavior=2,R.toLowerCase()){case"this":this.rd+=0;break;case"next":this.rd+=7;break;case"last":case"previous":this.rd-=7;break}isNaN(this.weekday)&&(this.weekday=1)}},monthFullOrMonthAbbr:{regex:RegExp("^("+D+"|"+J+")","i"),name:"monthfull | monthabbr",callback:function(C,R){return this.ymd(this.y,se(R),this.d)}},tzCorrection:{regex:RegExp("^"+oe,"i"),name:"tzcorrection",callback:function(C){return this.zone(z(C))}},tzAbbr:{regex:RegExp("^"+ie),name:"tzabbr",callback:function(C,R){var P=H[R.toLowerCase()];return isNaN(P)?!1:this.zone(P)}},ago:{regex:/^ago/i,name:"ago",callback:function(){this.ry=-this.ry,this.rm=-this.rm,this.rd=-this.rd,this.rh=-this.rh,this.ri=-this.ri,this.rs=-this.rs,this.rf=-this.rf}},year4:{regex:RegExp("^"+U),name:"year4",callback:function(C,R){return this.y=+R,!0}},whitespace:{regex:/^[ .,\t]+/,name:"whitespace"},dateShortWithTimeLong:{regex:RegExp("^"+fe+"t?"+n+"[:.]"+o+"[:.]"+c,"i"),name:"dateshortwithtimelong",callback:function(C,R,P,I,N,V){return this.ymd(this.y,se(R),+P)&&this.time(+I,+N,+V,0)}},dateShortWithTimeLong12:{regex:RegExp("^"+fe+s+"[:.]"+o+"[:.]"+h+r+t,"i"),name:"dateshortwithtimelong12",callback:function(C,R,P,I,N,V,T){return this.ymd(this.y,se(R),+P)&&this.time(ae(+I,T),+N,+V,0)}},dateShortWithTimeShort:{regex:RegExp("^"+fe+"t?"+n+"[:.]"+o,"i"),name:"dateshortwithtimeshort",callback:function(C,R,P,I,N){return this.ymd(this.y,se(R),+P)&&this.time(+I,+N,0,0)}},dateShortWithTimeShort12:{regex:RegExp("^"+fe+s+"[:.]"+a+r+t,"i"),name:"dateshortwithtimeshort12",callback:function(C,R,P,I,N,V){return this.ymd(this.y,se(R),+P)&&this.time(ae(+I,V),+N,0,0)}}},te={y:NaN,m:NaN,d:NaN,h:NaN,i:NaN,s:NaN,f:NaN,ry:0,rm:0,rd:0,rh:0,ri:0,rs:0,rf:0,weekday:NaN,weekdayBehavior:0,firstOrLastDayOfMonth:0,z:NaN,dates:0,times:0,zones:0,ymd:function(C,R,P){return this.dates>0?!1:(this.dates++,this.y=C,this.m=R,this.d=P,!0)},time:function(C,R,P,I){return this.times>0?!1:(this.times++,this.h=C,this.i=R,this.s=P,this.f=I,!0)},resetTime:function(){return this.h=0,this.i=0,this.s=0,this.f=0,this.times=0,!0},zone:function(C){return this.zones<=1?(this.zones++,this.z=C,!0):!1},toDate:function(C){switch(this.dates&&!this.times&&(this.h=this.i=this.s=this.f=0),isNaN(this.y)&&(this.y=C.getFullYear()),isNaN(this.m)&&(this.m=C.getMonth()),isNaN(this.d)&&(this.d=C.getDate()),isNaN(this.h)&&(this.h=C.getHours()),isNaN(this.i)&&(this.i=C.getMinutes()),isNaN(this.s)&&(this.s=C.getSeconds()),isNaN(this.f)&&(this.f=C.getMilliseconds()),this.firstOrLastDayOfMonth){case 1:this.d=1;break;case-1:this.d=0,this.m+=1;break}if(!isNaN(this.weekday)){var R=new Date(C.getTime());R.setFullYear(this.y,this.m,this.d),R.setHours(this.h,this.i,this.s,this.f);var P=R.getDay();if(this.weekdayBehavior===2)P===0&&this.weekday!==0&&(this.weekday=-6),this.weekday===0&&P!==0&&(this.weekday=7),this.d-=P,this.d+=this.weekday;else{var I=this.weekday-P;(this.rd<0&&I<0||this.rd>=0&&I<=-this.weekdayBehavior)&&(I+=7),this.weekday>=0?this.d+=I:this.d-=7-(Math.abs(this.weekday)-P),this.weekday=NaN}}this.y+=this.ry,this.m+=this.rm,this.d+=this.rd,this.h+=this.rh,this.i+=this.ri,this.s+=this.rs,this.f+=this.rf,this.ry=this.rm=this.rd=0,this.rh=this.ri=this.rs=this.rf=0;var N=new Date(C.getTime());switch(N.setFullYear(this.y,this.m,this.d),N.setHours(this.h,this.i,this.s,this.f),this.firstOrLastDayOfMonth){case 1:N.setDate(1);break;case-1:N.setMonth(N.getMonth()+1,0);break}return!isNaN(this.z)&&N.getTimezoneOffset()!==this.z&&(N.setUTCFullYear(N.getFullYear(),N.getMonth(),N.getDate()),N.setUTCHours(N.getHours(),N.getMinutes(),N.getSeconds()-this.z,N.getMilliseconds())),N}};return Bt=function(C,R){R==null&&(R=Math.floor(Date.now()/1e3));for(var P=[O.yesterday,O.now,O.noon,O.midnightOrToday,O.tomorrow,O.timestamp,O.firstOrLastDay,O.backOrFrontOf,O.timeTiny12,O.timeShort12,O.timeLong12,O.mssqltime,O.oracledate,O.timeShort24,O.timeLong24,O.iso8601long,O.gnuNoColon,O.iso8601noColon,O.americanShort,O.american,O.iso8601date4,O.iso8601dateSlash,O.dateSlash,O.gnuDateShortOrIso8601date2,O.gnuDateShorter,O.dateFull,O.pointedDate4,O.pointedDate2,O.dateNoDay,O.dateNoDayRev,O.dateTextual,O.dateNoYear,O.dateNoYearRev,O.dateNoColon,O.xmlRpc,O.xmlRpcNoColon,O.soap,O.wddx,O.exif,O.pgydotd,O.isoWeekDay,O.pgTextShort,O.pgTextReverse,O.clf,O.year4,O.ago,O.dayText,O.relativeTextWeek,O.relativeText,O.monthFullOrMonthAbbr,O.tzCorrection,O.tzAbbr,O.dateShortWithTimeShort12,O.dateShortWithTimeLong12,O.dateShortWithTimeShort,O.dateShortWithTimeLong,O.relative,O.whitespace],I=Object.create(te);C.length;){for(var N=null,V=null,T=0,we=P.length;T<we;T++){var xe=P[T],Re=C.match(xe.regex);Re&&(!N||Re[0].length>N[0].length)&&(N=Re,V=xe)}if(!V||V.callback&&V.callback.apply(I,N)===!1)return!1;C=C.substr(N[0].length),V=null,N=null}return Math.floor(I.toDate(new Date(R*1e3))/1e3)},Bt}var Lt,Sn;function aa(){return Sn||(Sn=1,Lt=function(r,t){var n=void 0,i=void 0,s=["Sun","Mon","Tues","Wednes","Thurs","Fri","Satur","January","February","March","April","May","June","July","August","September","October","November","December"],o=/\\?(.?)/gi,a=function(f,y){return i[f]?i[f]():y},c=function(f,y){for(f=String(f);f.length<y;)f="0"+f;return f};i={d:function(){return c(i.j(),2)},D:function(){return i.l().slice(0,3)},j:function(){return n.getDate()},l:function(){return s[i.w()]+"day"},N:function(){return i.w()||7},S:function(){var f=i.j(),y=f%10;return y<=3&&parseInt(f%100/10,10)===1&&(y=0),["st","nd","rd"][y-1]||"th"},w:function(){return n.getDay()},z:function(){var f=new Date(i.Y(),i.n()-1,i.j()),y=new Date(i.Y(),0,1);return Math.round((f-y)/864e5)},W:function(){var f=new Date(i.Y(),i.n()-1,i.j()-i.N()+3),y=new Date(f.getFullYear(),0,4);return c(1+Math.round((f-y)/864e5/7),2)},F:function(){return s[6+i.n()]},m:function(){return c(i.n(),2)},M:function(){return i.F().slice(0,3)},n:function(){return n.getMonth()+1},t:function(){return new Date(i.Y(),i.n(),0).getDate()},L:function(){var f=i.Y();return f%4===0&f%100!==0|f%400===0},o:function(){var f=i.n(),y=i.W(),m=i.Y();return m+(f===12&&y<9?1:f===1&&y>9?-1:0)},Y:function(){return n.getFullYear()},y:function(){return i.Y().toString().slice(-2)},a:function(){return n.getHours()>11?"pm":"am"},A:function(){return i.a().toUpperCase()},B:function(){var f=n.getUTCHours()*3600,y=n.getUTCMinutes()*60,m=n.getUTCSeconds();return c(Math.floor((f+y+m+3600)/86.4)%1e3,3)},g:function(){return i.G()%12||12},G:function(){return n.getHours()},h:function(){return c(i.g(),2)},H:function(){return c(i.G(),2)},i:function(){return c(n.getMinutes(),2)},s:function(){return c(n.getSeconds(),2)},u:function(){return c(n.getMilliseconds()*1e3,6)},e:function(){var f="Not supported (see source code of date() for timezone on how to add support)";throw new Error(f)},I:function(){var f=new Date(i.Y(),0),y=Date.UTC(i.Y(),0),m=new Date(i.Y(),6),x=Date.UTC(i.Y(),6);return f-y!==m-x?1:0},O:function(){var f=n.getTimezoneOffset(),y=Math.abs(f);return(f>0?"-":"+")+c(Math.floor(y/60)*100+y%60,4)},P:function(){var f=i.O();return f.substr(0,3)+":"+f.substr(3,2)},T:function(){return"UTC"},Z:function(){return-n.getTimezoneOffset()*60},c:function(){return"Y-m-d\\TH:i:sP".replace(o,a)},r:function(){return"D, d M Y H:i:s O".replace(o,a)},U:function(){return n/1e3|0}};var h=function(f,y){return n=y===void 0?new Date:y instanceof Date?new Date(y):new Date(y*1e3),f.replace(o,a)};return h(r,t)}),Lt}var Nt,Rn;function ca(){return Rn||(Rn=1,Nt=function(r){return!(r===!1||r===0||r===0||r===""||r==="0"||Array.isArray(r)&&r.length===0||r==null)}),Nt}var jt,An;function ua(){return An||(An=1,jt=function(e){return e.lib={},e.lib.sprintf=Ji(),e.lib.vsprintf=Qo(),e.lib.round=ta(),e.lib.max=ra(),e.lib.min=na(),e.lib.stripTags=sa(),e.lib.strtotime=oa(),e.lib.date=aa(),e.lib.boolval=ca(),e.lib.is=function(r,t){if(typeof t>"u"||t===null)return!1;switch(r){case"Array":return Array.isArray(t);case"Date":return t instanceof Date;case"String":return typeof t=="string"||t instanceof String;case"Number":return typeof t=="number"||t instanceof Number;case"Function":return typeof t=="function";case"Object":return t instanceof Object;default:return!1}},e.lib.replaceAll=function(r,t,n){const i=typeof r=="string"?r:r.toString(),s=t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");return i.replace(new RegExp(s,"g"),n)},e.lib.chunkArray=function(r,t){const n=[];let i=0;const s=r.length;if(t<1||!Array.isArray(r))return[];for(;i<s;)n.push(r.slice(i,i+=t));return n},e}),jt}var Dt,wn;function la(){return wn||(wn=1,Dt=function(e){e.Templates.registerLoader("ajax",function(r,t,n,i){let s;const{precompiled:o}=t,a=this.parsers[t.parser]||this.parser.twig;if(typeof XMLHttpRequest>"u")throw new e.Error('Unsupported platform: Unable to do ajax requests because there is no "XMLHTTPRequest" implementation');const c=new XMLHttpRequest;return c.onreadystatechange=function(){let h=null;c.readyState===4&&(c.status===200||window.cordova&&c.status===0?(e.log.debug("Got template ",c.responseText),o===!0?h=JSON.parse(c.responseText):h=c.responseText,t.url=r,t.data=h,s=a.call(this,t),typeof n=="function"&&n(s)):typeof i=="function"&&i(c))},c.open("GET",r,!!t.async),c.overrideMimeType("text/plain"),c.send(),t.async?!0:s})}),Dt}const pa={},fa=Object.freeze(Object.defineProperty({__proto__:null,default:pa},Symbol.toStringTag,{value:"Module"})),ha=Xs(fa);var Mt,Pn;function Ki(){if(Pn)return Mt;Pn=1;function e(i){if(typeof i!="string")throw new TypeError("Path must be a string. Received "+JSON.stringify(i))}function r(i,s){for(var o="",a=0,c=-1,h=0,l,f=0;f<=i.length;++f){if(f<i.length)l=i.charCodeAt(f);else{if(l===47)break;l=47}if(l===47){if(!(c===f-1||h===1))if(c!==f-1&&h===2){if(o.length<2||a!==2||o.charCodeAt(o.length-1)!==46||o.charCodeAt(o.length-2)!==46){if(o.length>2){var y=o.lastIndexOf("/");if(y!==o.length-1){y===-1?(o="",a=0):(o=o.slice(0,y),a=o.length-1-o.lastIndexOf("/")),c=f,h=0;continue}}else if(o.length===2||o.length===1){o="",a=0,c=f,h=0;continue}}s&&(o.length>0?o+="/..":o="..",a=2)}else o.length>0?o+="/"+i.slice(c+1,f):o=i.slice(c+1,f),a=f-c-1;c=f,h=0}else l===46&&h!==-1?++h:h=-1}return o}function t(i,s){var o=s.dir||s.root,a=s.base||(s.name||"")+(s.ext||"");return o?o===s.root?o+a:o+i+a:a}var n={resolve:function(){for(var s="",o=!1,a,c=arguments.length-1;c>=-1&&!o;c--){var h;c>=0?h=arguments[c]:(a===void 0&&(a=Nr.cwd()),h=a),e(h),h.length!==0&&(s=h+"/"+s,o=h.charCodeAt(0)===47)}return s=r(s,!o),o?s.length>0?"/"+s:"/":s.length>0?s:"."},normalize:function(s){if(e(s),s.length===0)return".";var o=s.charCodeAt(0)===47,a=s.charCodeAt(s.length-1)===47;return s=r(s,!o),s.length===0&&!o&&(s="."),s.length>0&&a&&(s+="/"),o?"/"+s:s},isAbsolute:function(s){return e(s),s.length>0&&s.charCodeAt(0)===47},join:function(){if(arguments.length===0)return".";for(var s,o=0;o<arguments.length;++o){var a=arguments[o];e(a),a.length>0&&(s===void 0?s=a:s+="/"+a)}return s===void 0?".":n.normalize(s)},relative:function(s,o){if(e(s),e(o),s===o||(s=n.resolve(s),o=n.resolve(o),s===o))return"";for(var a=1;a<s.length&&s.charCodeAt(a)===47;++a);for(var c=s.length,h=c-a,l=1;l<o.length&&o.charCodeAt(l)===47;++l);for(var f=o.length,y=f-l,m=h<y?h:y,x=-1,v=0;v<=m;++v){if(v===m){if(y>m){if(o.charCodeAt(l+v)===47)return o.slice(l+v+1);if(v===0)return o.slice(l+v)}else h>m&&(s.charCodeAt(a+v)===47?x=v:v===0&&(x=0));break}var A=s.charCodeAt(a+v),B=o.charCodeAt(l+v);if(A!==B)break;A===47&&(x=v)}var M="";for(v=a+x+1;v<=c;++v)(v===c||s.charCodeAt(v)===47)&&(M.length===0?M+="..":M+="/..");return M.length>0?M+o.slice(l+x):(l+=x,o.charCodeAt(l)===47&&++l,o.slice(l))},_makeLong:function(s){return s},dirname:function(s){if(e(s),s.length===0)return".";for(var o=s.charCodeAt(0),a=o===47,c=-1,h=!0,l=s.length-1;l>=1;--l)if(o=s.charCodeAt(l),o===47){if(!h){c=l;break}}else h=!1;return c===-1?a?"/":".":a&&c===1?"//":s.slice(0,c)},basename:function(s,o){if(o!==void 0&&typeof o!="string")throw new TypeError('"ext" argument must be a string');e(s);var a=0,c=-1,h=!0,l;if(o!==void 0&&o.length>0&&o.length<=s.length){if(o.length===s.length&&o===s)return"";var f=o.length-1,y=-1;for(l=s.length-1;l>=0;--l){var m=s.charCodeAt(l);if(m===47){if(!h){a=l+1;break}}else y===-1&&(h=!1,y=l+1),f>=0&&(m===o.charCodeAt(f)?--f===-1&&(c=l):(f=-1,c=y))}return a===c?c=y:c===-1&&(c=s.length),s.slice(a,c)}else{for(l=s.length-1;l>=0;--l)if(s.charCodeAt(l)===47){if(!h){a=l+1;break}}else c===-1&&(h=!1,c=l+1);return c===-1?"":s.slice(a,c)}},extname:function(s){e(s);for(var o=-1,a=0,c=-1,h=!0,l=0,f=s.length-1;f>=0;--f){var y=s.charCodeAt(f);if(y===47){if(!h){a=f+1;break}continue}c===-1&&(h=!1,c=f+1),y===46?o===-1?o=f:l!==1&&(l=1):o!==-1&&(l=-1)}return o===-1||c===-1||l===0||l===1&&o===c-1&&o===a+1?"":s.slice(o,c)},format:function(s){if(s===null||typeof s!="object")throw new TypeError('The "pathObject" argument must be of type Object. Received type '+typeof s);return t("/",s)},parse:function(s){e(s);var o={root:"",dir:"",base:"",ext:"",name:""};if(s.length===0)return o;var a=s.charCodeAt(0),c=a===47,h;c?(o.root="/",h=1):h=0;for(var l=-1,f=0,y=-1,m=!0,x=s.length-1,v=0;x>=h;--x){if(a=s.charCodeAt(x),a===47){if(!m){f=x+1;break}continue}y===-1&&(m=!1,y=x+1),a===46?l===-1?l=x:v!==1&&(v=1):l!==-1&&(v=-1)}return l===-1||y===-1||v===0||v===1&&l===y-1&&l===f+1?y!==-1&&(f===0&&c?o.base=o.name=s.slice(1,y):o.base=o.name=s.slice(f,y)):(f===0&&c?(o.name=s.slice(1,l),o.base=s.slice(1,y)):(o.name=s.slice(f,l),o.base=s.slice(f,y)),o.ext=s.slice(l,y)),f>0?o.dir=s.slice(0,f-1):c&&(o.dir="/"),o},sep:"/",delimiter:":",win32:null,posix:null};return n.posix=n,Mt=n,Mt}var $t,On;function da(){return On||(On=1,$t=function(e){let r,t;try{r=ha,t=Ki()}catch(n){console.warn("Missing fs and path modules. "+n)}e.Templates.registerLoader("fs",function(n,i,s,o){let a,c=null;const{precompiled:h}=i,l=this.parsers[i.parser]||this.parser.twig;if(!r||!t)throw new e.Error('Unsupported platform: Unable to load from file because there is no "fs" or "path" implementation');const f=function(y,m){if(y){typeof o=="function"&&o(y);return}h===!0&&(m=JSON.parse(m)),i.data=m,i.path=i.path||n,a=l.call(this,i),typeof s=="function"&&s(a)};if(i.path=i.path||n,i.async)return r.stat(i.path,(y,m)=>{if(y||!m.isFile()){typeof o=="function"&&o(new e.Error("Unable to find template file "+i.path));return}r.readFile(i.path,"utf8",f)}),!0;try{if(!r.statSync(i.path).isFile())throw new e.Error("Unable to find template file "+i.path)}catch(y){throw new e.Error("Unable to find template file "+i.path+". "+y)}return c=r.readFileSync(i.path,"utf8"),f(void 0,c),a})}),$t}var Ut,kn;function ya(){return kn||(kn=1,Ut=function(e){for(e.logic={},e.logic.type={if_:"Twig.logic.type.if",endif:"Twig.logic.type.endif",for_:"Twig.logic.type.for",endfor:"Twig.logic.type.endfor",else_:"Twig.logic.type.else",elseif:"Twig.logic.type.elseif",set:"Twig.logic.type.set",setcapture:"Twig.logic.type.setcapture",endset:"Twig.logic.type.endset",filter:"Twig.logic.type.filter",endfilter:"Twig.logic.type.endfilter",apply:"Twig.logic.type.apply",endapply:"Twig.logic.type.endapply",do:"Twig.logic.type.do",shortblock:"Twig.logic.type.shortblock",block:"Twig.logic.type.block",endblock:"Twig.logic.type.endblock",extends_:"Twig.logic.type.extends",use:"Twig.logic.type.use",include:"Twig.logic.type.include",spaceless:"Twig.logic.type.spaceless",endspaceless:"Twig.logic.type.endspaceless",macro:"Twig.logic.type.macro",endmacro:"Twig.logic.type.endmacro",import_:"Twig.logic.type.import",from:"Twig.logic.type.from",embed:"Twig.logic.type.embed",endembed:"Twig.logic.type.endembed",with:"Twig.logic.type.with",endwith:"Twig.logic.type.endwith",deprecated:"Twig.logic.type.deprecated"},e.logic.definitions=[{type:e.logic.type.if_,regex:/^if\s?([\s\S]+)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!0,compile(r){const t=r.match[1];return r.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,delete r.match,r},parse(r,t,n){const i=this;return e.expression.parseAsync.call(i,r.stack,t).then(s=>(n=!0,e.lib.boolval(s)?(n=!1,i.parseAsync(r.output,t)):"")).then(s=>({chain:n,output:s}))}},{type:e.logic.type.elseif,regex:/^elseif\s*([^\s].*)$/,next:[e.logic.type.else_,e.logic.type.elseif,e.logic.type.endif],open:!1,compile(r){const t=r.match[1];return r.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,delete r.match,r},parse(r,t,n){const i=this;return e.expression.parseAsync.call(i,r.stack,t).then(s=>n&&e.lib.boolval(s)?(n=!1,i.parseAsync(r.output,t)):"").then(s=>({chain:n,output:s}))}},{type:e.logic.type.else_,regex:/^else$/,next:[e.logic.type.endif,e.logic.type.endfor],open:!1,parse(r,t,n){let i=e.Promise.resolve("");return n&&(i=this.parseAsync(r.output,t)),i.then(o=>({chain:n,output:o}))}},{type:e.logic.type.endif,regex:/^endif$/,next:[],open:!1},{type:e.logic.type.for_,regex:/^for\s+([a-zA-Z0-9_,\s]+)\s+in\s+([\S\s]+?)(?:\s+if\s+([^\s].*))?$/,next:[e.logic.type.else_,e.logic.type.endfor],open:!0,compile(r){const t=r.match[1],n=r.match[2],i=r.match[3];let s=null;if(r.keyVar=null,r.valueVar=null,t.includes(","))if(s=t.split(","),s.length===2)r.keyVar=s[0].trim(),r.valueVar=s[1].trim();else throw new e.Error("Invalid expression in for loop: "+t);else r.valueVar=t.trim();return r.expression=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,i&&(r.conditional=e.expression.compile.call(this,{type:e.expression.type.expression,value:i}).stack),delete r.match,r},parse(r,t,n){const i=[];let s,o=0,a;const c=this,{conditional:h}=r,l=function(y,m){const x=h!==void 0;return{index:y+1,index0:y,revindex:x?void 0:m-y,revindex0:x?void 0:m-y-1,first:y===0,last:x?void 0:y===m-1,length:x?void 0:m,parent:t}},f=function(y,m){const x={...t};return x[r.valueVar]=m,r.keyVar&&(x[r.keyVar]=y),x.loop=l(o,s),(h===void 0?e.Promise.resolve(!0):e.expression.parseAsync.call(c,h,x)).then(A=>{if(A)return c.parseAsync(r.output,x).then(B=>{i.push(B),o+=1})}).then(()=>{delete x.loop,delete x[r.valueVar],delete x[r.keyVar],e.merge(t,x,!0)})};return e.expression.parseAsync.call(c,r.expression,t).then(y=>{if(Array.isArray(y))return s=y.length,e.async.forEach(y,m=>f(o,m));if(e.lib.is("Object",y))return y._keys===void 0?a=Object.keys(y):a=y._keys,s=a.length,e.async.forEach(a,m=>{if(m!=="_keys")return f(m,y[m])})}).then(()=>(n=i.length===0,{chain:n,context:t,output:e.output.call(c.template,i)}))}},{type:e.logic.type.endfor,regex:/^endfor$/,next:[],open:!1},{type:e.logic.type.set,regex:/^set\s+([a-zA-Z0-9_,\s]+)\s*=\s*([\s\S]+)$/,next:[],open:!0,compile(r){const t=r.match[1].trim(),n=r.match[2],i=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack;return r.key=t,r.expression=i,delete r.match,r},parse(r,t,n){const{key:i}=r,s=this;return e.expression.parseAsync.call(s,r.expression,t).then(o=>(o===t&&(o={...o}),t[i]=o,{chain:n,context:t}))}},{type:e.logic.type.setcapture,regex:/^set\s+([a-zA-Z0-9_,\s]+)$/,next:[e.logic.type.endset],open:!0,compile(r){const t=r.match[1].trim();return r.key=t,delete r.match,r},parse(r,t,n){const i=this,{key:s}=r;return i.parseAsync(r.output,t).then(o=>(i.context[s]=o,t[s]=o,{chain:n,context:t}))}},{type:e.logic.type.endset,regex:/^endset$/,next:[],open:!1},{type:e.logic.type.filter,regex:/^filter\s+(.+)$/,next:[e.logic.type.endfilter],open:!0,compile(r){const t="|"+r.match[1].trim();return r.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,delete r.match,r},parse(r,t,n){const i=this;return i.parseAsync(r.output,t).then(s=>{const o=[{type:e.expression.type.string,value:s}].concat(r.stack);return e.expression.parseAsync.call(i,o,t)}).then(s=>({chain:n,output:s}))}},{type:e.logic.type.endfilter,regex:/^endfilter$/,next:[],open:!1},{type:e.logic.type.apply,regex:/^apply\s+(.+)$/,next:[e.logic.type.endapply],open:!0,compile(r){const t="|"+r.match[1].trim();return r.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,delete r.match,r},parse(r,t,n){const i=this;return i.parseAsync(r.output,t).then(s=>{const o=[{type:e.expression.type.string,value:s}].concat(r.stack);return e.expression.parseAsync.call(i,o,t)}).then(s=>({chain:n,output:s}))}},{type:e.logic.type.endapply,regex:/^endapply$/,next:[],open:!1},{type:e.logic.type.do,regex:/^do\s+([\S\s]+)$/,next:[],open:!0,compile(r){const t=r.match[1],n=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack;return r.expression=n,delete r.match,r},parse(r,t,n){const i=this;return e.expression.parseAsync.call(i,r.expression,t).then(()=>({chain:n,context:t}))}},{type:e.logic.type.block,regex:/^block\s+(\w+)$/,next:[e.logic.type.endblock],open:!0,compile(r){return r.blockName=r.match[1].trim(),delete r.match,r},parse(r,t,n){const i=this;let s=e.Promise.resolve();return i.template.blocks.defined[r.blockName]=new e.Block(i.template,r),(i.template.parentTemplate===null||i.template.parentTemplate instanceof e.Template)&&(s=i.getBlock(r.blockName).render(i,t)),s.then(o=>({chain:n,output:o}))}},{type:e.logic.type.shortblock,regex:/^block\s+(\w+)\s+(.+)$/,next:[],open:!0,compile(r){const t=this;return r.expression=r.match[2].trim(),r.output=e.expression.compile({type:e.expression.type.expression,value:r.expression}).stack,e.logic.handler[e.logic.type.block].compile.apply(t,[r])},parse(...r){const t=this;return e.logic.handler[e.logic.type.block].parse.apply(t,r)}},{type:e.logic.type.endblock,regex:/^endblock(?:\s+(\w+))?$/,next:[],open:!1},{type:e.logic.type.extends_,regex:/^extends\s+(.+)$/,next:[],open:!0,compile(r){const t=r.match[1].trim();return delete r.match,r.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,r},parse(r,t,n){const i=this;return e.expression.parseAsync.call(i,r.stack,t).then(s=>{if(Array.isArray(s)){const o=s.reverse().reduce((a,c)=>{try{return{render:i.template.importFile(c),fileName:c}}catch{return a}},{render:null,fileName:null});o.fileName!==null&&(i.template.parentTemplate=o.fileName)}else i.template.parentTemplate=s;return{chain:n,output:""}})}},{type:e.logic.type.use,regex:/^use\s+(.+)$/,next:[],open:!0,compile(r){const t=r.match[1].trim();return delete r.match,r.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,r},parse(r,t,n){const i=this;return e.expression.parseAsync.call(i,r.stack,t).then(s=>{const o=i.template.importFile(s),a=new e.ParseState(o);return a.parseAsync(o.tokens).then(()=>{i.template.blocks.imported={...i.template.blocks.imported,...a.getBlocks()}})}).then(()=>({chain:n,output:""}))}},{type:e.logic.type.include,regex:/^include\s+(.+?)(?:\s|$)(ignore missing(?:\s|$))?(?:with\s+([\S\s]+?))?(?:\s|$)(only)?$/,next:[],open:!0,compile(r){const{match:t}=r,n=t[1].trim(),i=t[2]!==void 0,s=t[3],o=t[4]!==void 0&&t[4].length;return delete r.match,r.only=o,r.ignoreMissing=i,r.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,s!==void 0&&(r.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:s.trim()}).stack),r},parse(r,t,n){let i=r.only?{}:{...t};const{ignoreMissing:s}=r,o=this;let a=null;const c={chain:n,output:""};return typeof r.withStack>"u"?a=e.Promise.resolve():a=e.expression.parseAsync.call(o,r.withStack,t).then(h=>{i={...i,...h}}),a.then(()=>e.expression.parseAsync.call(o,r.stack,t)).then(h=>{let l;Array.isArray(h)?l=h:l=[h];const f=l.reduce((y,m)=>{if(y.render===null){if(m instanceof e.Template)return{render:m.renderAsync(i,{isInclude:!0}),lastError:null};try{return{render:o.template.importFile(m).renderAsync(i,{isInclude:!0}),lastError:null}}catch(x){return{render:null,lastError:x}}}return y},{render:null,lastError:null});if(f.render!==null)return f.render;if(f.render===null&&s)return"";throw f.lastError}).then(h=>(h!==""&&(c.output=h),c))}},{type:e.logic.type.spaceless,regex:/^spaceless$/,next:[e.logic.type.endspaceless],open:!0,parse(r,t,n){return this.parseAsync(r.output,t).then(s=>{const o=/>\s+</g;let a=s.replace(o,"><").trim();return a=new e.Markup(a),{chain:n,output:a}})}},{type:e.logic.type.endspaceless,regex:/^endspaceless$/,next:[],open:!1},{type:e.logic.type.macro,regex:/^macro\s+(\w+)\s*\(\s*((?:\w+(?:\s*=\s*([\s\S]+))?(?:,\s*)?)*)\s*\)$/,next:[e.logic.type.endmacro],open:!0,compile(r){const t=r.match[1],n=r.match[2].split(/\s*,\s*/),i=n.map(o=>o.split(/\s*=\s*/)[0]),s=i.length;if(s>1){const o={};for(let a=0;a<s;a++){const c=i[a];if(o[c])throw new e.Error("Duplicate arguments for parameter: "+c);o[c]=1}}return r.macroName=t,r.parameters=i,r.defaults=n.reduce(function(o,a){const c=a.split(/\s*=\s*/),h=c[0],l=c[1];return l?o[h]=e.expression.compile.call(this,{type:e.expression.type.expression,value:l}).stack:o[h]=void 0,o},{}),delete r.match,r},parse(r,t,n){const i=this;return i.macros[r.macroName]=function(...s){const o={...i.context,_self:i.macros};return e.async.forEach(r.parameters,function(a,c){return typeof s[c]<"u"?(o[a]=s[c],!0):typeof r.defaults[a]<"u"?e.expression.parseAsync.call(this,r.defaults[a],t).then(h=>(o[a]=h,e.Promise.resolve())):(o[a]=void 0,!0)}).then(()=>i.parseAsync(r.output,o))},{chain:n,output:""}}},{type:e.logic.type.endmacro,regex:/^endmacro$/,next:[],open:!1},{type:e.logic.type.import_,regex:/^import\s+(.+)\s+as\s+(\w+)$/,next:[],open:!0,compile(r){const t=r.match[1].trim(),n=r.match[2].trim();return delete r.match,r.expression=t,r.contextName=n,r.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,r},parse(r,t,n){const i=this,s={chain:n,output:""};return r.expression==="_self"?(t[r.contextName]=i.macros,s):e.expression.parseAsync.call(i,r.stack,t).then(o=>i.template.importFile(o||r.expression)).then(o=>{const a=new e.ParseState(o);return a.parseAsync(o.tokens).then(()=>(t[r.contextName]=a.macros,s))})}},{type:e.logic.type.from,regex:/^from\s+(.+)\s+import\s+([a-zA-Z0-9_, ]+)$/,next:[],open:!0,compile(r){const t=r.match[1].trim(),n=r.match[2].trim().split(/\s*,\s*/),i={};for(const s of n){const o=s.match(/^(\w+)\s+as\s+(\w+)$/);o?i[o[1].trim()]=o[2].trim():s.match(/^(\w+)$/)&&(i[s]=s)}return delete r.match,r.expression=t,r.macroNames=i,r.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:t}).stack,r},parse(r,t,n){const i=this;let s;return r.expression==="_self"?s=e.Promise.resolve(i.macros):s=e.expression.parseAsync.call(i,r.stack,t).then(o=>i.template.importFile(o||r.expression)).then(o=>{const a=new e.ParseState(o);return a.parseAsync(o.tokens).then(()=>a.macros)}),s.then(o=>{for(const a in r.macroNames)o[a]!==void 0&&(t[r.macroNames[a]]=o[a]);return{chain:n,output:""}})}},{type:e.logic.type.embed,regex:/^embed\s+(.+?)(?:\s+(ignore missing))?(?:\s+with\s+([\S\s]+?))?(?:\s+(only))?$/,next:[e.logic.type.endembed],open:!0,compile(r){const{match:t}=r,n=t[1].trim(),i=t[2]!==void 0,s=t[3],o=t[4]!==void 0&&t[4].length;return delete r.match,r.only=o,r.ignoreMissing=i,r.stack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n}).stack,s!==void 0&&(r.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:s.trim()}).stack),r},parse(r,t,n){let i={},s=e.Promise.resolve(),o=this;return r.only||(i={...t}),r.withStack!==void 0&&(s=e.expression.parseAsync.call(o,r.withStack,t).then(a=>{i={...i,...a}})),s.then(()=>e.expression.parseAsync.call(o,r.stack,i)).then(a=>{const c=new e.Template({data:r.output,base:o.template.base,path:o.template.path,url:o.template.url,name:o.template.name,method:o.template.method,options:o.template.options});try{c.importFile(a)}catch(h){if(r.ignoreMissing)return"";throw o=null,h}return c.parentTemplate=a,c.renderAsync(i,{isInclude:!0})}).then(a=>({chain:n,output:a}))}},{type:e.logic.type.endembed,regex:/^endembed$/,next:[],open:!1},{type:e.logic.type.with,regex:/^(?:with(?:\s+([\S\s]+?))?)(?:\s|$)(only)?$/,next:[e.logic.type.endwith],open:!0,compile(r){const{match:t}=r,n=t[1],i=t[2]!==void 0&&t[2].length;return delete r.match,r.only=i,n!==void 0&&(r.withStack=e.expression.compile.call(this,{type:e.expression.type.expression,value:n.trim()}).stack),r},parse(r,t,n){let i={},s;const o=this;let a=e.Promise.resolve();r.only||(i={...t}),r.withStack!==void 0&&(a=e.expression.parseAsync.call(o,r.withStack,t).then(h=>{for(s in h)Object.hasOwnProperty.call(h,s)&&(i[s]=h[s])}));const c=new e.ParseState(o.template,void 0,i);return a.then(()=>c.parseAsync(r.output)).then(h=>({chain:n,output:h}))}},{type:e.logic.type.endwith,regex:/^endwith$/,next:[],open:!1},{type:e.logic.type.deprecated,regex:/^deprecated\s+(.+)$/,next:[],open:!0,compile(r){return console.warn("Deprecation notice: "+r.match[1]),r},parse(){return{}}}],e.logic.handler={},e.logic.extendType=function(r,t){t=t||"Twig.logic.type"+r,e.logic.type[r]=t},e.logic.extend=function(r){if(r.type)e.logic.extendType(r.type);else throw new e.Error("Unable to extend logic definition. No type provided for "+r);e.logic.handler[r.type]=r};e.logic.definitions.length>0;)e.logic.extend(e.logic.definitions.shift());return e.logic.compile=function(r){const t=r.value.trim();let n=e.logic.tokenize.call(this,t);const i=e.logic.handler[n.type];return i.compile&&(n=i.compile.call(this,n),e.log.trace("Twig.logic.compile: ","Compiled logic token to ",n)),n},e.logic.tokenize=function(r){let t=null,n=null,i=null,s=null,o=null,a=null,c=null;r=r.trim();for(t in e.logic.handler)if(Object.hasOwnProperty.call(e.logic.handler,t)){for(n=e.logic.handler[t].type,i=e.logic.handler[t].regex,s=i,Array.isArray(i)||(s=[i]),o=s.length,a=0;a<o;a++)if(c=s[a].exec(r),c!==null)return e.log.trace("Twig.logic.tokenize: ","Matched a ",n," regular expression of ",c),{type:n,match:c}}throw new e.Error("Unable to parse '"+r.trim()+"'")},e.logic.parse=function(r,t,n,i){return e.async.potentiallyAsync(this,i,function(){e.log.debug("Twig.logic.parse: ","Parsing logic token ",r);const s=e.logic.handler[r.type];let o;const a=this;return s.parse?(a.nestingStack.unshift(r),o=s.parse.call(a,r,t||{},n),e.isPromise(o)?o=o.then(c=>(a.nestingStack.shift(),c)):a.nestingStack.shift(),o):""})},e}),Ut}var qt,Cn;function ma(){return Cn||(Cn=1,qt=function(e){e.Templates.registerParser("source",r=>r.data||"")}),qt}var zt,Fn;function ga(){return Fn||(Fn=1,zt=function(e){e.Templates.registerParser("twig",r=>new e.Template(r))}),zt}var Vt,In;function xa(){return In||(In=1,Vt=function(e){return e.path={},e.path.expandNamespace=function(r,t){const n=Object.keys(r),i=new RegExp(`^(?:@(${n.join("|")})/|(${n.join("|")})::)`);return t.replace(i,(s,o,a)=>`${r[o===void 0?a:o]}/`)},e.path.parsePath=function(r,t){const{namespaces:n}=r.options,i=t||"";let o=n&&typeof n=="object"?e.path.expandNamespace(n,i):i;return o===i&&(o=e.path.relativePath(r,i)),o},e.path.relativePath=function(r,t){let n,i,s="/";const o=[];let a=t||"",c;if(r.url)typeof r.base>"u"?n=r.url:n=r.base.replace(/([^/])$/,"$1/");else if(r.path){const h=Ki(),l=h.sep||s,f=new RegExp("^\\.{1,2}"+l.replace("\\","\\\\"));a=a.replace(/\//g,l),r.base!==void 0&&a.match(f)===null?(a=a.replace(r.base,""),n=r.base+l):n=h.normalize(r.path),n=n.replace(l+l,l),s=l}else if((r.name||r.id)&&r.method&&r.method!=="fs"&&r.method!=="ajax")n=r.base||r.name||r.id;else throw new e.Error("Cannot extend an inline template.");for(i=n.split(s),i.pop(),i=i.concat(a.split(s));i.length>0;)c=i.shift(),c==="."||(c===".."&&o.length>0&&o[o.length-1]!==".."?o.pop():o.push(c));return o.join(s)},e}),Vt}var Ht,Bn;function ba(){return Bn||(Bn=1,Ht=function(e){return e.tests={empty(r){if(r===!0)return!1;if(r==null)return!0;if(typeof r=="number"||r.length>0)return!1;for(const t in r)if(Object.hasOwnProperty.call(r,t))return!1;return!0},odd(r){return r%2===1},even(r){return r%2===0},"divisible by"(r,t){return r%t[0]===0},divisibleby(r,t){return console.warn("`divisibleby` is deprecated use `divisible by`"),e.tests["divisible by"](r,t)},defined(r){return r!==void 0},none(r){return r===null},null(r){return this.none(r)},"same as"(r,t){return r===t[0]},sameas(r,t){return console.warn("`sameas` is deprecated use `same as`"),e.tests["same as"](r,t)},iterable(r){return r&&(e.lib.is("Array",r)||e.lib.is("Object",r))}},e.test=function(r,t,n){if(!e.tests[r])throw e.Error("Test "+r+" is not defined.");return e.tests[r](t,n)},e.test.extend=function(r,t){e.tests[r]=t},e}),Ht}var Wt,Ln;function va(){return Ln||(Ln=1,Wt=function(e){e.ParseState.prototype.parseAsync=function(a,c){return this.parse(a,c,!0)},e.expression.parseAsync=function(a,c,h){const l=this;return e.expression.parse.call(l,a,c,h,!0)},e.logic.parseAsync=function(a,c,h){const l=this;return e.logic.parse.call(l,a,c,h,!0)},e.Template.prototype.renderAsync=function(a,c){return this.render(a,c,!0)},e.async={},e.isPromise=function(a){return a&&a.then&&typeof a.then=="function"};function i(a,c,h){let l=h.call(a),f=null,y=!0;if(!e.isPromise(l))return l;if(l.then(m=>{l=m,y=!1}).catch(m=>{f=m}),f!==null)throw f;if(y)throw new e.Error("You are using Twig.js in sync mode in combination with async extensions.");return l}e.async.potentiallyAsync=function(a,c,h){return c?e.Promise.resolve(h.call(a)):i(a,c,h)};function s(a,c,h){try{a(c,h)}catch(l){h(l)}}function o(a,c,h){const l=[c,h,-2];return a?a[2]===-2?a=[a,l]:a.push(l):a=l,a}return e.Thenable=function(a,c,h){this.then=a,this._value=h?c:null,this._state=h||0},e.Thenable.prototype.catch=function(a){return this._state===1?this:this.then(null,a)},e.Thenable.resolvedThen=function(a){try{return e.Promise.resolve(a(this._value))}catch(c){return e.Promise.reject(c)}},e.Thenable.rejectedThen=function(a,c){if(!c||typeof c!="function")return this;const h=this._value;let l;try{l=c(h)}catch(f){l=e.Promise.reject(f)}return e.Promise.resolve(l)},e.Promise=function(a){let c=0,h=null,l=function(m,x){c=m,h=x};function f(m){l(1,m)}function y(m){l(2,m)}return s(a,f,y),c===1?e.Promise.resolve(h):c===2?e.Promise.reject(h):(l=new e.FullPromise,l.promise)},e.FullPromise=function(){let a=null;function c(m){m(y._value)}function h(m,x){x(y._value)}let l=function(m,x){a=o(a,m,x)};function f(m,x){if(!y._state&&(y._value=x,y._state=m,l=m===1?c:h,!!a)){if(a[2]===-2){l(a[0],a[1]),a=null;return}a.forEach(v=>{l(v[0],v[1])}),a=null}}const y=new e.Thenable((m,x)=>{const v=typeof m=="function";if(y._state===1&&!v)return e.Promise.resolve(y._value);if(y._state===1)try{return e.Promise.resolve(m(y._value))}catch(B){return e.Promise.reject(B)}const A=typeof x=="function";return new e.Promise((B,M)=>{l(v?U=>{try{B(m(U))}catch(W){M(W)}}:B,A?U=>{try{B(x(U))}catch(W){M(W)}}:M)})});return f.promise=y,f},e.Promise.defaultResolved=new e.Thenable(e.Thenable.resolvedThen,void 0,1),e.Promise.emptyStringResolved=new e.Thenable(e.Thenable.resolvedThen,"",1),e.Promise.resolve=function(a){return arguments.length===0||typeof a>"u"?e.Promise.defaultResolved:e.isPromise(a)?a:a===""?e.Promise.emptyStringResolved:new e.Thenable(e.Thenable.resolvedThen,a,1)},e.Promise.reject=function(a){return new e.Thenable(e.Thenable.rejectedThen,a,2)},e.Promise.all=function(a){const c=new Array(a.length);return e.async.forEach(a,(h,l)=>{if(!e.isPromise(h)){c[l]=h;return}if(h._state===1){c[l]=h._value;return}return h.then(f=>{c[l]=f})}).then(()=>c)},e.async.forEach=function(a,c){const h=a?a.length:0;let l=0;function f(){let y=null;do{if(l===h)return e.Promise.resolve();y=c(a[l],l),l++}while(!y||!e.isPromise(y)||y._state===1);return y.then(f)}return f()},e}),Wt}var Gt,Nn;function Ea(){return Nn||(Nn=1,Gt=function(e){return e.exports={VERSION:e.VERSION},e.exports.twig=function(r){const{id:t}=r,n={strictVariables:r.strict_variables||!1,autoescape:r.autoescape!==null&&r.autoescape||!1,allowInlineIncludes:r.allowInlineIncludes||!1,rethrow:r.rethrow||!1,namespaces:r.namespaces};if(e.cache&&t&&e.validateId(t),r.debug!==void 0&&(e.debug=r.debug),r.trace!==void 0&&(e.trace=r.trace),r.data!==void 0)return e.Templates.parsers.twig({data:r.data,path:Object.hasOwnProperty.call(r,"path")?r.path:void 0,module:r.module,id:t,options:n});if(r.ref!==void 0){if(r.id!==void 0)throw new e.Error("Both ref and id cannot be set on a twig.js template.");return e.Templates.load(r.ref)}if(r.method!==void 0){if(!e.Templates.isRegisteredLoader(r.method))throw new e.Error('Loader for "'+r.method+'" is not defined.');return e.Templates.loadRemote(r.name||r.href||r.path||t||void 0,{id:t,method:r.method,parser:r.parser||"twig",base:r.base,module:r.module,precompiled:r.precompiled,async:r.async,options:n},r.load,r.error)}if(r.href!==void 0)return e.Templates.loadRemote(r.href,{id:t,method:"ajax",parser:r.parser||"twig",base:r.base,module:r.module,precompiled:r.precompiled,async:r.async,options:n},r.load,r.error);if(r.path!==void 0)return e.Templates.loadRemote(r.path,{id:t,method:"fs",parser:r.parser||"twig",base:r.base,module:r.module,precompiled:r.precompiled,async:r.async,options:n},r.load,r.error)},e.exports.extendFilter=function(r,t){e.filter.extend(r,t)},e.exports.extendFunction=function(r,t){e._function.extend(r,t)},e.exports.extendTest=function(r,t){e.test.extend(r,t)},e.exports.extendTag=function(r){e.logic.extend(r)},e.exports.extend=function(r){r(e)},e.exports.compile=function(r,t){const n=t.filename,i=t.filename,s=new e.Template({data:r,path:i,id:n,options:t.settings["twig options"]});return function(o){return s.render(o)}},e.exports.renderFile=function(r,t,n){typeof t=="function"&&(n=t,t={}),t=t||{};const i=t.settings||{},s=i["twig options"],o={path:r,base:i.views,load(a){if(!s||!s.allowAsync){n(null,String(a.render(t)));return}a.renderAsync(t).then(c=>n(null,c),n)},error(a){n(a)}};if(s)for(const a in s)Object.hasOwnProperty.call(s,a)&&(o[a]=s[a]);e.exports.twig(o)},e.exports.__express=e.exports.renderFile,e.exports.cache=function(r){e.cache=r},e.exports.path=e.path,e.exports.filters=e.filters,e.exports.tests=e.tests,e.exports.functions=e.functions,e.exports.Promise=e.Promise,e}),Gt}var Jt,jn;function _a(){return jn||(jn=1,Jt=function e(){const r={VERSION:"1.17.1"};return Jo()(r),Yo()(r),Xo()(r),To()(r),Zo()(r),ua()(r),la()(r),da()(r),ya()(r),ma()(r),ga()(r),xa()(r),ba()(r),va()(r),Ea()(r),r.exports.factory=e,r.exports}),Jt}/**
 * Twig.js
 *
 * @copyright 2011-2020 John Roepke and the Twig.js Contributors
 * @license   Available under the BSD 2-Clause License
 * @link      https://github.com/twigjs/twig.js
 */var Yt,Dn;function Sa(){return Dn||(Dn=1,Yt=_a()()),Yt}var Ra=Sa();const ct=Oi(Ra),ye={registerComponentTemplate:Pa,extendComponentTemplate:Oa,registerTemplateOverride:ka,getRenderedTemplate:Ua,resolveTemplates:Ca,clearTwigCache:La,getTwigCache:Na,disableTwigCache:ja,getTemplateRegistry:Da,getNormalizedTemplateRegistry:Ma,getTemplateOverrides:$a};let Xi=null;ct.extend(e=>{e.token.definitions=e.token.definitions.filter(r=>r.type!==e.token.type.output_whitespace_pre&&r.type!==e.token.type.output_whitespace_post&&r.type!==e.token.type.output_whitespace_both&&r.type!==e.token.type.output),e.exports.extendTag({type:"parent",regex:/^parent/,next:[],open:!0,parse(r,t,n){return{chain:n,output:"{{|PARENT|}}"}}}),e.exports.getRegistry=function(){return e.Templates.registry},e.exports.clearRegistry=function(){e.Templates.registry={}},Xi=e.Templates,e.cache=!1});const Aa="{{\\|PARENT\\|}}",wa=new RegExp(Aa,"gm"),le=new Map,ce=new Map;function Pa(e,r=null){const t=le.get(e)||{},n=t.overrides?t.overrides:[];return le.set(e,{name:e,raw:r,extend:null,overrides:n}),!0}function Oa(e,r,t=null){const n=le.get(e)||{},i=n.overrides?n.overrides:[];return t||(t=""),le.set(e,{name:e,raw:t,extend:r,overrides:i}),!0}function ka(e,r=null,t=0){const n=le.get(e)||{name:e,raw:null,extend:null,overrides:[]};return n.overrides.push({index:t,raw:r}),n.overrides.sort((i,s)=>i.index-s.index),le.set(e,n),!0}function Xr(e){let r=ns(e);if(!r){ce.delete(e.name);return}r={...r,html:""};const t=i=>i.extend?i.extend.overrides.length>0||t(i.extend):!1;t(r)&&Xr(le.get(r.extend.name));const n=Qi(r.template.tokens,r);r.template.tokens=n,ce.set(r.name,r),r=Fa(r.name),r.html=r.html.replace(wa,""),ce.set(r.name,r)}function Ca(){return Array.from(le.values()).forEach(Xr),ce}function Fa(e){const r=ce.get(e),t={};if(!r.overrides.length){const o=r.template.render(t),a={...r,html:o};return ce.set(a.name,a),a}const n=ce.get(r.name);r.overrides.forEach((o,a)=>{jr(`${n.name}-${a}`,o.raw).tokens.forEach(h=>{h.type==="logic"&&(n.template.tokens=Ti(n.template.tokens,[h]))})}),ce.set(n.name,n);let i=ce.get(r.name);const s=i.template.render(t);return i={...i,html:s},ce.set(i.name,i),i}function Ti(e,r){return e?e.reduce((t,n)=>{if(n.type!=="logic"||!n.token||!n.token.blockName)return[...t,n];const i=n.token.blockName,s=ts(i,r);if(s)return s.type==="logic"&&(s.token.output=Zi(n,s.token.output)),[...t,s];const o=Ti(n.token.output,r);return n.token.output=o,[...t,n]},[]):[]}function Zi(e,r){return r.reduce((t,n)=>{var i;return n.type==="logic"&&n.token.type==="parent"?[...t,...e.token.output]:((i=n.token)!=null&&i.output&&(n.token.output=Ia(n.token.output,e.token.output)),[...t,n])},[])}function Ia(e,r){return e.reduce((t,n)=>n.type==="logic"&&n.token.type==="parent"?[...t,...r]:[...t,n],[])}function Qi(e,r){if(!r.extend)return e;let t;ce.has(r.extend.name)?t=ki(ce.get(r.extend.name).template.tokens):t=r.extend.template.tokens;const n=Array.from(Qi(t,r.extend)),i=Ba(Array.from(e),n);return e=n.map(s=>rs(s,i,r.name)),e}function Ba(e,r){return e.reduce((n,i)=>i.token&&!es(i.token.blockName,r)?[...n,...i.token.output]:[...n,i],[])}function es(e,r){return r.find(n=>n.token&&n.token.blockName===e||n.token&&es(e,n.token.output))}function ts(e,r){return r.find(n=>n.token&&n.token.blockName===e)}function rs(e,r,t){if(e.type!=="logic")return e;const n=["Twig.logic.type.if","Twig.logic.type.else","Twig.logic.type.endif"];if(e.type==="logic"&&n.includes(e.token.type))return e;const i=e.token.blockName,s=ts(i,r);return s?(s.type!=="logic"||(s.token.output=Zi(e,s.token.output)),s):(e.token.output=e.token.output.map(o=>rs(o,r)),e)}function ns(e){if(!e)return null;if(e.extend){const r=ns(le.get(e.extend));return r?{...e,template:jr(e.name,e.raw),extend:r}:null}return{...e,template:jr(e.name,e.raw)}}function jr(e,r){return Xi.parsers.twig({id:`${e}-baseTemplate`,data:r,path:!1,options:{}})}function La(){ct.clearRegistry()}function Na(){return ct.getRegistry()}function ja(){ct.cache(!1)}function Da(){return le}function Ma(){return ce}function $a(e){return le.has(e)?le.get(e).overrides||[]:[]}function Ua(e){const r=le.get(e);if(!r)return null;Xr(r);const t=ce.get(e);return t?t.html:null}const qa=Ts,he={register:Ka,extend:Xa,override:Ta,build:os,wrapComponentConfig:qa,getComponentTemplate:ss,getComponentRegistry:Ha,getOverrideRegistry:Wa,getComponentHelper:Ga,_clearComponentHelper:Ja,registerComponentHelper:Ya,resolveComponentTemplates:nc,markComponentTemplatesAsNotResolved:ic,isSyncComponent:za,markComponentAsSync:Va},je=new Map,De=new Map,He={},is=new Set;function za(e){return is.has(e)}function Va(e){is.add(e)}function Ha(){return je}function Wa(){return De}function Ga(){return He}function Ja(){Object.keys(He).forEach(e=>{delete He[e]})}function Ya(e,r){return!e||!e.length||He.hasOwnProperty(e)?!1:(He[e]=r,!0)}function Ka(e,r){if(!e||!e.length||je.has(e))return!1;const t=async()=>{let i=await(typeof r=="function"?r:()=>Promise.resolve(r))();i!=null&&i.default&&(i=i.default);const s={...i};if(s.name=e,s.template)ye.registerComponentTemplate(e,s.template),delete s.template;else if(!s.functional&&typeof s.render!="function")return Ue("ComponentFactory",`The component "${s.name}" needs a template to be functional.`,'Please add a "template" property to your component definition',s),!1;return s};return je.set(e,t),t}function Xa(e,r,t={name:""}){let n;const i=async()=>{if(n)return n;let o=await(typeof t=="function"?t:()=>Promise.resolve(t))();return o!=null&&o.default&&(o=o.default),n={...o},n.template?(ye.extendComponentTemplate(e,r,n.template),delete n.template):ye.extendComponentTemplate(e,r),n.name=e,n.extends=r,n};return je.set(e,i),i}function Ta(e,r,t=null){let n;const i=async()=>n||(n=await(typeof r=="function"?r:()=>Promise.resolve(r))(),n!=null&&n.default&&(n=n.default),n.name=e,n.template&&(ye.registerTemplateOverride(e,n.template,t),delete n.template),n),s=De.get(e)||[];return s.push({index:t!==null?t:0,config:i}),s.sort((o,a)=>o.index-a.index),De.set(e,s),i}async function ss(e){return await Za(e),ye.getRenderedTemplate(e)}async function Za(e){const r=je.get(e),t=De.get(e);r&&await r(),t&&await Promise.all(t.map(n=>n.config()))}async function os(e,r=!1){var a;const t=je.get(e);if(!t)throw new Error(`The component registry has not found a component with the name "${e}".`);const n=await t();if(typeof n=="boolean")throw new Error(`The component registry could not build the component with the name "${e}".`);let i={...n};if(!i)throw new Error(`The config of the component "${e}" is invalid.`);if(i.extends){let c;if(typeof i.extends=="string"){const h=await os(i.extends,!0);typeof h!="boolean"&&(c=h)}c?(us(c,i),i.extends=c):delete i.extends}if(De.has(e)){const c=ki(De.get(e));(await Qa(c.map(l=>l.config),i)).forEach(l=>{l.extends=i,l._isOverride=!0,i={...l}})}const s=as(i);if(rc(s)&&i){const c=ls(i)?`#${e}`:typeof i.extends!="string"&&((a=i==null?void 0:i.extends)==null?void 0:a.name);i.methods={...i.methods,...ec(c,s)}}if(typeof(i==null?void 0:i.render)=="function"||r&&i)return delete i.template,i;const o=await ss(e);return i&&typeof o=="string"&&(i.template=o),typeof(i==null?void 0:i.template)!="string"?!1:i}async function Qa(e,r){if(!e)return[];const n=(await Promise.all(e.map(i=>i()))).reduceRight((i,s)=>{if(i.length===0)return[s];const o=i.shift();return Object.entries(s).forEach(([a,c])=>{if(o&&o.hasOwnProperty(a)){if(Array.isArray(c))return;typeof c=="object"&&Object.entries(c).forEach(([h,l])=>{o[a].hasOwnProperty(h)||(o[a][h]=l,delete s[a][h])})}else o[a]=c,delete s[a]}),[s,o,...i]},[]);return n.forEach(i=>{us(r,i)}),n}function as(e){let r={};return e._isOverride&&e.extends&&typeof e.extends!="string"&&(r=as(e.extends)),["computed","methods"].forEach(t=>{const n=e[t];if(!n)return;Object.entries(n).forEach(([s,o])=>{t==="computed"&&typeof o=="object"?Object.entries(o).forEach(([a,c])=>{const h=`${String(s)}.${String(a)}`;r=Mn(r,h,c,t,e)}):r=Mn(r,s,o,t,e)})}),r}function Mn(e,r,t,n,i){const s=/\.\$super/g,o=typeof t=="function"&&t.toString();if(!(o&&s.test(o)))return e;e.hasOwnProperty(r)||(e[r]={});const c=ls(i)?"#":"";return e[r]=cs(i,r,n,c),e}function ec(e,r){return{$super(t,...n){var o,a;if(t==="$super")throw new Error(`Don't call "$super" manually! This is not supported!`);this._initVirtualCallStack(t);const s=this._findInSuperRegister(t)[this._virtualCallStack[t]];if(!s)throw new Error(`There was an error resolving the "$super" chain for method "${t}".`);return(a=(o=s==null?void 0:s.func)==null?void 0:o.toString())!=null&&a.includes("$super")?(this._virtualCallStack[t]=s.parent,s.func.bind(this)(...n)):(this._virtualCallStack[t]=void 0,s.func.bind(this)(...n))},_initVirtualCallStack(t){this._virtualCallStack[t]||(this._virtualCallStack[t]=this._inheritedFrom())},_findInSuperRegister(t){return this._superRegistry()[t]},_superRegistry(){return r},_inheritedFrom(){return e}}}function cs(e,r,t="methods",n=""){const i=e.extends;if(!i||typeof i=="string")return{};const s=`${n}${i.name??""}`;let o=typeof i.extends=="object"&&i.extends?`${n}${i.extends.name??""}`:null;if(s===o){(n.length>0||i._isOverride)&&(n=`#${n}`);const f=i&&i.extends&&typeof i.extends!="string"&&i.extends.name;o=`${n}${typeof f=="string"?f:""}`}const a=Dr(i,r,t),c={};return c[s]={parent:o,func:a},typeof a=="function"&&!/\.\$super/g.test(a.toString())?(c[s].parent=null,c):{...cs(i,r,t,n),...c}}function us(e,r){["computed","methods"].forEach(t=>{if(!e.hasOwnProperty(t))return;const n=e[t];n&&(r.hasOwnProperty(t)||(r[t]={}),Object.entries(n).forEach(([i,s])=>{r[t].hasOwnProperty(i)||(t==="computed"&&typeof s=="object"?(r[t][i]={},Object.entries(s).forEach(([o])=>{r[t][i][o]=function(...a){return this.$super(`${i}.${o}`,...a)}})):r[t][i]=function(...o){return this.$super(i,...o)})}))})}function Dr(e,r,t){var i;const n=r.split(".");return n.length>1?tc(e,n,t):(i=e[t])!=null&&i[r]?e[t][r]:null}function tc(e,r,t){const[n,i]=r;return!e[t]||!e[t][n]?Dr(e.extends,n,t):e[t][n][i]}function ls(e){return!e.extends||typeof e.extends=="string"?!1:e.extends.name===e.name}function rc(e){return Object.keys(e).length!==0&&e.constructor===Object}function nc(){return ye.resolveTemplates(),!0}function ic(){return ye.getNormalizedTemplateRegistry().clear(),!0}class sc{_registerProperty(r,t){return Object.defineProperty(this,r,{value:t,writable:!1,enumerable:!0,configurable:!0}),this}_registerPrivateProperty(r,t){return Object.defineProperty(this,r,{value:t,writable:!1,enumerable:!0,configurable:!0}),this}_registerGetterMethod(r,t,n){return Object.defineProperty(this,r,{get:t,set:n,enumerable:!0,configurable:!0}),this}}function ps(){return new sc}function fs(e){return e?Shopware.Application.getContainer("service")[e]:{get:t=>Shopware.Application.getContainer("service")[t],list:()=>Shopware.Application.getContainer("service").$list(),register:(t,n)=>Shopware.Application.addServiceProvider(t,n),registerMiddleware:(...t)=>Shopware.Application.addServiceProviderMiddleware(...t),registerDecorator:(...t)=>Shopware.Application.addServiceProviderDecorator(...t)}}const oc=(e,r)=>function(){const n=function(){Object.entries(e).forEach(([s,o])=>{Object.defineProperty(this,s,{value:o,configurable:!0,enumerable:!0,writable:!0})})};return n.prototype=r,new n}(),Mr={register:uc,getByName:lc,getMixinRegistry:cc},Oe=new Map;function ac(e,r){Oe.set(e,r)}function cc(){return Oe}function uc(e,r){return Oe.has(e)||ac(e,r),Oe.get(e)}function lc(e){if(!Oe.has(e)||Oe.get(e)===void 0)throw new Error(`The mixin "${e}" is not registered.`);return Oe.get(e)}const Te={getRegistry:pc,register:fc,getByName:hc},rt=new Map;function pc(){return rt}function fc(e,r){return!e||!e.length||rt.has(e)?!1:(rt.set(e,r),!0)}function hc(e){return rt.get(e)}const Ze={registerDirective:dc,getDirectiveByName:yc,getDirectiveRegistry:mc},nt=new Map;function dc(e,r={}){return!e||!e.length||nt.has(e)?!1:(nt.set(e,r),!0)}function yc(e){return nt.get(e)}function mc(){return nt}const $e={getLocaleByName:Ec,getLocaleRegistry:xc,register:bc,extend:vc,getBrowserLanguage:hs,getBrowserLanguages:ds,getLastKnownLocale:_c,storeCurrentLocale:Sc},Ae=new Map,gc="en-GB",$r="sw-admin-locale";function xc(){return Ae}function bc(e,r={}){return!e||!e.length||e.split("-").length<2||Ae.has(e)?!1:(Ae.set(e,r),e)}function vc(e,r={}){if(e.split("-").length<2||!Ae.has(e))return!1;const t=Ae.get(e);return Ae.set(e,Ys.merge(t,r)),e}function Ec(e){return Ae.get(e)||!1}function _c(){let e=hs();return window.localStorage.getItem($r)!==null&&(e=window.localStorage.getItem($r)),e}function hs(){const e=new Map;Ae.forEach((t,n)=>{const i=n.split("-")[0];e.set(i.toLowerCase(),n)});let r=null;return ds().forEach(t=>{!r&&Ae.has(t)&&(r=t),!r&&e.has(t)&&(r=e.get(t)||null)}),r||gc}function ds(){var r;const e=[];return navigator.language&&e.push(navigator.language),(r=navigator.languages)!=null&&r.length&&navigator.languages.forEach(t=>{e.push(t)}),navigator.userLanguage&&e.push(navigator.userLanguage),navigator.systemLanguage&&e.push(navigator.systemLanguage),e}function Sc(e){var r;if(typeof document=="object"){const t=e.split("-")[0];(r=document.querySelector("html"))==null||r.setAttribute("lang",t)}return window.localStorage.setItem($r,e),e}const Qe={getPathByCombination:Rc,getShortcutRegistry:Ac,register:wc},We=new Map;function Rc(e){return We.has(e)?We.get(e):!1}function Ac(){return We}function wc(e,r=""){return!e||!e.length||We.has(e)?!1:(We.set(e,r),e)}const Ur={addBootPromise:Pc,getBootPromises:Oc},ys=[];function Pc(){let e;return ys.push(new Promise(r=>{e=r})),e}function Oc(){return ys}const Ie={getRegistry:kc,register:Cc,getByName:Fc,getServices:Ic,has:ms},Je=new Map;function kc(){return Je}function Cc(e,r=null){return!e||!e.length||ms(e)?!1:(Je.set(e,r),!0)}function ms(e){return Je.has(e)}function Fc(e){return Je.get(e)}function Ic(){return Array.from(Je).reduce((e,[r,t])=>(e[r]=t,e),{})}const gs=["uuid","int","text","password","float","string","blob","boolean","date"],xs=["json_list","json_object"];function Bc(){return gs}function Lc(){return xs}class bs{constructor({entity:r,properties:t}){this.entity=r,this.properties=t}getEntity(){return this.entity}getPrimaryKeyFields(){return this.filterProperties(r=>{var t;return((t=r.flags)==null?void 0:t.primary_key)===!0})}getAssociationFields(){return this.filterProperties(r=>r.type==="association")}getToManyAssociations(){return this.filterProperties(r=>r.type!=="association"?!1:["one_to_many","many_to_many"].includes(r.relation??""))}getToOneAssociations(){return this.filterProperties(r=>r.type!=="association"?!1:["one_to_one","many_to_one"].includes(r.relation??""))}getTranslatableFields(){return this.filterProperties(r=>this.isTranslatableField(r))}getRequiredFields(){return this.filterProperties(r=>{var t;return((t=r.flags)==null?void 0:t.required)===!0})}filterProperties(r){if(typeof r!="function")return{};const t={};return Object.keys(this.properties).forEach(n=>{r(this.properties[n])&&(t[n]=this.properties[n])}),t}getField(r){return this.properties[r]}forEachField(r){typeof r=="function"&&Object.keys(this.properties).forEach(t=>{r(this.properties[t],t,this.properties)})}isScalarField(r){return gs.includes(r.type??"")}isJsonField(r){return xs.includes(r.type??"")}isJsonObjectField(r){return r.type==="json_object"}isJsonListField(r){return r.type==="json_list"}isToManyAssociation(r){return r.type==="association"&&["one_to_many","many_to_many"].includes(r.relation??"")}isToOneAssociation(r){return r.type==="association"&&["many_to_one","one_to_one"].includes(r.relation??"")}isOneToOneAssociation(r){return r.type==="association"&&r.relation==="one_to_one"}isTranslatableField(r){var t;return(r.type==="string"||r.type==="text")&&((t=r.flags)==null?void 0:t.translatable)===!0}}const be={getScalarTypes:Bc,getJsonTypes:Lc,getDefinitionRegistry:Nc,has:jc,get:ut,add:Dc,remove:Mc,getTranslatedFields:$c,getAssociationFields:Uc,getRequiredFields:qc},Ye=new Map;function Nc(){return Ye}function jc(e){return Ye.has(e)}function ut(e){const r=Ye.get(e);if(typeof r>"u")throw new Error(`[EntityDefinitionRegistry] No definition found for entity type ${e}`);return r}function Dc(e,r){Ye.set(e,new bs(r))}function Mc(e){return Ye.delete(e)}function $c(e){return ut(e).getTranslatableFields()}function Uc(e){return ut(e).getAssociationFields()}function qc(e){return ut(e).getRequiredFields()}const Be={getRegistry:vs,register:zc,remove:Vc,override:Hc,initialize:Wc,resetHelper:Jc},ke=new Map;let et=new at,qr=!1;function vs(){return ke}function zc(e,r){return!e||!e.length||ke.has(e)||!Es(r)?!1:(ke.set(e,r),!0)}function Vc(e){return!e||!e.length||!ke.has(e)?!1:(ke.delete(e),!0)}function Hc(e,r){return!ke.has(e)||!Es(r)?!1:(ke.set(e,r),!0)}function Wc(){return qr||(qr=!0,vs().forEach(({fn:e,name:r})=>{et.use(Gc(r,e))})),et}function Gc(e,r){return(t,n)=>{const i=n.queue.find(o=>o.name===e)||null,s={...n,entry:i,name:e};i===null?t():r.call(null,t,s)}}function Es(e){return ee(e,"name")&&e.name.length>0&&ee(e,"fn")&&Ve.isFunction(e.fn)}function Jc(){return et=new at,qr=!1,!0}class Yc{constructor(r=()=>0,t=1){this._registeredNodes=new Map,this._defaultPosition=t,this._sorting=r}convertToTree(){return this._tree(this._registeredNodes)}_tree(r,t=1,n=void 0){const i=[];return r.forEach(s=>{if(s.parent!==n)return;s.level=t;const o=s.id||s.path;s.children=this._tree(r,t+1,o),i.push(s)}),i.sort(this._sorting)}add(r){const t=r.id||r.path;return t?(ee(r,"link")&&!ee(r,"target")&&(r.target="_self"),r.position||(r.position=this._defaultPosition),this._registeredNodes.has(t)?(Ue("FlatTree",`Tree contains node with unique identifier ${t} already.`,"Please remove it first before adding a new one.",this._registeredNodes.get(t)),this):(this._registeredNodes.set(t,r),this)):this}remove(r){return this._registeredNodes.delete(r),this}}function zr(){this.listeners=[],window.addEventListener("resize",this.resize.bind(this))}zr.prototype=Object.assign(zr.prototype,{resize:Vr.debounce(function(r){this.listeners.forEach(t=>{t.listener.call(t.scope,r)})},100),onResize({listener:e,scope:r,component:t}){return r||(r=window),this.listeners.push({listener:e,scope:r,component:t}),this.listeners.length-1},removeResizeListener(e){return this.listeners=this.listeners.filter(r=>e!==r.component),!0},getUserAgent(){return window.navigator.userAgent},getViewportWidth(){return window.innerWidth},getViewportHeight(){return window.innerHeight},getDevicePixelRatio(){return window.devicePixelRatio},getScreenWidth(){return window.screen.width},getScreenHeight(){return window.screen.height},getScreenOrientation(){return window.screen.orientation},getBrowserLanguage(){return window.navigator.language},getPlatform(){return window.navigator.platform},getSystemKey(){return this.getPlatform().indexOf("Mac")>-1?"CTRL":"ALT"}});class Kc{create(r,t,n){t=t||Vr.createId();const i=Shopware.EntityDefinition.get(r);if(!i)return null;const s={extensions:{}},o=i.getToManyAssociations();Object.keys(o).forEach(c=>{const h=o[c].entity;o[c].flags.extension?s.extensions[c]=this.createCollection(r,`${t}/extensions`,c,h,n):s[c]=this.createCollection(r,t,c,h,n)});const a=new Hr(t,r,s);return a.markAsNew(),a}createCollection(r,t,n,i,s){const o=n.replace(/_/g,"-"),c=`/${r.replace(/_/g,"-")}/${t}/${o}`;return new qe(c,i,s,new st(1,10))}}class Xc{constructor(){this.cache={}}hydrateSearchResult(r,t,n,i,s){var a;this.cache={};const o=[];return n.data.data.forEach(c=>{const h=this.hydrateEntity(t,c,n.data,i,s);h!==null&&o.push(h)}),new qe(r,t,i,s,o,(a=n.data.meta)==null?void 0:a.total,n.data.aggregations)}hydrate(r,t,n,i,s){this.cache={};const o=new qe(r,t,i,s);return n.data.forEach(a=>{const c=this.hydrateEntity(t,a,n,i,s);c!==null&&o.add(c)}),o}hydrateEntity(r,t,n,i,s){if(!t)return null;const o=t.id,a=`${r}-${o}`;if(this.cache[a])return this.cache[a];const c=Shopware.EntityDefinition.get(r);if(!c)return null;const h=t.attributes;h.id=o,Object.entries(h).forEach(([f,y])=>{const m=c.getField(f);if(!m||!c.isJsonField(m))return;if(Array.isArray(y)&&y.length<=0&&c.isJsonObjectField(m)){h[f]={};return}const x=!Array.isArray(y)&&typeof y=="object"&&y!==null&&Object.keys(y).length<=0;c.isJsonListField(m)&&(x||y===null)&&(h[f]=[])}),Object.keys(t.relationships).forEach(f=>{const y=t.relationships[f];f==="extensions"&&(h[f]=this.hydrateExtensions(o,y,c,n,i,s));const m=c.properties[f];if(!m)return!0;if(c.isToManyAssociation(m))return h[f]=this.hydrateToMany(s,f,y,m.entity,i,n),!0;if(c.isToOneAssociation(m)&&Ve.isObject(y.data)){const x=this.hydrateToOne(s,f,y,n,i);x&&(h[f]=x)}return!0});const l=new Hr(o,r,h);return this.cache[a]=l,l}hydrateToOne(r,t,n,i,s){const o=this.getAssociationCriteria(r,t),a=this.getIncluded(n.data.type,n.data.id,i);return this.hydrateEntity(n.data.type,a,i,s,o)}getAssociationCriteria(r,t){return r.hasAssociation(t)?r.getAssociation(t):new st(1,25)}hydrateToMany(r,t,n,i,s,o){const a=this.getAssociationCriteria(r,t),c=(s==null?void 0:s.apiResourcePath)??"",h=n.links.related.substr(n.links.related.indexOf(c)+c.length),l=new qe(h,i,s,a);return n.data===null||n.data.forEach(f=>{const y=this.getIncluded(f.type,f.id,o),m=this.hydrateEntity(f.type,y,o,s,a);m&&l.add(m)}),l}getIncluded(r,t,n){return n.included.find(i=>i.id===t&&i.type===r)}hydrateExtensions(r,t,n,i,s,o){const a=this.getIncluded("extension",r,i),c={...a.attributes};return Object.keys(a.relationships).forEach(h=>{const l=a.relationships[h],f=n.properties[h];if(!f)return!0;if(n.isToManyAssociation(f))return c[h]=this.hydrateToMany(o,h,l,f.entity,s,i),!0;if(n.isToOneAssociation(f)&&Ve.isObject(l.data)){const y=this.hydrateToOne(o,h,l,i,s);y&&(c[h]=y)}return!0}),c}}class _s{constructor(r,t,n,i,s,o,a,c){this.route=r,this.entityName=t,this.httpClient=n,this.hydrator=i,this.changesetGenerator=s,this.entityFactory=o,this.errorResolver=a,this.options=c}get schema(){return Shopware.EntityDefinition.get(this.entityName)}searchIds(r,t=Shopware.Context.api){const n=this.buildHeaders(t);let i=`/search-ids${this.route}`;return r.getTitle()!==null&&(i+=`?title=${r.getTitle()}`),this.httpClient.post(i,r.parse(),{headers:n}).then(s=>s.data)}search(r,t=Shopware.Context.api){const n=this.buildHeaders(t);let i=`/search${this.route}`;return r.getTitle()!==null&&(i+=`?title=${r.getTitle()}`),this.httpClient.post(i,r.parse(),{headers:n}).then(s=>this.hydrator.hydrateSearchResult(this.route,this.entityName,s,t,r))}get(r,t=Shopware.Context.api,n=null){return n=n||new st(1,1),n.setIds([r]),this.search(n,t).then(i=>i.get(r))}save(r,t=Shopware.Context.api){return this.options.useSync===!0?this.saveWithSync(r,t):this.saveWithRest(r,t)}async saveWithRest(r,t){const{changes:n,deletionQueue:i}=this.changesetGenerator.generate(r);return this.options.keepApiErrors||this.errorResolver.resetApiErrors(),await this.sendDeletions(i,t),this.sendChanges(r,n,t)}async saveWithSync(r,t){const{changes:n,deletionQueue:i}=this.changesetGenerator.generate(r);r.isNew()&&Object.assign(n||{},{id:r.id});const s=[];i.length>0&&s.push(...this.buildDeleteOperations(i)),n!==null&&s.push({key:"write",action:"upsert",entity:r.getEntityName(),payload:[n]});const o=this.buildHeaders(t);return o["single-operation"]=!0,s.length<=0?Promise.resolve():(this.options.keepApiErrors||this.errorResolver.resetApiErrors(),this.httpClient.post("_action/sync",s,{headers:o}).catch(a=>{var l,f;const c=[];throw(((f=(l=a==null?void 0:a.response)==null?void 0:l.data)==null?void 0:f.errors)??[]).forEach(y=>{var m,x;(x=(m=y==null?void 0:y.source)==null?void 0:m.pointer)!=null&&x.startsWith("/write/")&&(y.source.pointer=y.source.pointer.substring(6),c.push(y))}),this.errorResolver.handleWriteErrors([{entity:r,changes:n}],{errors:c}),a}))}clone(r,t,n=Shopware.Context.api){return r?this.httpClient.post(`/_action/clone${this.route}/${r}`,t,{headers:this.buildHeaders(n)}).then(i=>i.data):Promise.reject(new Error("Missing required argument: id"))}hasChanges(r){const{changes:t,deletionQueue:n}=this.changesetGenerator.generate(r);return t!==null||n.length>0}saveAll(r,t=Shopware.Context.api){const n=[];return r.forEach(i=>{n.push(this.save(i,t))}),Promise.all(n)}async sync(r,t=Shopware.Context.api,n=!0){const{changeset:i,deletions:s}=this.getSyncChangeset(r);return this.options.keepApiErrors||this.errorResolver.resetApiErrors(),await this.sendDeletions(s,t),this.sendUpserts(i,n,t)}discard(r){if(!r)return;const{changes:t}=this.changesetGenerator.generate(r);if(!t)return;const n=r.getOrigin();Object.keys(t).forEach(i=>{r[i]=n[i]})}sendUpserts(r,t,n=Shopware.Context.api){if(r.length<=0)return Promise.resolve();const i=r.map(({changes:o})=>o),s=this.buildHeaders(n);return s["fail-on-error"]=t,this.httpClient.post("_action/sync",{[this.entityName]:{entity:this.entityName,action:"upsert",payload:i}},{headers:s}).then(({data:o})=>{if(o.success===!1)throw o;return Promise.resolve()}).catch(o=>{const a=this.getSyncErrors(o);throw this.errorResolver.handleWriteErrors(r,{errors:a}),o})}getSyncErrors(r){var n,i;const t=((i=(n=r==null?void 0:r.response)==null?void 0:n.data)==null?void 0:i.errors)??[];return t.forEach(s=>{if(!s.source||!s.source.pointer)return;const o=s.source.pointer.split("/");o[0]===""&&o.shift(),o.shift(),s.source.pointer=o.join("/")}),t}getSyncChangeset(r){return r.reduce((t,n)=>{const{changes:i,deletionQueue:s}=this.changesetGenerator.generate(n);if(t.deletions.push(...s),i===null)return t;const o=this.changesetGenerator.getPrimaryKeyData(n);return Object.assign(i,o),t.changeset.push({entity:n,changes:i}),t},{changeset:[],deletions:[]})}assign(r,t=Shopware.Context.api){const n=this.buildHeaders(t);return this.httpClient.post(`${this.route}`,{id:r},{headers:n})}delete(r,t=Shopware.Context.api){const n=this.buildHeaders(t),i=`${this.route}/${r}`;return this.httpClient.delete(i,{headers:n}).catch(s=>{var a,c,h;const o=(h=(c=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:c.errors)==null?void 0:h.map(l=>({error:l,id:r,entityName:this.entityName}));throw this.errorResolver.handleDeleteError(o),s})}iterateIds(r,t,n=Shopware.Context.api){return r.getLimit()===null&&r.setLimit(50),r.setTotalCountMode(1),this.searchIds(r,n).then(i=>{const s=i.data;return s.length<=0?Promise.resolve():t(s).then(()=>s.length<r.getLimit()?Promise.resolve():(r.setPage(r.getPage()+1),this.iterateIds(r,t)))})}syncDeleted(r,t=Shopware.Context.api){const n=this.buildHeaders(t);n["fail-on-error"]=!0;const i=r.map(s=>({id:s}));return this.httpClient.post("_action/sync",{[this.entityName]:{entity:this.entityName,action:"delete",payload:i}},{headers:n}).then(({data:s})=>{if(s.success===!1)throw s;return Promise.resolve()}).catch(s=>{var c,h;const o=(h=(c=s==null?void 0:s.response)==null?void 0:c.data)==null?void 0:h.data[this.entityName].result;if(!o)return;const a=o.reduce((l,f,y)=>(f.errors&&f.errors.forEach(m=>{l.push({error:m,entityName:this.entityName,id:r[y]})}),l),[]);throw this.errorResolver.handleDeleteError(a),s})}create(r=Shopware.Context.api,t=null){return this.entityFactory.create(this.entityName,t,r)}createVersion(r,t=Shopware.Context.api,n=null,i=null){const s=this.buildHeaders(t),o={};n&&(o.versionId=n),i&&(o.versionName=i);const a=`_action/version/${this.entityName.replace(/_/g,"-")}/${r}`;return this.httpClient.post(a,o,{headers:s}).then(c=>({...t,versionId:c.data.versionId}))}mergeVersion(r,t=Shopware.Context.api){const n=this.buildHeaders(t),i=`_action/version/merge/${this.entityName.replace(/_/g,"-")}/${r}`;return this.httpClient.post(i,{},{headers:n})}deleteVersion(r,t,n=Shopware.Context.api){const i=this.buildHeaders(n),s=`/_action/version/${t}/${this.entityName.replace(/_/g,"-")}/${r}`;return this.httpClient.post(s,{},{headers:i})}sendChanges(r,t,n=Shopware.Context.api){const i=this.buildHeaders(n);return r.isNew()?(t=t||{},Object.assign(t,{id:r.id}),this.httpClient.post(`${this.route}`,t,{headers:i}).catch(s=>{var a,c;const o=(c=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:c.errors;if(o)throw this.errorResolver.handleWriteErrors([{entity:r,changes:t}],{errors:o}),s})):typeof t>"u"||t===null?Promise.resolve():this.httpClient.patch(`${this.route}/${r.id}`,t,{headers:i}).catch(s=>{var a,c;const o=(c=(a=s==null?void 0:s.response)==null?void 0:a.data)==null?void 0:c.errors;if(o)throw this.errorResolver.handleWriteErrors([{entity:r,changes:t}],{errors:o}),s})}sendDeletions(r,t=Shopware.Context.api){const n=this.buildHeaders(t),i=r.map(s=>this.httpClient.delete(`${s.route}/${s.key}`,{headers:n}).catch(o=>{throw this.errorResolver.handleDeleteError(o),o}));return Promise.all(i)}buildHeaders(r=Shopware.Context.api){const{hasOwnProperty:t}=Shopware.Utils.object,n=t(this.options,"compatibility")?this.options.compatibility:!0,i=t(this.options,"sw-app-integration-id")?this.options["sw-app-integration-id"]:!1;let s={Accept:"application/vnd.api+json",Authorization:`Bearer ${r.authToken.access}`,"Content-Type":"application/json","sw-api-compatibility":n};return r.languageId&&(s={"sw-language-id":r.languageId,...s}),r.currencyId&&(s={"sw-currency-id":r.currencyId,...s}),r.versionId&&(s={"sw-version-id":r.versionId,...s}),r.inheritance&&(s={"sw-inheritance":r.inheritance,...s}),i&&(s={"sw-app-integration-id":i,...s}),s}buildDeleteOperations(r){const t={};r.forEach(i=>{const s=i.entity;s&&(t.hasOwnProperty(s)||(t[s]=[]),t[s].push(i.primary))});const n=[];return Object.keys(t).forEach(i=>{const s=t[i];n.push({action:"delete",payload:s,entity:i})}),n}}class Ss{constructor(){this.STRING_FILTER_INPUT="string-filter",this.NUMBER_FILTER_INPUT="number-filter",this.DATE_FILTER_INPUT="date-filter",this.ASSOCIATION_FILTER_INPUT="multi-select-filter",this.BOOLEAN_FILTER_INPUT="boolean-filter",this.PRICE_FILTER_INPUT="price-filter",this.EXISTENCE_FILTER_INPUT="existence-filter"}create(r,t){return Object.entries(t).map(([n,i])=>{i.name=n;const s=this.getFilterProperties(r,i.property);if(i.type||!s)return i;switch(i.schema=s,s.type){case"string":i.type=this.STRING_FILTER_INPUT;break;case"int":i.type=this.NUMBER_FILTER_INPUT;break;case"date":i.type=this.DATE_FILTER_INPUT;break;case"association":i.type=s.relation==="many_to_many"||s.relation==="many_to_one"?this.ASSOCIATION_FILTER_INPUT:this.EXISTENCE_FILTER_INPUT;break;case"boolean":i.type=this.BOOLEAN_FILTER_INPUT;break;default:i.type=this.STRING_FILTER_INPUT}return i.property==="price"&&(i.type=this.NUMBER_FILTER_INPUT),i})}getFilterProperties(r,t){const{properties:n}=Shopware.EntityDefinition.get(r),i=t.split("."),s=i.shift(),o=n[s];if(!o)throw new Error(`No definition found for property ${s}`);if(i.length>0&&o.entity)return this.getFilterProperties(o.entity,i.join("."));let a={...o};return o.type==="uuid"&&Object.keys(n).forEach(c=>{n[c].type==="association"&&n[c].localField===s&&(a=n[c])}),a}}const Tc={ChangesetGenerator:Qs,Criteria:st,Entity:Hr,EntityCollection:qe,EntityDefinition:bs,EntityFactory:Kc,EntityHydrator:Xc,Repository:_s,ErrorResolver:Zs,FilterFactory:Ss};class Zc{constructor(r){this.viewInitialized=new Promise(n=>{this._resolveViewInitialized=n});const t=()=>{};this.$container=r,this.view=null,this.$container.service("service",t),this.$container.service("init",t),this.$container.service("factory",t),this.$container.service("init-pre",t),this.$container.service("init-post",t)}getContainer(r){return typeof r=="string"&&this.$container.container[r]?this.$container.container[r]:this.$container.container}addFactory(r,t){return this.$container.factory(`factory.${r}`,t.bind(this)),this}addFactoryMiddleware(r,t){return this._addMiddleware("factory",r,t)}addFactoryDecorator(r,t){return this._addDecorator("factory",r,t)}addInitializer(r,t,n=""){return this.$container.factory(`init${n}.${r}`,t.bind(this)),this}addServiceProvider(r,t){return this.$container.factory(`service.${r}`,t.bind(this)),this}registerConfig(r){return r.apiContext&&this.registerApiContext(r.apiContext),r.appContext&&this.registerAppContext(r.appContext),this}registerApiContext(r){return Shopware.Context.api=Shopware.Classes._private.ApiContextFactory(r),this}registerAppContext(r){return Shopware.Context.app=Shopware.Classes._private.AppContextFactory(r),this}addServiceProviderMiddleware(r,t){return this._addMiddleware("service",r,t)}_addMiddleware(r,t,n){return typeof t=="string"&&n&&this.$container.middleware(`${r}.${t}`,n),typeof t=="function"&&t&&this.$container.middleware(r,t),this}initializeFeatureFlags(){const r=Shopware.Context.app.features;if(!r)throw new Error(`
                Feature initialization does not work
                because the context does not contain any features.
            `);return Shopware.Feature.init(r),this}addServiceProviderDecorator(r,t){return this._addDecorator("service",r,t)}_addDecorator(r,t,n){return typeof t=="string"&&n&&this.$container.decorator(`${r}.${t}`,n),typeof t=="function"&&t&&this.$container.decorator(r,t),this}start(r={}){return this.initState().registerConfig(r).initializeFeatureFlags().startBootProcess()}initState(){if(this.getContainer("init-pre").state)return this;throw new Error("State could not be initialized")}getApplicationRoot(){var r;return(r=this.view)!=null&&r.root?this.view.root:!1}setViewAdapter(r){this.view=r}async startBootProcess(){const r=this.getContainer("service").loginService;if(!r.isLoggedIn())return r.logout(!1,!1),this.bootLogin();const t=r.getBearerAuthentication("expiry");if(t<Date.now()+5e3)try{await r.refreshToken()}catch(n){return console.warn("Error while refreshing token",n),r.logout(!1,!1),this.bootLogin()}else r.restartAutoTokenRefresh(t);return this.bootFullApplication()}bootLogin(){return sessionStorage.setItem("sw-login-should-reload","true"),this.initializeLoginInitializer().then(()=>this.view?this.view.initDependencies():Promise.reject()).then(()=>this.createApplicationRoot()).catch(r=>this.createApplicationRootError(r))}bootFullApplication(){const r=this.getContainer("init-pre"),t=this.getContainer("init"),n=this.getContainer("init-post");return this.initializeInitializers(r,"-pre").then(()=>this.initializeInitializers(t)).then(()=>this.initializeInitializers(n,"-post")).then(()=>this.loadPlugins()).then(()=>Promise.all(Shopware.Plugin.getBootPromises())).then(()=>this.view?this.view.initDependencies():Promise.reject()).then(()=>this.createApplicationRoot()).catch(i=>this.createApplicationRootError(i))}createApplicationRoot(){var s,o,a;const t=this.getContainer("init").router.getRouterInstance();if(Shopware.Context.app.environment==="testing")return Promise.resolve(this);if(!this.view)return Promise.reject(new Error("The ViewAdapter was not defined in the application."));this.view.init("#app",t,this.getContainer("service"));const n=Shopware.Context.app.firstRunWizard,i=this.getContainer("service").loginService;return n&&i.isLoggedIn()&&!((a=(o=(s=t==null?void 0:t.currentRoute)==null?void 0:s.value)==null?void 0:o.name)!=null&&a.startsWith("sw.first.run.wizard"))&&t.push({name:"sw.first.run.wizard.index"}),typeof this._resolveViewInitialized=="function"&&this._resolveViewInitialized(),Promise.resolve(this)}createApplicationRootError(r){var i,s,o;console.error(r);const n=this.getContainer("init").router.getRouterInstance();(i=this.view)==null||i.init("#app",n,this.getContainer("service")),(o=(s=this.view)==null?void 0:s.root)!=null&&o.initError&&(this.view.root.initError=r),n.push({name:"error"})}initializeInitializers(r,t=""){const n=r.$list().map(s=>`init${t}.${s}`);this.$container.digest(n);const i=this.getAsyncInitializers(r,t);return Promise.all(i)}initializeLoginInitializer(){const r=["login","baseComponents","locale","coreDirectives","apiServices","store"],t=this.getContainer("init"),n=this.getContainer("init-pre"),i=this.getContainer("init-post"),s=[],o=[],a=[];return r.forEach(c=>{if(n.hasOwnProperty(c)){s.push(`init-pre.${c}`);return}if(t.hasOwnProperty(c)){o.push(`init.${c}`);return}if(i.hasOwnProperty(c)){a.push(`init-post.${c}`);return}console.error(`The login initializer "${c}" does not exist`)}),this.$container.digest(s),this.$container.digest(o),this.$container.digest(a),Promise.all(this.getAsyncInitializers(r))}getAsyncInitializers(r,t=""){const n=this.getContainer(`init${t}`),i=[];let s=r;return r instanceof Array||(s=Object.keys(r)),s.forEach(o=>{var c;const a=n[o];((c=a==null?void 0:a.constructor)==null?void 0:c.name)==="Promise"&&i.push(a)}),i}async loadPlugins(){let r;r=Shopware.Context.app.config.bundles,r["swag-commercial"]&&await this.injectPlugin(r["swag-commercial"]),r.SwagCommercial&&await this.injectPlugin(r.SwagCommercial);const t=Object.entries(r).filter(([i])=>!["swag-commercial","SwagCommercial","Administration"].includes(i)).map(([,i])=>this.injectPlugin(i)),n=Shopware.Context.app.config.bundles;return Object.entries(n).forEach(([i,s])=>{s.baseUrl&&this.injectIframe({active:s.active,integrationId:s.integrationId,bundleName:i,bundleVersion:s.version,iframeSrc:s.baseUrl,bundleType:s.type})}),Promise.all(t)}async injectPlugin(r){let t=[],n=[];r.js&&Array.isArray(r.js)?t=r.js.map(i=>this.injectJs(i)):r.js&&t.push(this.injectJs(r.js)),r.css&&Array.isArray(r.css)?n=r.css.map(i=>this.injectCss(i)):r.css&&n.push(this.injectCss(r.css));try{return await Promise.all([...t,...n])}catch{return console.warn("Error while loading plugin",r),null}}injectJs(r){return new Promise((t,n)=>{const i=document.createElement("script");i.src=r,i.async=!0,i.type="module",i.onload=()=>{t()},i.onerror=()=>{n()},document.body.appendChild(i)})}injectCss(r){return new Promise((t,n)=>{const i=document.createElement("link");i.rel="stylesheet",i.href=r,i.onload=()=>{t()},i.onerror=()=>{n()},document.head.appendChild(i)})}injectIframe({active:r,integrationId:t,bundleName:n,iframeSrc:i,bundleVersion:s,bundleType:o}){const a=Shopware.Context.app.config.bundles;let c=null;a&&a.hasOwnProperty(n)&&(c=a[n].permissions);const h={active:r,integrationId:t,name:n,baseUrl:i,version:s,type:o??"plugin",permissions:{}};h.permissions=c??Le({}),Shopware.Store.get("extensions").addExtension(h)}}var Xe={exports:{}},Kt,$n;function Rs(){return $n||($n=1,Kt=function(r,t){return function(){return r.apply(t,arguments)}}),Kt}var Xt,Un;function ne(){if(Un)return Xt;Un=1;var e=Rs(),r=Object.prototype.toString,t=function(_){return function(q){var z=r.call(q);return _[z]||(_[z]=z.slice(8,-1).toLowerCase())}}(Object.create(null));function n(_){return _=_.toLowerCase(),function(z){return t(z)===_}}function i(_){return Array.isArray(_)}function s(_){return typeof _>"u"}function o(_){return _!==null&&!s(_)&&_.constructor!==null&&!s(_.constructor)&&typeof _.constructor.isBuffer=="function"&&_.constructor.isBuffer(_)}var a=n("ArrayBuffer");function c(_){var q;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?q=ArrayBuffer.isView(_):q=_&&_.buffer&&a(_.buffer),q}function h(_){return typeof _=="string"}function l(_){return typeof _=="number"}function f(_){return _!==null&&typeof _=="object"}function y(_){if(t(_)!=="object")return!1;var q=Object.getPrototypeOf(_);return q===null||q===Object.prototype}function m(_){return _&&Object.keys(_).length===0&&Object.getPrototypeOf(_)===Object.prototype}var x=n("Date"),v=n("File"),A=n("Blob"),B=n("FileList");function M(_){return r.call(_)==="[object Function]"}function U(_){return f(_)&&M(_.pipe)}function W(_){var q="[object FormData]";return _&&(typeof FormData=="function"&&_ instanceof FormData||r.call(_)===q||M(_.toString)&&_.toString()===q)}var F=n("URLSearchParams");function j(_){return _.trim?_.trim():_.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}function S(){var _;return typeof navigator<"u"&&((_=navigator.product)==="ReactNative"||_==="NativeScript"||_==="NS")?!1:typeof window<"u"&&typeof document<"u"}function L(_,q){if(!(_===null||typeof _>"u"))if(typeof _!="object"&&(_=[_]),i(_))for(var z=0,H=_.length;z<H;z++)q.call(null,_[z],z,_);else for(var O in _)Object.prototype.hasOwnProperty.call(_,O)&&q.call(null,_[O],O,_)}function D(){var _={};function q(O,te){y(_[te])&&y(O)?_[te]=D(_[te],O):y(O)?_[te]=D({},O):i(O)?_[te]=O.slice():_[te]=O}for(var z=0,H=arguments.length;z<H;z++)L(arguments[z],q);return _}function J(_,q,z){return L(q,function(O,te){z&&typeof O=="function"?_[te]=e(O,z):_[te]=O}),_}function X(_){return _.charCodeAt(0)===65279&&(_=_.slice(1)),_}function re(_,q,z,H){_.prototype=Object.create(q.prototype,H),_.prototype.constructor=_,z&&Object.assign(_.prototype,z)}function oe(_,q,z,H){var O,te,k,C={};if(q=q||{},_==null)return q;do{for(O=Object.getOwnPropertyNames(_),te=O.length;te-- >0;)k=O[te],(!H||H(k,_,q))&&!C[k]&&(q[k]=_[k],C[k]=!0);_=z!==!1&&Object.getPrototypeOf(_)}while(_&&(!z||z(_,q))&&_!==Object.prototype);return q}function ie(_,q,z){_=String(_),(z===void 0||z>_.length)&&(z=_.length),z-=q.length;var H=_.indexOf(q,z);return H!==-1&&H===z}function pe(_){if(!_)return null;if(i(_))return _;var q=_.length;if(!l(q))return null;for(var z=new Array(q);q-- >0;)z[q]=_[q];return z}var ue=function(_){return function(q){return _&&q instanceof _}}(typeof Uint8Array<"u"&&Object.getPrototypeOf(Uint8Array));function fe(_,q){for(var z=_&&_[Symbol.iterator],H=z.call(_),O;(O=H.next())&&!O.done;){var te=O.value;q.call(_,te[0],te[1])}}function ae(_,q){for(var z,H=[];(z=_.exec(q))!==null;)H.push(z);return H}var ge=n("HTMLFormElement"),se=function(q){return function(z,H){return q.call(z,H)}}(Object.prototype.hasOwnProperty);return Xt={isArray:i,isArrayBuffer:a,isBuffer:o,isFormData:W,isArrayBufferView:c,isString:h,isNumber:l,isObject:f,isPlainObject:y,isEmptyObject:m,isUndefined:s,isDate:x,isFile:v,isBlob:A,isFunction:M,isStream:U,isURLSearchParams:F,isStandardBrowserEnv:S,forEach:L,merge:D,extend:J,trim:j,stripBOM:X,inherits:re,toFlatObject:oe,kindOf:t,kindOfTest:n,endsWith:ie,toArray:pe,isTypedArray:ue,isFileList:B,forEachEntry:fe,matchAll:ae,isHTMLForm:ge,hasOwnProperty:se},Xt}var As={},lt={};lt.byteLength=tu;lt.toByteArray=nu;lt.fromByteArray=ou;var Ee=[],de=[],Qc=typeof Uint8Array<"u"?Uint8Array:Array,Tt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/";for(var Fe=0,eu=Tt.length;Fe<eu;++Fe)Ee[Fe]=Tt[Fe],de[Tt.charCodeAt(Fe)]=Fe;de[45]=62;de[95]=63;function ws(e){var r=e.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var t=e.indexOf("=");t===-1&&(t=r);var n=t===r?0:4-t%4;return[t,n]}function tu(e){var r=ws(e),t=r[0],n=r[1];return(t+n)*3/4-n}function ru(e,r,t){return(r+t)*3/4-t}function nu(e){var r,t=ws(e),n=t[0],i=t[1],s=new Qc(ru(e,n,i)),o=0,a=i>0?n-4:n,c;for(c=0;c<a;c+=4)r=de[e.charCodeAt(c)]<<18|de[e.charCodeAt(c+1)]<<12|de[e.charCodeAt(c+2)]<<6|de[e.charCodeAt(c+3)],s[o++]=r>>16&255,s[o++]=r>>8&255,s[o++]=r&255;return i===2&&(r=de[e.charCodeAt(c)]<<2|de[e.charCodeAt(c+1)]>>4,s[o++]=r&255),i===1&&(r=de[e.charCodeAt(c)]<<10|de[e.charCodeAt(c+1)]<<4|de[e.charCodeAt(c+2)]>>2,s[o++]=r>>8&255,s[o++]=r&255),s}function iu(e){return Ee[e>>18&63]+Ee[e>>12&63]+Ee[e>>6&63]+Ee[e&63]}function su(e,r,t){for(var n,i=[],s=r;s<t;s+=3)n=(e[s]<<16&16711680)+(e[s+1]<<8&65280)+(e[s+2]&255),i.push(iu(n));return i.join("")}function ou(e){for(var r,t=e.length,n=t%3,i=[],s=16383,o=0,a=t-n;o<a;o+=s)i.push(su(e,o,o+s>a?a:o+s));return n===1?(r=e[t-1],i.push(Ee[r>>2]+Ee[r<<4&63]+"==")):n===2&&(r=(e[t-2]<<8)+e[t-1],i.push(Ee[r>>10]+Ee[r>>4&63]+Ee[r<<2&63]+"=")),i.join("")}var Tr={};/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */Tr.read=function(e,r,t,n,i){var s,o,a=i*8-n-1,c=(1<<a)-1,h=c>>1,l=-7,f=t?i-1:0,y=t?-1:1,m=e[r+f];for(f+=y,s=m&(1<<-l)-1,m>>=-l,l+=a;l>0;s=s*256+e[r+f],f+=y,l-=8);for(o=s&(1<<-l)-1,s>>=-l,l+=n;l>0;o=o*256+e[r+f],f+=y,l-=8);if(s===0)s=1-h;else{if(s===c)return o?NaN:(m?-1:1)*(1/0);o=o+Math.pow(2,n),s=s-h}return(m?-1:1)*o*Math.pow(2,s-n)};Tr.write=function(e,r,t,n,i,s){var o,a,c,h=s*8-i-1,l=(1<<h)-1,f=l>>1,y=i===23?Math.pow(2,-24)-Math.pow(2,-77):0,m=n?0:s-1,x=n?1:-1,v=r<0||r===0&&1/r<0?1:0;for(r=Math.abs(r),isNaN(r)||r===1/0?(a=isNaN(r)?1:0,o=l):(o=Math.floor(Math.log(r)/Math.LN2),r*(c=Math.pow(2,-o))<1&&(o--,c*=2),o+f>=1?r+=y/c:r+=y*Math.pow(2,1-f),r*c>=2&&(o++,c/=2),o+f>=l?(a=0,o=l):o+f>=1?(a=(r*c-1)*Math.pow(2,i),o=o+f):(a=r*Math.pow(2,f-1)*Math.pow(2,i),o=0));i>=8;e[t+m]=a&255,m+=x,a/=256,i-=8);for(o=o<<i|a,h+=i;h>0;e[t+m]=o&255,m+=x,o/=256,h-=8);e[t+m-x]|=v*128};/*!
 * The buffer module from node.js, for the browser.
 *
 * @author   Feross Aboukhadijeh <https://feross.org>
 * @license  MIT
 */(function(e){const r=lt,t=Tr,n=typeof Symbol=="function"&&typeof Symbol.for=="function"?Symbol.for("nodejs.util.inspect.custom"):null;e.Buffer=l,e.SlowBuffer=F,e.INSPECT_MAX_BYTES=50;const i=2147483647;e.kMaxLength=i;const{Uint8Array:s,ArrayBuffer:o,SharedArrayBuffer:a}=globalThis;l.TYPED_ARRAY_SUPPORT=c(),!l.TYPED_ARRAY_SUPPORT&&typeof console<"u"&&typeof console.error=="function"&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function c(){try{const d=new s(1),u={foo:function(){return 42}};return Object.setPrototypeOf(u,s.prototype),Object.setPrototypeOf(d,u),d.foo()===42}catch{return!1}}Object.defineProperty(l.prototype,"parent",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.buffer}}),Object.defineProperty(l.prototype,"offset",{enumerable:!0,get:function(){if(l.isBuffer(this))return this.byteOffset}});function h(d){if(d>i)throw new RangeError('The value "'+d+'" is invalid for option "size"');const u=new s(d);return Object.setPrototypeOf(u,l.prototype),u}function l(d,u,p){if(typeof d=="number"){if(typeof u=="string")throw new TypeError('The "string" argument must be of type string. Received type number');return x(d)}return f(d,u,p)}l.poolSize=8192;function f(d,u,p){if(typeof d=="string")return v(d,u);if(o.isView(d))return B(d);if(d==null)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d);if(ve(d,o)||d&&ve(d.buffer,o)||typeof a<"u"&&(ve(d,a)||d&&ve(d.buffer,a)))return M(d,u,p);if(typeof d=="number")throw new TypeError('The "value" argument must not be of type number. Received type number');const g=d.valueOf&&d.valueOf();if(g!=null&&g!==d)return l.from(g,u,p);const b=U(d);if(b)return b;if(typeof Symbol<"u"&&Symbol.toPrimitive!=null&&typeof d[Symbol.toPrimitive]=="function")return l.from(d[Symbol.toPrimitive]("string"),u,p);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof d)}l.from=function(d,u,p){return f(d,u,p)},Object.setPrototypeOf(l.prototype,s.prototype),Object.setPrototypeOf(l,s);function y(d){if(typeof d!="number")throw new TypeError('"size" argument must be of type number');if(d<0)throw new RangeError('The value "'+d+'" is invalid for option "size"')}function m(d,u,p){return y(d),d<=0?h(d):u!==void 0?typeof p=="string"?h(d).fill(u,p):h(d).fill(u):h(d)}l.alloc=function(d,u,p){return m(d,u,p)};function x(d){return y(d),h(d<0?0:W(d)|0)}l.allocUnsafe=function(d){return x(d)},l.allocUnsafeSlow=function(d){return x(d)};function v(d,u){if((typeof u!="string"||u==="")&&(u="utf8"),!l.isEncoding(u))throw new TypeError("Unknown encoding: "+u);const p=j(d,u)|0;let g=h(p);const b=g.write(d,u);return b!==p&&(g=g.slice(0,b)),g}function A(d){const u=d.length<0?0:W(d.length)|0,p=h(u);for(let g=0;g<u;g+=1)p[g]=d[g]&255;return p}function B(d){if(ve(d,s)){const u=new s(d);return M(u.buffer,u.byteOffset,u.byteLength)}return A(d)}function M(d,u,p){if(u<0||d.byteLength<u)throw new RangeError('"offset" is outside of buffer bounds');if(d.byteLength<u+(p||0))throw new RangeError('"length" is outside of buffer bounds');let g;return u===void 0&&p===void 0?g=new s(d):p===void 0?g=new s(d,u):g=new s(d,u,p),Object.setPrototypeOf(g,l.prototype),g}function U(d){if(l.isBuffer(d)){const u=W(d.length)|0,p=h(u);return p.length===0||d.copy(p,0,0,u),p}if(d.length!==void 0)return typeof d.length!="number"||dt(d.length)?h(0):A(d);if(d.type==="Buffer"&&Array.isArray(d.data))return A(d.data)}function W(d){if(d>=i)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+i.toString(16)+" bytes");return d|0}function F(d){return+d!=d&&(d=0),l.alloc(+d)}l.isBuffer=function(u){return u!=null&&u._isBuffer===!0&&u!==l.prototype},l.compare=function(u,p){if(ve(u,s)&&(u=l.from(u,u.offset,u.byteLength)),ve(p,s)&&(p=l.from(p,p.offset,p.byteLength)),!l.isBuffer(u)||!l.isBuffer(p))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(u===p)return 0;let g=u.length,b=p.length;for(let E=0,w=Math.min(g,b);E<w;++E)if(u[E]!==p[E]){g=u[E],b=p[E];break}return g<b?-1:b<g?1:0},l.isEncoding=function(u){switch(String(u).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},l.concat=function(u,p){if(!Array.isArray(u))throw new TypeError('"list" argument must be an Array of Buffers');if(u.length===0)return l.alloc(0);let g;if(p===void 0)for(p=0,g=0;g<u.length;++g)p+=u[g].length;const b=l.allocUnsafe(p);let E=0;for(g=0;g<u.length;++g){let w=u[g];if(ve(w,s))E+w.length>b.length?(l.isBuffer(w)||(w=l.from(w)),w.copy(b,E)):s.prototype.set.call(b,w,E);else if(l.isBuffer(w))w.copy(b,E);else throw new TypeError('"list" argument must be an Array of Buffers');E+=w.length}return b};function j(d,u){if(l.isBuffer(d))return d.length;if(o.isView(d)||ve(d,o))return d.byteLength;if(typeof d!="string")throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof d);const p=d.length,g=arguments.length>2&&arguments[2]===!0;if(!g&&p===0)return 0;let b=!1;for(;;)switch(u){case"ascii":case"latin1":case"binary":return p;case"utf8":case"utf-8":return ht(d).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return p*2;case"hex":return p>>>1;case"base64":return tn(d).length;default:if(b)return g?-1:ht(d).length;u=(""+u).toLowerCase(),b=!0}}l.byteLength=j;function S(d,u,p){let g=!1;if((u===void 0||u<0)&&(u=0),u>this.length||((p===void 0||p>this.length)&&(p=this.length),p<=0)||(p>>>=0,u>>>=0,p<=u))return"";for(d||(d="utf8");;)switch(d){case"hex":return q(this,u,p);case"utf8":case"utf-8":return fe(this,u,p);case"ascii":return se(this,u,p);case"latin1":case"binary":return _(this,u,p);case"base64":return ue(this,u,p);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return z(this,u,p);default:if(g)throw new TypeError("Unknown encoding: "+d);d=(d+"").toLowerCase(),g=!0}}l.prototype._isBuffer=!0;function L(d,u,p){const g=d[u];d[u]=d[p],d[p]=g}l.prototype.swap16=function(){const u=this.length;if(u%2!==0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let p=0;p<u;p+=2)L(this,p,p+1);return this},l.prototype.swap32=function(){const u=this.length;if(u%4!==0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let p=0;p<u;p+=4)L(this,p,p+3),L(this,p+1,p+2);return this},l.prototype.swap64=function(){const u=this.length;if(u%8!==0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let p=0;p<u;p+=8)L(this,p,p+7),L(this,p+1,p+6),L(this,p+2,p+5),L(this,p+3,p+4);return this},l.prototype.toString=function(){const u=this.length;return u===0?"":arguments.length===0?fe(this,0,u):S.apply(this,arguments)},l.prototype.toLocaleString=l.prototype.toString,l.prototype.equals=function(u){if(!l.isBuffer(u))throw new TypeError("Argument must be a Buffer");return this===u?!0:l.compare(this,u)===0},l.prototype.inspect=function(){let u="";const p=e.INSPECT_MAX_BYTES;return u=this.toString("hex",0,p).replace(/(.{2})/g,"$1 ").trim(),this.length>p&&(u+=" ... "),"<Buffer "+u+">"},n&&(l.prototype[n]=l.prototype.inspect),l.prototype.compare=function(u,p,g,b,E){if(ve(u,s)&&(u=l.from(u,u.offset,u.byteLength)),!l.isBuffer(u))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof u);if(p===void 0&&(p=0),g===void 0&&(g=u?u.length:0),b===void 0&&(b=0),E===void 0&&(E=this.length),p<0||g>u.length||b<0||E>this.length)throw new RangeError("out of range index");if(b>=E&&p>=g)return 0;if(b>=E)return-1;if(p>=g)return 1;if(p>>>=0,g>>>=0,b>>>=0,E>>>=0,this===u)return 0;let w=E-b,G=g-p;const Z=Math.min(w,G),K=this.slice(b,E),Q=u.slice(p,g);for(let Y=0;Y<Z;++Y)if(K[Y]!==Q[Y]){w=K[Y],G=Q[Y];break}return w<G?-1:G<w?1:0};function D(d,u,p,g,b){if(d.length===0)return-1;if(typeof p=="string"?(g=p,p=0):p>2147483647?p=2147483647:p<-2147483648&&(p=-2147483648),p=+p,dt(p)&&(p=b?0:d.length-1),p<0&&(p=d.length+p),p>=d.length){if(b)return-1;p=d.length-1}else if(p<0)if(b)p=0;else return-1;if(typeof u=="string"&&(u=l.from(u,g)),l.isBuffer(u))return u.length===0?-1:J(d,u,p,g,b);if(typeof u=="number")return u=u&255,typeof s.prototype.indexOf=="function"?b?s.prototype.indexOf.call(d,u,p):s.prototype.lastIndexOf.call(d,u,p):J(d,[u],p,g,b);throw new TypeError("val must be string, number or Buffer")}function J(d,u,p,g,b){let E=1,w=d.length,G=u.length;if(g!==void 0&&(g=String(g).toLowerCase(),g==="ucs2"||g==="ucs-2"||g==="utf16le"||g==="utf-16le")){if(d.length<2||u.length<2)return-1;E=2,w/=2,G/=2,p/=2}function Z(Q,Y){return E===1?Q[Y]:Q.readUInt16BE(Y*E)}let K;if(b){let Q=-1;for(K=p;K<w;K++)if(Z(d,K)===Z(u,Q===-1?0:K-Q)){if(Q===-1&&(Q=K),K-Q+1===G)return Q*E}else Q!==-1&&(K-=K-Q),Q=-1}else for(p+G>w&&(p=w-G),K=p;K>=0;K--){let Q=!0;for(let Y=0;Y<G;Y++)if(Z(d,K+Y)!==Z(u,Y)){Q=!1;break}if(Q)return K}return-1}l.prototype.includes=function(u,p,g){return this.indexOf(u,p,g)!==-1},l.prototype.indexOf=function(u,p,g){return D(this,u,p,g,!0)},l.prototype.lastIndexOf=function(u,p,g){return D(this,u,p,g,!1)};function X(d,u,p,g){p=Number(p)||0;const b=d.length-p;g?(g=Number(g),g>b&&(g=b)):g=b;const E=u.length;g>E/2&&(g=E/2);let w;for(w=0;w<g;++w){const G=parseInt(u.substr(w*2,2),16);if(dt(G))return w;d[p+w]=G}return w}function re(d,u,p,g){return Ke(ht(u,d.length-p),d,p,g)}function oe(d,u,p,g){return Ke(Vs(u),d,p,g)}function ie(d,u,p,g){return Ke(tn(u),d,p,g)}function pe(d,u,p,g){return Ke(Hs(u,d.length-p),d,p,g)}l.prototype.write=function(u,p,g,b){if(p===void 0)b="utf8",g=this.length,p=0;else if(g===void 0&&typeof p=="string")b=p,g=this.length,p=0;else if(isFinite(p))p=p>>>0,isFinite(g)?(g=g>>>0,b===void 0&&(b="utf8")):(b=g,g=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");const E=this.length-p;if((g===void 0||g>E)&&(g=E),u.length>0&&(g<0||p<0)||p>this.length)throw new RangeError("Attempt to write outside buffer bounds");b||(b="utf8");let w=!1;for(;;)switch(b){case"hex":return X(this,u,p,g);case"utf8":case"utf-8":return re(this,u,p,g);case"ascii":case"latin1":case"binary":return oe(this,u,p,g);case"base64":return ie(this,u,p,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,u,p,g);default:if(w)throw new TypeError("Unknown encoding: "+b);b=(""+b).toLowerCase(),w=!0}},l.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function ue(d,u,p){return u===0&&p===d.length?r.fromByteArray(d):r.fromByteArray(d.slice(u,p))}function fe(d,u,p){p=Math.min(d.length,p);const g=[];let b=u;for(;b<p;){const E=d[b];let w=null,G=E>239?4:E>223?3:E>191?2:1;if(b+G<=p){let Z,K,Q,Y;switch(G){case 1:E<128&&(w=E);break;case 2:Z=d[b+1],(Z&192)===128&&(Y=(E&31)<<6|Z&63,Y>127&&(w=Y));break;case 3:Z=d[b+1],K=d[b+2],(Z&192)===128&&(K&192)===128&&(Y=(E&15)<<12|(Z&63)<<6|K&63,Y>2047&&(Y<55296||Y>57343)&&(w=Y));break;case 4:Z=d[b+1],K=d[b+2],Q=d[b+3],(Z&192)===128&&(K&192)===128&&(Q&192)===128&&(Y=(E&15)<<18|(Z&63)<<12|(K&63)<<6|Q&63,Y>65535&&Y<1114112&&(w=Y))}}w===null?(w=65533,G=1):w>65535&&(w-=65536,g.push(w>>>10&1023|55296),w=56320|w&1023),g.push(w),b+=G}return ge(g)}const ae=4096;function ge(d){const u=d.length;if(u<=ae)return String.fromCharCode.apply(String,d);let p="",g=0;for(;g<u;)p+=String.fromCharCode.apply(String,d.slice(g,g+=ae));return p}function se(d,u,p){let g="";p=Math.min(d.length,p);for(let b=u;b<p;++b)g+=String.fromCharCode(d[b]&127);return g}function _(d,u,p){let g="";p=Math.min(d.length,p);for(let b=u;b<p;++b)g+=String.fromCharCode(d[b]);return g}function q(d,u,p){const g=d.length;(!u||u<0)&&(u=0),(!p||p<0||p>g)&&(p=g);let b="";for(let E=u;E<p;++E)b+=Ws[d[E]];return b}function z(d,u,p){const g=d.slice(u,p);let b="";for(let E=0;E<g.length-1;E+=2)b+=String.fromCharCode(g[E]+g[E+1]*256);return b}l.prototype.slice=function(u,p){const g=this.length;u=~~u,p=p===void 0?g:~~p,u<0?(u+=g,u<0&&(u=0)):u>g&&(u=g),p<0?(p+=g,p<0&&(p=0)):p>g&&(p=g),p<u&&(p=u);const b=this.subarray(u,p);return Object.setPrototypeOf(b,l.prototype),b};function H(d,u,p){if(d%1!==0||d<0)throw new RangeError("offset is not uint");if(d+u>p)throw new RangeError("Trying to access beyond buffer length")}l.prototype.readUintLE=l.prototype.readUIntLE=function(u,p,g){u=u>>>0,p=p>>>0,g||H(u,p,this.length);let b=this[u],E=1,w=0;for(;++w<p&&(E*=256);)b+=this[u+w]*E;return b},l.prototype.readUintBE=l.prototype.readUIntBE=function(u,p,g){u=u>>>0,p=p>>>0,g||H(u,p,this.length);let b=this[u+--p],E=1;for(;p>0&&(E*=256);)b+=this[u+--p]*E;return b},l.prototype.readUint8=l.prototype.readUInt8=function(u,p){return u=u>>>0,p||H(u,1,this.length),this[u]},l.prototype.readUint16LE=l.prototype.readUInt16LE=function(u,p){return u=u>>>0,p||H(u,2,this.length),this[u]|this[u+1]<<8},l.prototype.readUint16BE=l.prototype.readUInt16BE=function(u,p){return u=u>>>0,p||H(u,2,this.length),this[u]<<8|this[u+1]},l.prototype.readUint32LE=l.prototype.readUInt32LE=function(u,p){return u=u>>>0,p||H(u,4,this.length),(this[u]|this[u+1]<<8|this[u+2]<<16)+this[u+3]*16777216},l.prototype.readUint32BE=l.prototype.readUInt32BE=function(u,p){return u=u>>>0,p||H(u,4,this.length),this[u]*16777216+(this[u+1]<<16|this[u+2]<<8|this[u+3])},l.prototype.readBigUInt64LE=Pe(function(u){u=u>>>0,xe(u,"offset");const p=this[u],g=this[u+7];(p===void 0||g===void 0)&&Re(u,this.length-8);const b=p+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24,E=this[++u]+this[++u]*2**8+this[++u]*2**16+g*2**24;return BigInt(b)+(BigInt(E)<<BigInt(32))}),l.prototype.readBigUInt64BE=Pe(function(u){u=u>>>0,xe(u,"offset");const p=this[u],g=this[u+7];(p===void 0||g===void 0)&&Re(u,this.length-8);const b=p*2**24+this[++u]*2**16+this[++u]*2**8+this[++u],E=this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+g;return(BigInt(b)<<BigInt(32))+BigInt(E)}),l.prototype.readIntLE=function(u,p,g){u=u>>>0,p=p>>>0,g||H(u,p,this.length);let b=this[u],E=1,w=0;for(;++w<p&&(E*=256);)b+=this[u+w]*E;return E*=128,b>=E&&(b-=Math.pow(2,8*p)),b},l.prototype.readIntBE=function(u,p,g){u=u>>>0,p=p>>>0,g||H(u,p,this.length);let b=p,E=1,w=this[u+--b];for(;b>0&&(E*=256);)w+=this[u+--b]*E;return E*=128,w>=E&&(w-=Math.pow(2,8*p)),w},l.prototype.readInt8=function(u,p){return u=u>>>0,p||H(u,1,this.length),this[u]&128?(255-this[u]+1)*-1:this[u]},l.prototype.readInt16LE=function(u,p){u=u>>>0,p||H(u,2,this.length);const g=this[u]|this[u+1]<<8;return g&32768?g|4294901760:g},l.prototype.readInt16BE=function(u,p){u=u>>>0,p||H(u,2,this.length);const g=this[u+1]|this[u]<<8;return g&32768?g|4294901760:g},l.prototype.readInt32LE=function(u,p){return u=u>>>0,p||H(u,4,this.length),this[u]|this[u+1]<<8|this[u+2]<<16|this[u+3]<<24},l.prototype.readInt32BE=function(u,p){return u=u>>>0,p||H(u,4,this.length),this[u]<<24|this[u+1]<<16|this[u+2]<<8|this[u+3]},l.prototype.readBigInt64LE=Pe(function(u){u=u>>>0,xe(u,"offset");const p=this[u],g=this[u+7];(p===void 0||g===void 0)&&Re(u,this.length-8);const b=this[u+4]+this[u+5]*2**8+this[u+6]*2**16+(g<<24);return(BigInt(b)<<BigInt(32))+BigInt(p+this[++u]*2**8+this[++u]*2**16+this[++u]*2**24)}),l.prototype.readBigInt64BE=Pe(function(u){u=u>>>0,xe(u,"offset");const p=this[u],g=this[u+7];(p===void 0||g===void 0)&&Re(u,this.length-8);const b=(p<<24)+this[++u]*2**16+this[++u]*2**8+this[++u];return(BigInt(b)<<BigInt(32))+BigInt(this[++u]*2**24+this[++u]*2**16+this[++u]*2**8+g)}),l.prototype.readFloatLE=function(u,p){return u=u>>>0,p||H(u,4,this.length),t.read(this,u,!0,23,4)},l.prototype.readFloatBE=function(u,p){return u=u>>>0,p||H(u,4,this.length),t.read(this,u,!1,23,4)},l.prototype.readDoubleLE=function(u,p){return u=u>>>0,p||H(u,8,this.length),t.read(this,u,!0,52,8)},l.prototype.readDoubleBE=function(u,p){return u=u>>>0,p||H(u,8,this.length),t.read(this,u,!1,52,8)};function O(d,u,p,g,b,E){if(!l.isBuffer(d))throw new TypeError('"buffer" argument must be a Buffer instance');if(u>b||u<E)throw new RangeError('"value" argument is out of bounds');if(p+g>d.length)throw new RangeError("Index out of range")}l.prototype.writeUintLE=l.prototype.writeUIntLE=function(u,p,g,b){if(u=+u,p=p>>>0,g=g>>>0,!b){const G=Math.pow(2,8*g)-1;O(this,u,p,g,G,0)}let E=1,w=0;for(this[p]=u&255;++w<g&&(E*=256);)this[p+w]=u/E&255;return p+g},l.prototype.writeUintBE=l.prototype.writeUIntBE=function(u,p,g,b){if(u=+u,p=p>>>0,g=g>>>0,!b){const G=Math.pow(2,8*g)-1;O(this,u,p,g,G,0)}let E=g-1,w=1;for(this[p+E]=u&255;--E>=0&&(w*=256);)this[p+E]=u/w&255;return p+g},l.prototype.writeUint8=l.prototype.writeUInt8=function(u,p,g){return u=+u,p=p>>>0,g||O(this,u,p,1,255,0),this[p]=u&255,p+1},l.prototype.writeUint16LE=l.prototype.writeUInt16LE=function(u,p,g){return u=+u,p=p>>>0,g||O(this,u,p,2,65535,0),this[p]=u&255,this[p+1]=u>>>8,p+2},l.prototype.writeUint16BE=l.prototype.writeUInt16BE=function(u,p,g){return u=+u,p=p>>>0,g||O(this,u,p,2,65535,0),this[p]=u>>>8,this[p+1]=u&255,p+2},l.prototype.writeUint32LE=l.prototype.writeUInt32LE=function(u,p,g){return u=+u,p=p>>>0,g||O(this,u,p,4,4294967295,0),this[p+3]=u>>>24,this[p+2]=u>>>16,this[p+1]=u>>>8,this[p]=u&255,p+4},l.prototype.writeUint32BE=l.prototype.writeUInt32BE=function(u,p,g){return u=+u,p=p>>>0,g||O(this,u,p,4,4294967295,0),this[p]=u>>>24,this[p+1]=u>>>16,this[p+2]=u>>>8,this[p+3]=u&255,p+4};function te(d,u,p,g,b){we(u,g,b,d,p,7);let E=Number(u&BigInt(4294967295));d[p++]=E,E=E>>8,d[p++]=E,E=E>>8,d[p++]=E,E=E>>8,d[p++]=E;let w=Number(u>>BigInt(32)&BigInt(4294967295));return d[p++]=w,w=w>>8,d[p++]=w,w=w>>8,d[p++]=w,w=w>>8,d[p++]=w,p}function k(d,u,p,g,b){we(u,g,b,d,p,7);let E=Number(u&BigInt(4294967295));d[p+7]=E,E=E>>8,d[p+6]=E,E=E>>8,d[p+5]=E,E=E>>8,d[p+4]=E;let w=Number(u>>BigInt(32)&BigInt(4294967295));return d[p+3]=w,w=w>>8,d[p+2]=w,w=w>>8,d[p+1]=w,w=w>>8,d[p]=w,p+8}l.prototype.writeBigUInt64LE=Pe(function(u,p=0){return te(this,u,p,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeBigUInt64BE=Pe(function(u,p=0){return k(this,u,p,BigInt(0),BigInt("0xffffffffffffffff"))}),l.prototype.writeIntLE=function(u,p,g,b){if(u=+u,p=p>>>0,!b){const Z=Math.pow(2,8*g-1);O(this,u,p,g,Z-1,-Z)}let E=0,w=1,G=0;for(this[p]=u&255;++E<g&&(w*=256);)u<0&&G===0&&this[p+E-1]!==0&&(G=1),this[p+E]=(u/w>>0)-G&255;return p+g},l.prototype.writeIntBE=function(u,p,g,b){if(u=+u,p=p>>>0,!b){const Z=Math.pow(2,8*g-1);O(this,u,p,g,Z-1,-Z)}let E=g-1,w=1,G=0;for(this[p+E]=u&255;--E>=0&&(w*=256);)u<0&&G===0&&this[p+E+1]!==0&&(G=1),this[p+E]=(u/w>>0)-G&255;return p+g},l.prototype.writeInt8=function(u,p,g){return u=+u,p=p>>>0,g||O(this,u,p,1,127,-128),u<0&&(u=255+u+1),this[p]=u&255,p+1},l.prototype.writeInt16LE=function(u,p,g){return u=+u,p=p>>>0,g||O(this,u,p,2,32767,-32768),this[p]=u&255,this[p+1]=u>>>8,p+2},l.prototype.writeInt16BE=function(u,p,g){return u=+u,p=p>>>0,g||O(this,u,p,2,32767,-32768),this[p]=u>>>8,this[p+1]=u&255,p+2},l.prototype.writeInt32LE=function(u,p,g){return u=+u,p=p>>>0,g||O(this,u,p,4,2147483647,-2147483648),this[p]=u&255,this[p+1]=u>>>8,this[p+2]=u>>>16,this[p+3]=u>>>24,p+4},l.prototype.writeInt32BE=function(u,p,g){return u=+u,p=p>>>0,g||O(this,u,p,4,2147483647,-2147483648),u<0&&(u=4294967295+u+1),this[p]=u>>>24,this[p+1]=u>>>16,this[p+2]=u>>>8,this[p+3]=u&255,p+4},l.prototype.writeBigInt64LE=Pe(function(u,p=0){return te(this,u,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),l.prototype.writeBigInt64BE=Pe(function(u,p=0){return k(this,u,p,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))});function C(d,u,p,g,b,E){if(p+g>d.length)throw new RangeError("Index out of range");if(p<0)throw new RangeError("Index out of range")}function R(d,u,p,g,b){return u=+u,p=p>>>0,b||C(d,u,p,4),t.write(d,u,p,g,23,4),p+4}l.prototype.writeFloatLE=function(u,p,g){return R(this,u,p,!0,g)},l.prototype.writeFloatBE=function(u,p,g){return R(this,u,p,!1,g)};function P(d,u,p,g,b){return u=+u,p=p>>>0,b||C(d,u,p,8),t.write(d,u,p,g,52,8),p+8}l.prototype.writeDoubleLE=function(u,p,g){return P(this,u,p,!0,g)},l.prototype.writeDoubleBE=function(u,p,g){return P(this,u,p,!1,g)},l.prototype.copy=function(u,p,g,b){if(!l.isBuffer(u))throw new TypeError("argument should be a Buffer");if(g||(g=0),!b&&b!==0&&(b=this.length),p>=u.length&&(p=u.length),p||(p=0),b>0&&b<g&&(b=g),b===g||u.length===0||this.length===0)return 0;if(p<0)throw new RangeError("targetStart out of bounds");if(g<0||g>=this.length)throw new RangeError("Index out of range");if(b<0)throw new RangeError("sourceEnd out of bounds");b>this.length&&(b=this.length),u.length-p<b-g&&(b=u.length-p+g);const E=b-g;return this===u&&typeof s.prototype.copyWithin=="function"?this.copyWithin(p,g,b):s.prototype.set.call(u,this.subarray(g,b),p),E},l.prototype.fill=function(u,p,g,b){if(typeof u=="string"){if(typeof p=="string"?(b=p,p=0,g=this.length):typeof g=="string"&&(b=g,g=this.length),b!==void 0&&typeof b!="string")throw new TypeError("encoding must be a string");if(typeof b=="string"&&!l.isEncoding(b))throw new TypeError("Unknown encoding: "+b);if(u.length===1){const w=u.charCodeAt(0);(b==="utf8"&&w<128||b==="latin1")&&(u=w)}}else typeof u=="number"?u=u&255:typeof u=="boolean"&&(u=Number(u));if(p<0||this.length<p||this.length<g)throw new RangeError("Out of range index");if(g<=p)return this;p=p>>>0,g=g===void 0?this.length:g>>>0,u||(u=0);let E;if(typeof u=="number")for(E=p;E<g;++E)this[E]=u;else{const w=l.isBuffer(u)?u:l.from(u,b),G=w.length;if(G===0)throw new TypeError('The value "'+u+'" is invalid for argument "value"');for(E=0;E<g-p;++E)this[E+p]=w[E%G]}return this};const I={};function N(d,u,p){I[d]=class extends p{constructor(){super(),Object.defineProperty(this,"message",{value:u.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${d}]`,this.stack,delete this.name}get code(){return d}set code(b){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:b,writable:!0})}toString(){return`${this.name} [${d}]: ${this.message}`}}}N("ERR_BUFFER_OUT_OF_BOUNDS",function(d){return d?`${d} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),N("ERR_INVALID_ARG_TYPE",function(d,u){return`The "${d}" argument must be of type number. Received type ${typeof u}`},TypeError),N("ERR_OUT_OF_RANGE",function(d,u,p){let g=`The value of "${d}" is out of range.`,b=p;return Number.isInteger(p)&&Math.abs(p)>2**32?b=V(String(p)):typeof p=="bigint"&&(b=String(p),(p>BigInt(2)**BigInt(32)||p<-(BigInt(2)**BigInt(32)))&&(b=V(b)),b+="n"),g+=` It must be ${u}. Received ${b}`,g},RangeError);function V(d){let u="",p=d.length;const g=d[0]==="-"?1:0;for(;p>=g+4;p-=3)u=`_${d.slice(p-3,p)}${u}`;return`${d.slice(0,p)}${u}`}function T(d,u,p){xe(u,"offset"),(d[u]===void 0||d[u+p]===void 0)&&Re(u,d.length-(p+1))}function we(d,u,p,g,b,E){if(d>p||d<u){const w=typeof u=="bigint"?"n":"";let G;throw u===0||u===BigInt(0)?G=`>= 0${w} and < 2${w} ** ${(E+1)*8}${w}`:G=`>= -(2${w} ** ${(E+1)*8-1}${w}) and < 2 ** ${(E+1)*8-1}${w}`,new I.ERR_OUT_OF_RANGE("value",G,d)}T(g,b,E)}function xe(d,u){if(typeof d!="number")throw new I.ERR_INVALID_ARG_TYPE(u,"number",d)}function Re(d,u,p){throw Math.floor(d)!==d?(xe(d,p),new I.ERR_OUT_OF_RANGE("offset","an integer",d)):u<0?new I.ERR_BUFFER_OUT_OF_BOUNDS:new I.ERR_OUT_OF_RANGE("offset",`>= 0 and <= ${u}`,d)}const qs=/[^+/0-9A-Za-z-_]/g;function zs(d){if(d=d.split("=")[0],d=d.trim().replace(qs,""),d.length<2)return"";for(;d.length%4!==0;)d=d+"=";return d}function ht(d,u){u=u||1/0;let p;const g=d.length;let b=null;const E=[];for(let w=0;w<g;++w){if(p=d.charCodeAt(w),p>55295&&p<57344){if(!b){if(p>56319){(u-=3)>-1&&E.push(239,191,189);continue}else if(w+1===g){(u-=3)>-1&&E.push(239,191,189);continue}b=p;continue}if(p<56320){(u-=3)>-1&&E.push(239,191,189),b=p;continue}p=(b-55296<<10|p-56320)+65536}else b&&(u-=3)>-1&&E.push(239,191,189);if(b=null,p<128){if((u-=1)<0)break;E.push(p)}else if(p<2048){if((u-=2)<0)break;E.push(p>>6|192,p&63|128)}else if(p<65536){if((u-=3)<0)break;E.push(p>>12|224,p>>6&63|128,p&63|128)}else if(p<1114112){if((u-=4)<0)break;E.push(p>>18|240,p>>12&63|128,p>>6&63|128,p&63|128)}else throw new Error("Invalid code point")}return E}function Vs(d){const u=[];for(let p=0;p<d.length;++p)u.push(d.charCodeAt(p)&255);return u}function Hs(d,u){let p,g,b;const E=[];for(let w=0;w<d.length&&!((u-=2)<0);++w)p=d.charCodeAt(w),g=p>>8,b=p%256,E.push(b),E.push(g);return E}function tn(d){return r.toByteArray(zs(d))}function Ke(d,u,p,g){let b;for(b=0;b<g&&!(b+p>=u.length||b>=d.length);++b)u[b+p]=d[b];return b}function ve(d,u){return d instanceof u||d!=null&&d.constructor!=null&&d.constructor.name!=null&&d.constructor.name===u.name}function dt(d){return d!==d}const Ws=function(){const d="0123456789abcdef",u=new Array(256);for(let p=0;p<16;++p){const g=p*16;for(let b=0;b<16;++b)u[g+b]=d[p]+d[b]}return u}();function Pe(d){return typeof BigInt>"u"?Gs:d}function Gs(){throw new Error("BigInt not supported")}})(As);const au=As.Buffer;var Zt,qn;function Ce(){if(qn)return Zt;qn=1;var e=ne();function r(i,s,o,a,c){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=i,this.name="AxiosError",s&&(this.code=s),o&&(this.config=o),a&&(this.request=a),c&&(this.response=c)}e.inherits(r,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var t=r.prototype,n={};return["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(function(i){n[i]={value:i}}),Object.defineProperties(r,n),Object.defineProperty(t,"isAxiosError",{value:!0}),r.from=function(i,s,o,a,c,h){var l=Object.create(t);return e.toFlatObject(i,l,function(y){return y!==Error.prototype}),r.call(l,i.message,s,o,a,c),l.cause=i,l.name=i.name,h&&Object.assign(l,h),l},Zt=r,Zt}var Qt,zn;function cu(){return zn||(zn=1,Qt=typeof self=="object"?self.FormData:window.FormData),Qt}var er,Vn;function uu(){return Vn||(Vn=1,er=cu()),er}var tr,Hn;function pt(){if(Hn)return tr;Hn=1;var e=ne(),r=Ce(),t=uu();function n(l){return e.isPlainObject(l)||e.isArray(l)}function i(l){return e.endsWith(l,"[]")?l.slice(0,-2):l}function s(l,f,y){return l?l.concat(f).map(function(x,v){return x=i(x),!y&&v?"["+x+"]":x}).join(y?".":""):f}function o(l){return e.isArray(l)&&!l.some(n)}var a=e.toFlatObject(e,{},null,function(f){return/^is[A-Z]/.test(f)});function c(l){return l&&e.isFunction(l.append)&&l[Symbol.toStringTag]==="FormData"&&l[Symbol.iterator]}function h(l,f,y){if(!e.isObject(l))throw new TypeError("target must be an object");f=f||new(t||FormData),y=e.toFlatObject(y,{metaTokens:!0,dots:!1,indexes:!1},!1,function(D,J){return!e.isUndefined(J[D])});var m=y.metaTokens,x=y.visitor||W,v=y.dots,A=y.indexes,B=y.Blob||typeof Blob<"u"&&Blob,M=B&&c(f);if(!e.isFunction(x))throw new TypeError("visitor must be a function");function U(L){if(L===null)return"";if(e.isDate(L))return L.toISOString();if(!M&&e.isBlob(L))throw new r("Blob is not supported. Use a Buffer instead.");return e.isArrayBuffer(L)||e.isTypedArray(L)?M&&typeof Blob=="function"?new Blob([L]):au.from(L):L}function W(L,D,J){var X=L;if(L&&!J&&typeof L=="object"){if(e.endsWith(D,"{}"))D=m?D:D.slice(0,-2),L=JSON.stringify(L);else if(e.isArray(L)&&o(L)||e.isFileList(L)||e.endsWith(D,"[]")&&(X=e.toArray(L)))return D=i(D),X.forEach(function(oe,ie){!(e.isUndefined(oe)||oe===null)&&f.append(A===!0?s([D],ie,v):A===null?D:D+"[]",U(oe))}),!1}return n(L)?!0:(f.append(s(J,D,v),U(L)),!1)}var F=[],j=Object.assign(a,{defaultVisitor:W,convertValue:U,isVisitable:n});function S(L,D){if(!e.isUndefined(L)){if(F.indexOf(L)!==-1)throw Error("Circular reference detected in "+D.join("."));F.push(L),e.forEach(L,function(X,re){var oe=!(e.isUndefined(X)||X===null)&&x.call(f,X,e.isString(re)?re.trim():re,D,j);oe===!0&&S(X,D?D.concat(re):[re])}),F.pop()}}if(!e.isObject(l))throw new TypeError("data must be an object");return S(l),f}return tr=h,tr}var rr,Wn;function Ps(){if(Wn)return rr;Wn=1;var e=pt();function r(i){var s={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(i).replace(/[!'\(\)~]|%20|%00/g,function(a){return s[a]})}function t(i,s){this._pairs=[],i&&e(i,this,s)}var n=t.prototype;return n.append=function(s,o){this._pairs.push([s,o])},n.toString=function(s){var o=s?function(a){return s.call(this,a,r)}:r;return this._pairs.map(function(c){return o(c[0])+"="+o(c[1])},"").join("&")},rr=t,rr}var nr,Gn;function Os(){if(Gn)return nr;Gn=1;var e=ne(),r=Ps();function t(n){return encodeURIComponent(n).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}return nr=function(i,s,o){if(!s)return i;var a=i.indexOf("#");a!==-1&&(i=i.slice(0,a));var c=o&&o.encode||t,h=o&&o.serialize,l;return h?l=h(s,o):l=e.isURLSearchParams(s)?s.toString():new r(s,o).toString(c),l&&(i+=(i.indexOf("?")===-1?"?":"&")+l),i},nr}var ir,Jn;function lu(){if(Jn)return ir;Jn=1;var e=ne();function r(){this.handlers=[]}return r.prototype.use=function(n,i,s){return this.handlers.push({fulfilled:n,rejected:i,synchronous:s?s.synchronous:!1,runWhen:s?s.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(n){this.handlers[n]&&(this.handlers[n]=null)},r.prototype.clear=function(){this.handlers&&(this.handlers=[])},r.prototype.forEach=function(n){e.forEach(this.handlers,function(s){s!==null&&n(s)})},ir=r,ir}var sr,Yn;function ks(){if(Yn)return sr;Yn=1;var e=ne();return sr=function(t,n){e.forEach(t,function(s,o){o!==n&&o.toUpperCase()===n.toUpperCase()&&(t[n]=s,delete t[o])})},sr}var or,Kn;function Cs(){return Kn||(Kn=1,or={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}),or}var ar,Xn;function pu(){if(Xn)return ar;Xn=1;var e=Ps();return ar=typeof URLSearchParams<"u"?URLSearchParams:e,ar}var cr,Tn;function fu(){return Tn||(Tn=1,cr=FormData),cr}var ur,Zn;function hu(){return Zn||(Zn=1,ur={isBrowser:!0,classes:{URLSearchParams:pu(),FormData:fu(),Blob},protocols:["http","https","file","blob","url","data"]}),ur}var lr,Qn;function Zr(){return Qn||(Qn=1,lr=hu()),lr}var pr,ei;function du(){if(ei)return pr;ei=1;var e=ne(),r=pt(),t=Zr();return pr=function(i,s){return r(i,new t.classes.URLSearchParams,Object.assign({visitor:function(o,a,c,h){return t.isNode&&e.isBuffer(o)?(this.append(a,o.toString("base64")),!1):h.defaultVisitor.apply(this,arguments)}},s))},pr}var fr,ti;function Fs(){if(ti)return fr;ti=1;var e=ne();function r(i){return e.matchAll(/\w+|\[(\w*)]/g,i).map(function(s){return s[0]==="[]"?"":s[1]||s[0]})}function t(i){var s={},o=Object.keys(i),a,c=o.length,h;for(a=0;a<c;a++)h=o[a],s[h]=i[h];return s}function n(i){function s(a,c,h,l){var f=a[l++];if(f==="__proto__")return!0;var y=Number.isFinite(+f),m=l>=a.length;if(f=!f&&e.isArray(h)?h.length:f,m)return e.hasOwnProperty(h,f)?h[f]=[h[f],c]:h[f]=c,!y;(!h[f]||!e.isObject(h[f]))&&(h[f]=[]);var x=s(a,c,h[f],l);return x&&e.isArray(h[f])&&(h[f]=t(h[f])),!y}if(e.isFormData(i)&&e.isFunction(i.entries)){var o={};return e.forEachEntry(i,function(a,c){s(r(a),c,o,0)}),o}return null}return fr=n,fr}var hr,ri;function yu(){if(ri)return hr;ri=1;var e=Ce();return hr=function(t,n,i){var s=i.config.validateStatus;!i.status||!s||s(i.status)?t(i):n(new e("Request failed with status code "+i.status,[e.ERR_BAD_REQUEST,e.ERR_BAD_RESPONSE][Math.floor(i.status/100)-4],i.config,i.request,i))},hr}var dr,ni;function mu(){if(ni)return dr;ni=1;var e=ne();return dr=e.isStandardBrowserEnv()?function(){return{write:function(n,i,s,o,a,c){var h=[];h.push(n+"="+encodeURIComponent(i)),e.isNumber(s)&&h.push("expires="+new Date(s).toGMTString()),e.isString(o)&&h.push("path="+o),e.isString(a)&&h.push("domain="+a),c===!0&&h.push("secure"),document.cookie=h.join("; ")},read:function(n){var i=document.cookie.match(new RegExp("(^|;\\s*)("+n+")=([^;]*)"));return i?decodeURIComponent(i[3]):null},remove:function(n){this.write(n,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}(),dr}var yr,ii;function gu(){return ii||(ii=1,yr=function(r){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(r)}),yr}var mr,si;function xu(){return si||(si=1,mr=function(r,t){return t?r.replace(/\/?\/$/,"")+"/"+t.replace(/^\/+/,""):r}),mr}var gr,oi;function Is(){if(oi)return gr;oi=1;var e=gu(),r=xu();return gr=function(n,i){return n&&!e(i)?r(n,i):i},gr}var xr,ai;function bu(){if(ai)return xr;ai=1;var e=ne(),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];return xr=function(n){var i={},s,o,a;return n&&e.forEach(n.split(`
`),function(h){if(a=h.indexOf(":"),s=e.trim(h.slice(0,a)).toLowerCase(),o=e.trim(h.slice(a+1)),s){if(i[s]&&r.indexOf(s)>=0)return;s==="set-cookie"?i[s]=(i[s]?i[s]:[]).concat([o]):i[s]=i[s]?i[s]+", "+o:o}}),i},xr}var br,ci;function vu(){if(ci)return br;ci=1;var e=ne();return br=e.isStandardBrowserEnv()?function(){var t=/(msie|trident)/i.test(navigator.userAgent),n=document.createElement("a"),i;function s(o){var a=o;return t&&(n.setAttribute("href",a),a=n.href),n.setAttribute("href",a),{href:n.href,protocol:n.protocol?n.protocol.replace(/:$/,""):"",host:n.host,search:n.search?n.search.replace(/^\?/,""):"",hash:n.hash?n.hash.replace(/^#/,""):"",hostname:n.hostname,port:n.port,pathname:n.pathname.charAt(0)==="/"?n.pathname:"/"+n.pathname}}return i=s(window.location.href),function(a){var c=e.isString(a)?s(a):a;return c.protocol===i.protocol&&c.host===i.host}}():function(){return function(){return!0}}(),br}var vr,ui;function ft(){if(ui)return vr;ui=1;var e=Ce(),r=ne();function t(n,i,s){e.call(this,n??"canceled",e.ERR_CANCELED,i,s),this.name="CanceledError"}return r.inherits(t,e,{__CANCEL__:!0}),vr=t,vr}var Er,li;function Eu(){return li||(li=1,Er=function(r){var t=/^([-+\w]{1,25})(:?\/\/|:)/.exec(r);return t&&t[1]||""}),Er}var _r,pi;function fi(){if(pi)return _r;pi=1;var e=ne(),r=yu(),t=mu(),n=Os(),i=Is(),s=bu(),o=vu(),a=Cs(),c=Ce(),h=ft(),l=Eu(),f=Zr();return _r=function(m){return new Promise(function(v,A){var B=m.data,M=m.headers,U=m.responseType,W=m.withXSRFToken,F;function j(){m.cancelToken&&m.cancelToken.unsubscribe(F),m.signal&&m.signal.removeEventListener("abort",F)}e.isFormData(B)&&e.isStandardBrowserEnv()&&delete M["Content-Type"];var S=new XMLHttpRequest;if(m.auth){var L=m.auth.username||"",D=m.auth.password?unescape(encodeURIComponent(m.auth.password)):"";M.Authorization="Basic "+btoa(L+":"+D)}var J=i(m.baseURL,m.url);S.open(m.method.toUpperCase(),n(J,m.params,m.paramsSerializer),!0),S.timeout=m.timeout;function X(){if(S){var ie="getAllResponseHeaders"in S?s(S.getAllResponseHeaders()):null,pe=!U||U==="text"||U==="json"?S.responseText:S.response,ue={data:pe,status:S.status,statusText:S.statusText,headers:ie,config:m,request:S};r(function(ae){v(ae),j()},function(ae){A(ae),j()},ue),S=null}}if("onloadend"in S?S.onloadend=X:S.onreadystatechange=function(){!S||S.readyState!==4||S.status===0&&!(S.responseURL&&S.responseURL.indexOf("file:")===0)||setTimeout(X)},S.onabort=function(){S&&(A(new c("Request aborted",c.ECONNABORTED,m,S)),S=null)},S.onerror=function(){A(new c("Network Error",c.ERR_NETWORK,m,S)),S=null},S.ontimeout=function(){var pe=m.timeout?"timeout of "+m.timeout+"ms exceeded":"timeout exceeded",ue=m.transitional||a;m.timeoutErrorMessage&&(pe=m.timeoutErrorMessage),A(new c(pe,ue.clarifyTimeoutError?c.ETIMEDOUT:c.ECONNABORTED,m,S)),S=null},e.isStandardBrowserEnv()&&(W&&e.isFunction(W)&&(W=W(m)),W||W!==!1&&o(J))){var re=m.xsrfHeaderName&&m.xsrfCookieName&&t.read(m.xsrfCookieName);re&&(M[m.xsrfHeaderName]=re)}"setRequestHeader"in S&&e.forEach(M,function(pe,ue){typeof B>"u"&&ue.toLowerCase()==="content-type"?delete M[ue]:S.setRequestHeader(ue,pe)}),e.isUndefined(m.withCredentials)||(S.withCredentials=!!m.withCredentials),U&&U!=="json"&&(S.responseType=m.responseType),typeof m.onDownloadProgress=="function"&&S.addEventListener("progress",m.onDownloadProgress),typeof m.onUploadProgress=="function"&&S.upload&&S.upload.addEventListener("progress",m.onUploadProgress),(m.cancelToken||m.signal)&&(F=function(ie){S&&(A(!ie||ie.type?new h(null,m,S):ie),S.abort(),S=null)},m.cancelToken&&m.cancelToken.subscribe(F),m.signal&&(m.signal.aborted?F():m.signal.addEventListener("abort",F))),!B&&B!==!1&&B!==0&&B!==""&&(B=null);var oe=l(J);if(oe&&f.protocols.indexOf(oe)===-1){A(new c("Unsupported protocol "+oe+":",c.ERR_BAD_REQUEST,m));return}S.send(B)})},_r}var Sr,hi;function Qr(){if(hi)return Sr;hi=1;var e=ne(),r=ks(),t=Ce(),n=Cs(),i=pt(),s=du(),o=Zr(),a=Fs(),c={"Content-Type":"application/x-www-form-urlencoded"};function h(m,x){!e.isUndefined(m)&&e.isUndefined(m["Content-Type"])&&(m["Content-Type"]=x)}function l(){var m;return(typeof XMLHttpRequest<"u"||typeof Nr<"u"&&Object.prototype.toString.call(Nr)==="[object process]")&&(m=fi()),m}function f(m,x,v){if(e.isString(m))try{return(x||JSON.parse)(m),e.trim(m)}catch(A){if(A.name!=="SyntaxError")throw A}return(v||JSON.stringify)(m)}var y={transitional:n,adapter:l(),transformRequest:[function(x,v){r(v,"Accept"),r(v,"Content-Type");var A=v&&v["Content-Type"]||"",B=A.indexOf("application/json")>-1,M=e.isObject(x);M&&e.isHTMLForm(x)&&(x=new FormData(x));var U=e.isFormData(x);if(U)return B?JSON.stringify(a(x)):x;if(e.isArrayBuffer(x)||e.isBuffer(x)||e.isStream(x)||e.isFile(x)||e.isBlob(x))return x;if(e.isArrayBufferView(x))return x.buffer;if(e.isURLSearchParams(x))return h(v,"application/x-www-form-urlencoded;charset=utf-8"),x.toString();var W;if(M){if(A.indexOf("application/x-www-form-urlencoded")!==-1)return s(x,this.formSerializer).toString();if((W=e.isFileList(x))||A.indexOf("multipart/form-data")>-1){var F=this.env&&this.env.FormData;return i(W?{"files[]":x}:x,F&&new F,this.formSerializer)}}return M||B?(h(v,"application/json"),f(x)):x}],transformResponse:[function(x){var v=this.transitional||y.transitional,A=v&&v.forcedJSONParsing,B=this.responseType==="json";if(x&&e.isString(x)&&(A&&!this.responseType||B)){var M=v&&v.silentJSONParsing,U=!M&&B;try{return JSON.parse(x)}catch(W){if(U)throw W.name==="SyntaxError"?t.from(W,t.ERR_BAD_RESPONSE,this,null,this.response):W}}return x}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:o.classes.FormData,Blob:o.classes.Blob},validateStatus:function(x){return x>=200&&x<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};return e.forEach(["delete","get","head"],function(x){y.headers[x]={}}),e.forEach(["post","put","patch"],function(x){y.headers[x]=e.merge(c)}),Sr=y,Sr}var Rr,di;function _u(){if(di)return Rr;di=1;var e=ne(),r=Qr();return Rr=function(n,i,s,o){var a=this||r;return e.forEach(o,function(h){n=h.call(a,n,i,s)}),n},Rr}var Ar,yi;function Bs(){return yi||(yi=1,Ar=function(r){return!!(r&&r.__CANCEL__)}),Ar}var wr,mi;function Su(){if(mi)return wr;mi=1;var e=ne(),r=_u(),t=Bs(),n=Qr(),i=ft(),s=ks();function o(a){if(a.cancelToken&&a.cancelToken.throwIfRequested(),a.signal&&a.signal.aborted)throw new i}return wr=function(c){o(c),c.headers=c.headers||{},c.data=r.call(c,c.data,c.headers,null,c.transformRequest),s(c.headers,"Accept"),s(c.headers,"Content-Type"),c.headers=e.merge(c.headers.common||{},c.headers[c.method]||{},c.headers),e.forEach(["delete","get","head","post","put","patch","common"],function(f){delete c.headers[f]});var h=c.adapter||n.adapter;return h(c).then(function(f){return o(c),f.data=r.call(c,f.data,f.headers,f.status,c.transformResponse),f},function(f){return t(f)||(o(c),f&&f.response&&(f.response.data=r.call(c,f.response.data,f.response.headers,f.response.status,c.transformResponse))),Promise.reject(f)})},wr}var Pr,gi;function Ls(){if(gi)return Pr;gi=1;var e=ne();return Pr=function(t,n){n=n||{};var i={};function s(f,y){return e.isPlainObject(f)&&e.isPlainObject(y)?e.merge(f,y):e.isEmptyObject(y)?e.merge({},f):e.isPlainObject(y)?e.merge({},y):e.isArray(y)?y.slice():y}function o(f){if(e.isUndefined(n[f])){if(!e.isUndefined(t[f]))return s(void 0,t[f])}else return s(t[f],n[f])}function a(f){if(!e.isUndefined(n[f]))return s(void 0,n[f])}function c(f){if(e.isUndefined(n[f])){if(!e.isUndefined(t[f]))return s(void 0,t[f])}else return s(void 0,n[f])}function h(f){if(f in n)return s(t[f],n[f]);if(f in t)return s(void 0,t[f])}var l={url:a,method:a,data:a,baseURL:c,transformRequest:c,transformResponse:c,paramsSerializer:c,timeout:c,timeoutMessage:c,withCredentials:c,withXSRFToken:c,adapter:c,responseType:c,xsrfCookieName:c,xsrfHeaderName:c,onUploadProgress:c,onDownloadProgress:c,decompress:c,maxContentLength:c,maxBodyLength:c,beforeRedirect:c,transport:c,httpAgent:c,httpsAgent:c,cancelToken:c,socketPath:c,responseEncoding:c,validateStatus:h};return e.forEach(Object.keys(t).concat(Object.keys(n)),function(y){var m=l[y]||o,x=m(y);e.isUndefined(x)&&m!==h||(i[y]=x)}),i},Pr}var Or,xi;function Ns(){return xi||(xi=1,Or={version:"0.29.0"}),Or}var kr,bi;function Ru(){if(bi)return kr;bi=1;var e=Ns().version,r=Ce(),t={};["object","boolean","number","function","string","symbol"].forEach(function(s,o){t[s]=function(c){return typeof c===s||"a"+(o<1?"n ":" ")+s}});var n={};t.transitional=function(o,a,c){function h(l,f){return"[Axios v"+e+"] Transitional option '"+l+"'"+f+(c?". "+c:"")}return function(l,f,y){if(o===!1)throw new r(h(f," has been removed"+(a?" in "+a:"")),r.ERR_DEPRECATED);return a&&!n[f]&&(n[f]=!0,console.warn(h(f," has been deprecated since v"+a+" and will be removed in the near future"))),o?o(l,f,y):!0}};function i(s,o,a){if(typeof s!="object")throw new r("options must be an object",r.ERR_BAD_OPTION_VALUE);for(var c=Object.keys(s),h=c.length;h-- >0;){var l=c[h],f=o[l];if(f){var y=s[l],m=y===void 0||f(y,l,s);if(m!==!0)throw new r("option "+l+" must be "+m,r.ERR_BAD_OPTION_VALUE);continue}if(a!==!0)throw new r("Unknown option "+l,r.ERR_BAD_OPTION)}}return kr={assertOptions:i,validators:t},kr}var Cr,vi;function Au(){if(vi)return Cr;vi=1;var e=ne(),r=Os(),t=lu(),n=Su(),i=Ls(),s=Is(),o=Ru(),a=o.validators;function c(h){this.defaults=h,this.interceptors={request:new t,response:new t}}return c.prototype.request=function(l,f){typeof l=="string"?(f=f||{},f.url=l):f=l||{},f=i(this.defaults,f),f.method?f.method=f.method.toLowerCase():this.defaults.method?f.method=this.defaults.method.toLowerCase():f.method="get";var y=f.transitional;y!==void 0&&o.assertOptions(y,{silentJSONParsing:a.transitional(a.boolean),forcedJSONParsing:a.transitional(a.boolean),clarifyTimeoutError:a.transitional(a.boolean)},!1);var m=f.paramsSerializer;m!=null&&(e.isFunction(m)?f.paramsSerializer={serialize:m}:o.assertOptions(m,{encode:a.function,serialize:a.function},!0));var x=[],v=!0;this.interceptors.request.forEach(function(S){typeof S.runWhen=="function"&&S.runWhen(f)===!1||(v=v&&S.synchronous,x.unshift(S.fulfilled,S.rejected))});var A=[];this.interceptors.response.forEach(function(S){A.push(S.fulfilled,S.rejected)});var B;if(!v){var M=[n,void 0];for(Array.prototype.unshift.apply(M,x),M=M.concat(A),B=Promise.resolve(f);M.length;)B=B.then(M.shift(),M.shift());return B}for(var U=f;x.length;){var W=x.shift(),F=x.shift();try{U=W(U)}catch(j){F(j);break}}try{B=n(U)}catch(j){return Promise.reject(j)}for(;A.length;)B=B.then(A.shift(),A.shift());return B},c.prototype.getUri=function(l){l=i(this.defaults,l);var f=s(l.baseURL,l.url);return r(f,l.params,l.paramsSerializer)},e.forEach(["delete","get","head","options"],function(l){c.prototype[l]=function(f,y){return this.request(i(y||{},{method:l,url:f,data:(y||{}).data}))}}),e.forEach(["post","put","patch"],function(l){function f(y){return function(x,v,A){return this.request(i(A||{},{method:l,headers:y?{"Content-Type":"multipart/form-data"}:{},url:x,data:v}))}}c.prototype[l]=f(),c.prototype[l+"Form"]=f(!0)}),Cr=c,Cr}var Fr,Ei;function wu(){if(Ei)return Fr;Ei=1;var e=ft();function r(t){if(typeof t!="function")throw new TypeError("executor must be a function.");var n;this.promise=new Promise(function(o){n=o});var i=this;this.promise.then(function(s){if(i._listeners){for(var o=i._listeners.length;o-- >0;)i._listeners[o](s);i._listeners=null}}),this.promise.then=function(s){var o,a=new Promise(function(c){i.subscribe(c),o=c}).then(s);return a.cancel=function(){i.unsubscribe(o)},a},t(function(o,a,c){i.reason||(i.reason=new e(o,a,c),n(i.reason))})}return r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(n){if(this.reason){n(this.reason);return}this._listeners?this._listeners.push(n):this._listeners=[n]},r.prototype.unsubscribe=function(n){if(this._listeners){var i=this._listeners.indexOf(n);i!==-1&&this._listeners.splice(i,1)}},r.source=function(){var n,i=new r(function(o){n=o});return{token:i,cancel:n}},Fr=r,Fr}var Ir,_i;function Pu(){return _i||(_i=1,Ir=function(r){return function(n){return r.apply(null,n)}}),Ir}var Br,Si;function Ou(){if(Si)return Br;Si=1;var e=ne();return Br=function(t){return e.isObject(t)&&t.isAxiosError===!0},Br}var Ri;function ku(){if(Ri)return Xe.exports;Ri=1;var e=ne(),r=Rs(),t=Au(),n=Ls(),i=Qr(),s=Fs();function o(c){var h=new t(c),l=r(t.prototype.request,h);return e.extend(l,t.prototype,h),e.extend(l,h),l.create=function(y){return o(n(c,y))},l}var a=o(i);return a.Axios=t,a.CanceledError=ft(),a.CancelToken=wu(),a.isCancel=Bs(),a.VERSION=Ns().version,a.toFormData=pt(),a.AxiosError=Ce(),a.Cancel=a.CanceledError,a.all=function(h){return Promise.all(h)},a.spread=Pu(),a.isAxiosError=Ou(),a.formToJSON=function(c){return s(e.isHTMLForm(c)?new FormData(c):c)},Xe.exports=a,Xe.exports.default=a,Xe.exports}var Lr,Ai;function Cu(){return Ai||(Ai=1,Lr=ku()),Lr}var Fu=Cu();const en=Oi(Fu),Iu=["/search/user-config","/search/product","/search/product-review","/search/property-group","/search/newsletter-recipient","/search/salutation","/search/product-search-config","/search/product-search-config-field","/app-system/action-button/product/list","_action/system-config","/_action/system-config","app-system/action-button/product/list","/search/currency","/search/order","/search/customer","/_info/me"],Bu=["/user-config","user-config","_action/system-config/batch","/_action/system-config/batch","/_action/sync","_action/sync","/product-visibility","product-visibility"],Lu=1500;function Nu(e,r={}){return t=>{const n=["delete","patch"].includes(t==null?void 0:t.method),i=Bu.includes(t==null?void 0:t.url);if(n||i)return Object.keys(r).forEach(c=>{delete r[c]}),e(t);if(!Iu.includes(t==null?void 0:t.url))return e(t);const o=JSON.stringify(t),a=r[o];return a?(Shopware.Utils.debug.warn("http.factory","Duplicated requests happening in short amount of time: ",t,"This duplicated request should be fixed."),wi(a)):(r[o]=e(t),setTimeout(()=>{r[o]&&delete r[o]},Lu),wi(r[o]))}}function wi(e){return e.then(r=>JSON.parse(JSON.stringify(r)))}function ju(e){return Mu()}const{CancelToken:Du,isCancel:bl,Cancel:vl}=en;function Mu(){const e=en.create({baseURL:Shopware.Context.api.apiPath});return qu(e),Uu(e),zu(e),e.CancelToken=Du,Vu(e),$u(e),e}function $u(e){const r={};e.interceptors.request.use(t=>{const n=t.adapter;return t.adapter=Nu(n,r),t})}function Uu(e){return e.interceptors.response.use(r=>r,r=>{var o,a;const{hasOwnProperty:t}=Shopware.Utils.object;if(t(((o=r==null?void 0:r.config)==null?void 0:o.headers)??{},"sw-app-integration-id")||!r)return Promise.reject(r);const{status:n}=r.response??{status:void 0},{errors:i,data:s}=((a=r.response)==null?void 0:a.data)??{errors:void 0,data:void 0};try{js({status:n,errors:i,error:r,data:s})}catch(c){Shopware.Utils.debug.error(c),i&&i.forEach(h=>{Shopware.Store.get("notification").createNotification({variant:"error",title:h.title,message:h.detail})})}return Promise.reject(r)}),e}function js({status:e,errors:r,error:t=null,data:n}){var s,o,a;const i=Shopware.Application.view.root;if(e===400&&(((o=(s=t==null?void 0:t.response)==null?void 0:s.config)==null?void 0:o.url)??"").includes("_action/sync")){if(!n)return;Object.values(n).forEach(c=>{c.result.forEach(h=>{if(!h.errors.length)return;const l=parseInt(h.errors[0].status,10);js({status:l,errors:h.errors,data:n})})})}if(e===403&&r.filter(h=>h.code==="FRAMEWORK__MISSING_PRIVILEGE_ERROR").forEach(h=>{let f=JSON.parse(h.detail).missingPrivileges;!Array.isArray(f)&&typeof f=="object"&&(f=Object.values(f));const y=f.reduce((m,x)=>`${m}<br>"${x}"`,"");Shopware.Store.get("notification").createNotification({variant:"error",system:!0,autoClose:!1,growl:!0,title:Shopware.Snippet.tc("global.error-codes.FRAMEWORK__MISSING_PRIVILEGE_ERROR"),message:`${Shopware.Snippet.tc("sw-privileges.error.description")} <br> ${y}`})}),e===403&&["FRAMEWORK__STORE_SESSION_EXPIRED","FRAMEWORK__STORE_SHOP_SECRET_INVALID"].includes((a=r[0])==null?void 0:a.code)&&Shopware.Store.get("notification").createNotification({variant:"warning",system:!0,autoClose:!1,growl:!0,title:Shopware.Snippet.tc("sw-extension.errors.storeSessionExpired.title"),message:Shopware.Snippet.tc("sw-extension.errors.storeSessionExpired.message"),actions:[{label:Shopware.Snippet.tc("sw-extension.errors.storeSessionExpired.actionLabel"),method:()=>{i.$router.push({name:"sw.extension.my-extensions.account"})}}]}),e===409&&r[0].code==="FRAMEWORK__DELETE_RESTRICTED"){const c=r[0].meta.parameters,h=c.entity;let l="";l=c.usages.reduce((f,y)=>{const m=y.count,x=Shopware.Snippet.tc("global.default.xTimesIn",m),v=Shopware.Snippet.tc(`global.entities.${y.entityName}`,m[1]);return`${f}<br>${x} <b>${v}</b>`},""),Shopware.Store.get("notification").createNotification({variant:"error",title:Shopware.Snippet.tc("global.default.error"),message:`${Shopware.Snippet.tc("global.notification.messageDeleteFailed",3,{entityName:Shopware.Snippet.tc(`global.entities.${h}`)})}${l}`})}if(e===412){const c=r.find(h=>h.code==="FRAMEWORK__LANGUAGE_NOT_FOUND");c&&(localStorage.removeItem("sw-admin-current-language"),Shopware.Store.get("notification").createNotification({variant:"error",system:!0,autoClose:!1,growl:!0,title:c.title,message:`${c.detail} Please reload the administration.`,actions:[{label:"Reload administration",method:()=>window.location.reload()}]}))}}function qu(e){const r=Ci();return e.interceptors.response.use(t=>t,t=>{var a,c;const n=t.config||{},i=(a=t.response)==null?void 0:a.status,s=n,o=(c=s.url)==null?void 0:c.replace(s.baseURL,"");return r.whitelist.includes(o)?Promise.reject(t):i===401?(r.isRefreshing||r.fireRefreshTokenRequest().catch(()=>Promise.reject(t)),new Promise((h,l)=>{r.subscribe(f=>{s.headers.Authorization=`Bearer ${f}`,s.url=s.url.replace(s.baseURL,""),h(en(s))},f=>{if(!Shopware.Application.getApplicationRoot()){l(f),window.location.reload();return}l(f)})})):Promise.reject(t)}),e}function zu(e){return e.interceptors.response.use(t=>t,t=>{var a,c,h;const{config:n,response:i}=t,s=(h=(c=(a=i==null?void 0:i.data)==null?void 0:a.errors)==null?void 0:c[0])==null?void 0:h.code;if((n==null?void 0:n.storeSessionRequestRetries)>=1)return Promise.reject(t);const o=["FRAMEWORK__STORE_SESSION_EXPIRED","FRAMEWORK__STORE_SHOP_SECRET_INVALID"];return(i==null?void 0:i.status)===403&&o.includes(s)?(typeof n.storeSessionRequestRetries=="number"?n.storeSessionRequestRetries+=1:n.storeSessionRequestRetries=1,e.request(n)):Promise.reject(t)}),e}function Vu(e){return e.interceptors.request.use(r=>{var n,i,s,o,a;const t=(a=(o=(s=(i=(n=Shopware==null?void 0:Shopware.Application)==null?void 0:n.view)==null?void 0:i.router)==null?void 0:s.history)==null?void 0:o.current)==null?void 0:a.name;return t&&(r.headers["shopware-admin-active-route"]=t),r}),e}class Hu{constructor(r,t,n,i,s){this.hydrator=r,this.changesetGenerator=t,this.entityFactory=n,this.httpClient=i,this.errorResolver=s}create(r,t="",n={}){t||(t=`/${r.replace(/_/g,"-")}`);const i=Shopware.EntityDefinition.get(r);return new _s(t,i.entity,this.httpClient,this.hydrator,this.changesetGenerator,this.entityFactory,this.errorResolver,n)}}function Wu(e={}){const r=Shopware.Defaults,t=Gu(e),n=`${t}/api`,i=localStorage.getItem("sw-admin-current-language")||r.systemLanguageId,s=Wr();return s.api.installationPath=t,s.api.apiPath=n,s.api.apiResourcePath=`${n}`,s.api.assetsPath=Ju(e.assetPath),s.api.languageId=i,s.api.inheritance=!1,Object.entries(e).forEach(([o,a])=>{s.addApiValue({key:o,value:a})}),Shopware.Context.api}function Gu(e,r){var n;let t="";return(n=e.schemeAndHttpHost)!=null&&n.length&&(t=`${e.schemeAndHttpHost}${e.basePath}`),t}function Ju(e,r){return`${e}/bundles/`}function Yu(e={}){const r=Wr();return r.app.environment="production",r.app.fallbackLocale="en-GB",Object.entries(e).forEach(([t,n])=>{r.addAppValue({key:t,value:n})}),Shopware.Context.app}function Ku(e,r,t,n){const i=[],s=[];let o=null;return{addRoutes:v,addModuleRoutes:x,createRouterInstance:a,getViewComponent:M,getRouterInstance:c,_setModuleFavicon:W,getModuleInfo:f};function a(F={}){const j=s.map(X=>A(X)),S=i.map(X=>A(X)),L=m(S,j),D={...F,routes:L};D.history=e.createWebHashHistory();const J=e.createRouter(D);return h(J),o=J,J}function c(){return o}function h(F){const j=U();return F.beforeEach(S=>{Shopware.Service("userActivityService").updateLastUserActivity(),W(S,j);const L=n.isLoggedIn(),D=new Shopware.Helper.RefreshTokenHelper,J=["/login/","/login","/login/info","/login/recovery"];return S.meta&&S.meta.forceRoute===!0||!L&&(S.name==="login"||J.includes(S.path)||S.path.startsWith("/login/user-recovery/")||S.path.match(/\/inactivity\/login\/[a-z0-9]{32}/))?!0:L&&(S.name==="login"||J.includes(S.path)||S.path.startsWith("/login/user-recovery/"))?{name:"core"}:!L&&(sessionStorage.setItem("sw-admin-previous-route",JSON.stringify({fullPath:S.fullPath,name:S.name})),!D.isRefreshing)?D.fireRefreshTokenRequest().then(()=>l(S)).catch(()=>({name:"sw.login.index"})):S.meta.privilege&&!Shopware.Service("acl").can(S.meta.privilege)?{name:"sw.privilege.error.index"}:S.name&&S.name.includes("sw.extension.store")&&S.matched.length<=0?{name:"sw.extension.store.landing-page"}:l(S)}),F}function l(F){const j=f(F);j!==null&&(F.meta.$module=j.manifest);const S=y(F,j);return S!==null&&(F.meta.$current=S),!0}function f(F){const j=t.getModuleRegistry();let S=null,L=null;return j.forEach(D=>{var X;if(S)return;if(D.routes.has(F.name)){S=D;return}((X=F.meta)!=null&&X.parentPath?F.meta.parentPath:void 0)&&D.routes.has(F.meta.parentPath)&&(L=D)}),S||L}function y(F,j){if(!j||!j.navigation)return null;const S=j.navigation;let L=null;return S.forEach(D=>{D.path===F.name&&(L=D)}),L}function m(F,j){const S=[],L=[];return j.forEach(D=>{if(D.coreRoute===!0){S.push(D);return}L.push(D)}),F.map(D=>(D.root===!0&&(D.children=L),D)),F=[...F,...S],F}function x(F){return s.push(...F),s}function v(F){return i.push(...F),i}function A(F){const j=Shopware.Utils.object.hasOwnProperty;if(j(F,"components")&&Object.keys(F.components).length){const S={};Object.keys(F.components).forEach(L=>{let D=F.components[L];typeof D=="string"&&(D=M(D)),S[L]=D}),F=B(F),F.components=S}return typeof F.component=="string"&&(F.component=M(F.component)),F}function B(F){var j;return(j=F.children)!=null&&j.length&&(F.children=F.children.map(S=>{let L=S.component;return typeof L=="string"&&(L=M(L)),S.component=L,S.children&&(S=B(S)),S})),F}function M(F){return Shopware.Application.view.getComponentForRoute(F)}function U(){return Shopware.Context.api.assetsPath}function W(F,j){const S=f(F);if(!S)return!1;const L=S.manifest.favicon||null,D=document.getElementById("dynamic-favicon");D.rel="shortcut icon";const J=S.manifest.faviconSrc||"administration";return j.length!==0&&(j=`${j}${J}/`),D.href=L?`${j}static/img/favicon/modules/${L}`:`${j}static/img/favicon/favicon-32x32.png`,!0}}const Xu=()=>Object.values(Object.assign({"./acl.api.service.js":()=>$(()=>import("./acl.api.service-RehCidTl.js"),[]),"./app-action-button.service.js":()=>$(()=>import("./app-action-button.service-MA1j6Pet.js"),__vite__mapDeps([0,1,2,3])),"./app-cms-blocks.service.js":()=>$(()=>import("./app-cms-blocks.service-qR6lAzym.js"),__vite__mapDeps([4,1,2])),"./app-modules.service.ts":()=>$(()=>import("./app-modules.service-CKxTCYII.js"),__vite__mapDeps([5,1,2])),"./app-url-change.service.js":()=>$(()=>import("./app-url-change.service-B1jQmSlX.js"),__vite__mapDeps([6,1,2])),"./business-events.api.service.js":()=>$(()=>import("./business-events.api.service-Bc0ZIoo0.js"),__vite__mapDeps([7,1,2])),"./cache.api.service.js":()=>$(()=>import("./cache.api.service-DTRN96Zk.js"),[]),"./calculate-price.api.service.js":()=>$(()=>import("./calculate-price.api.service-BuuaPzE6.js"),__vite__mapDeps([8,1,2])),"./cart-store-api.api.service.ts":()=>$(()=>import("./cart-store-api.api.service-ewDf4onX.js"),__vite__mapDeps([9,2,10,11,12,13,14,1,15])),"./checkout-store.api.service.ts":()=>$(()=>import("./checkout-store.api.service-D5PWyd0w.js"),__vite__mapDeps([16,1,2])),"./config.api.service.ts":()=>$(()=>import("./config.api.service-BhJrOqIl.js"),__vite__mapDeps([17,1,2])),"./custom-snippet.api.service.ts":()=>$(()=>import("./custom-snippet.api.service-CojFFaGV.js"),__vite__mapDeps([18,1,2])),"./customer-group-registration.api.service.js":()=>$(()=>import("./customer-group-registration.api.service-BLJJT--y.js"),__vite__mapDeps([19,1,2])),"./customer-validation.api.service.js":()=>$(()=>import("./customer-validation.api.service-Bw2BziYN.js"),__vite__mapDeps([20,1,2])),"./document.api.service.js":()=>$(()=>import("./document.api.service-DdEvgX5v.js"),__vite__mapDeps([21,1,2])),"./errors/InvalidActionButtonParameterError.ts":()=>$(()=>import("./InvalidActionButtonParameterError-KvFlsqmj.js"),[]),"./excludedSearchTerm.api.service.js":()=>$(()=>import("./excludedSearchTerm.api.service-AEhezz8Y.js"),__vite__mapDeps([22,1,2])),"./extension-sdk.service.ts":()=>$(()=>import("./extension-sdk.service-2GMZwlJ8.js"),__vite__mapDeps([23,1,2])),"./first-run-wizard.api.service.js":()=>$(()=>import("./first-run-wizard.api.service-D-e7V9-E.js"),[]),"./flow-actions.api.service.js":()=>$(()=>import("./flow-actions.api.service-BLKRf0hM.js"),__vite__mapDeps([24,1,2])),"./import-export.api.service.js":()=>$(()=>import("./import-export.api.service-B8rOebYj.js"),[]),"./integration.api.service.js":()=>$(()=>import("./integration.api.service-FwhhK7-R.js"),[]),"./known-ips.api.service.js":()=>$(()=>import("./known-ips.api.service-DfJIfO4W.js"),__vite__mapDeps([25,1,2])),"./language-plugin.api.service.js":()=>$(()=>import("./language-plugin.api.service-uK0_a0ZV.js"),[]),"./mail.api.service.js":()=>$(()=>import("./mail.api.service-CUoWLuGB.js"),__vite__mapDeps([26,1,2])),"./media-folder.api.service.js":()=>$(()=>import("./media-folder.api.service-Cg8A6AZx.js"),__vite__mapDeps([27,1,2])),"./media.api.service.js":()=>$(()=>import("./media.api.service-mXibDD5w.js"),__vite__mapDeps([28,10,2,11,12,13,14,1])),"./message-queue.api.service.ts":()=>$(()=>import("./message-queue.api.service-DKfCgwg1.js"),__vite__mapDeps([29,1,2])),"./notifications.service.js":()=>$(()=>import("./notifications.service-BLz8uEMv.js"),__vite__mapDeps([30,1,2])),"./number-range.api.service.js":()=>$(()=>import("./number-range.api.service-t9V3U8ow.js"),[]),"./order-document.api.service.js":()=>$(()=>import("./order-document.api.service-DXWVq3L3.js"),__vite__mapDeps([31,1,2])),"./order-state-machine.api.service.ts":()=>$(()=>import("./order-state-machine.api.service-CO7rs3_j.js"),__vite__mapDeps([32,1,2])),"./order.api.service.js":()=>$(()=>import("./order.api.service-CpM45j9h.js"),__vite__mapDeps([33,2,10,11,12,13,14,1])),"./product-export.api.service.js":()=>$(()=>import("./product-export.api.service-C0hiGNio.js"),__vite__mapDeps([34,1,2])),"./product-stream-preview.service.js":()=>$(()=>import("./product-stream-preview.service-C5S7gqQk.js"),__vite__mapDeps([35,2,1])),"./promotion-sync.api.service.js":()=>$(()=>import("./promotion-sync.api.service-xiy94VES.js"),__vite__mapDeps([36,37,1,2])),"./recommendations.api.service.js":()=>$(()=>import("./recommendations.api.service-CJwzZdTt.js"),[]),"./rule-conditions-config.api.service.js":()=>$(()=>import("./rule-conditions-config.api.service-waR4lmyv.js"),__vite__mapDeps([38,1,2])),"./sales-channel.api.service.js":()=>$(()=>import("./sales-channel.api.service-DCCGHr0c.js"),__vite__mapDeps([39,1,2])),"./scheduled-task.api.service.ts":()=>$(()=>import("./scheduled-task.api.service-B5SnmUNt.js"),__vite__mapDeps([40,1,2])),"./search.api.service.js":()=>$(()=>import("./search.api.service-CEElfgmp.js"),__vite__mapDeps([41,1,2,10,11,12,13,14,42,43,44,45,46,15])),"./seo-url-template.api.service.js":()=>$(()=>import("./seo-url-template.api.service-BjLSQbZ9.js"),__vite__mapDeps([47,1,2])),"./seo-url.api.service.js":()=>$(()=>import("./seo-url.api.service-DgdJoHu6.js"),__vite__mapDeps([48,1,2])),"./snippet-set.api.service.js":()=>$(()=>import("./snippet-set.api.service-BNSQbXOr.js"),[]),"./snippet.api.service.js":()=>$(()=>import("./snippet.api.service-0KQ1tlBp.js"),__vite__mapDeps([49,1,2])),"./state-machine.api.service.js":()=>$(()=>import("./state-machine.api.service-Bd_1Y3sT.js"),__vite__mapDeps([50,1,2])),"./store-context.api.service.ts":()=>$(()=>import("./store-context.api.service-BzTO42NB.js"),__vite__mapDeps([51,1,2])),"./store.api.service.ts":()=>$(()=>import("./store.api.service-JgjxuBX-.js"),__vite__mapDeps([52,1,2])),"./sync.api.service.js":()=>$(()=>import("./sync.api.service-BF6pgC9s.js"),__vite__mapDeps([37,1,2])),"./system-config.api.service.js":()=>$(()=>import("./system-config.api.service-m3IY3Opq.js"),__vite__mapDeps([53,54,42,10,2,11,12,13,14,1])),"./tag.api.service.js":()=>$(()=>import("./tag.api.service-1_DtIVvH.js"),__vite__mapDeps([55,1,2])),"./update.api.service.js":()=>$(()=>import("./update.api.service-CbfCt8PP.js"),[]),"./usage-data.api.service.ts":()=>$(()=>import("./usage-data.api.service-DdK-GRjj.js"),__vite__mapDeps([56,1,2])),"./user-activity.service.js":()=>$(()=>import("./user-activity.service-CwyBNfoL.js"),__vite__mapDeps([57,1,2])),"./user-config.api.service.js":()=>$(()=>import("./user-config.api.service-BdOV9RbO.js"),__vite__mapDeps([58,1,2])),"./user-input-sanitize.service.js":()=>$(()=>import("./user-input-sanitize.service-D_E49xjh.js"),__vite__mapDeps([59,1,2])),"./user-recovery.api.service.js":()=>$(()=>import("./user-recovery.api.service-BjFltF-H.js"),__vite__mapDeps([60,1,2])),"./user-validation.api.service.js":()=>$(()=>import("./user-validation.api.service-By7DfFcT.js"),__vite__mapDeps([61,1,2])),"./user.api.service.js":()=>$(()=>import("./user.api.service-UZU9HOwG.js"),__vite__mapDeps([62,1,2]))}));typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;function Tu(e,r){function t(...n){return new Promise((i,s)=>{Promise.resolve(e(()=>r.apply(this,n),{fn:r,thisArg:this,args:n})).then(i).catch(s)})}return t}const Ds=e=>e();function Zu(e=Ds){const r=Fi(!0);function t(){r.value=!1}function n(){r.value=!0}const i=(...s)=>{r.value&&e(...s)};return{isActive:eo(r),pause:t,resume:n,eventFilter:i}}function Qu(e,r,t={}){const{eventFilter:n=Ds,...i}=t;return Ii(e,Tu(n,r),i)}function Pi(e,r,t={}){const{eventFilter:n,...i}=t,{eventFilter:s,pause:o,resume:a,isActive:c}=Zu(n);return{stop:Qu(e,r,{...i,eventFilter:s}),pause:o,resume:a,isActive:c}}function el(e,r,...[t]){const{flush:n="sync",deep:i=!1,immediate:s=!0,direction:o="both",transform:a={}}=t||{},c=[],h="ltr"in a&&a.ltr||(y=>y),l="rtl"in a&&a.rtl||(y=>y);return(o==="both"||o==="ltr")&&c.push(Pi(e,y=>{c.forEach(m=>m.pause()),r.value=h(y),c.forEach(m=>m.resume())},{flush:n,deep:i,immediate:s})),(o==="both"||o==="rtl")&&c.push(Pi(r,y=>{c.forEach(m=>m.pause()),e.value=l(y),c.forEach(m=>m.resume())},{flush:n,deep:i,immediate:s})),()=>{c.forEach(y=>y.stop())}}const Ne=Le({}),Ms=({oldObj:e,newObj:r,path:t="",componentName:n})=>{let i={isValid:!0,error:null};for(const s of Object.keys(e)){const o=t?`${t}.${s}`:s;if(!Object.prototype.hasOwnProperty.call(r,s)){i={isValid:!1,error:`[${n}] Override value not working. New structure does not contain key: ${o}`};break}if(typeof e[s]=="object"&&e[s]!==null&&typeof r[s]=="object"&&r[s]!==null){const a=Ms({oldObj:e[s],newObj:r[s],path:o,componentName:n});if(!a.isValid){i=a;break}}}return i},tl=()=>{const e=ro();return(e==null?void 0:e.setupContext)??{attrs:e==null?void 0:e.attrs,slots:e==null?void 0:e.slots,emit:e==null?void 0:e.emit,expose:()=>{console.error("expose is not available in the current context")}}};function rl(e,r){const t=e.context?e.context:tl(),n=r(e.props,t);if(!n.public&&!n.private)return console.error(`[${e.name}] The original setup function for the originalComponent component must return at least one public or private property.`),{};Object.keys(n).forEach(y=>{y!=="public"&&y!=="private"&&console.error(`[${e.name}] The original setup function for the originalComponent component returned an unexpected value. Only public and private properties at first level are allowed.`)});const i=n.public??{},s=n.private??{},o={...i,...s};Object.keys(e.props).forEach(y=>{Object.keys(o).includes(y)&&(console.error(`[${e.name}] The original setup function for the originalComponent component returned a prop. This is not allowed. Props are only available for overrides with the second argument.`),delete o[y])}),Ne[e.name]||(Ne[e.name]=Le([]));const a=Ne[e.name],c=o,h=Le(c),l=Le([]);return Ii(a,()=>{a.forEach(y=>{if(l.includes(y))return;const m=Object.keys(c).reduce((v,A)=>(Object.keys(i).includes(A)&&(v[A]=c[A]),v),{_private:{}});m._private=Object.keys(c).reduce((v,A)=>(Object.keys(i).includes(A)||(v[A]=c[A]),v),{});const x=y({...m},e.props,t);Object.keys(x).forEach(v=>{if(Object.keys(e.props).includes(v)){console.error(`[${e.name}] Override result value not working. Cannot override props. Following prop should be changed: "${v}"`);return}const A=x[v];if(!mt(A)&&gt(A)&&!(A!=null&&A.effect))el(A,c[v]);else if(mt(A)&&gt(A))h[v]=A;else if(!mt(A)&&gt(A)&&(A!=null&&A.effect))h[v]=no({get:()=>A.value,set:B=>{A.value=B}});else if(io(A)){const B=Ms({oldObj:h[v],newObj:A,componentName:e.name,path:v});if(!B.isValid){console.error(B.error);return}Object.assign(h[v],A)}else typeof A=="function"?h[v]=A:console.error(`[${e.name}] Override value not working. No handling declared for:`,v,A)}),l.push(y)})},{deep:!0,immediate:!0}),to(h)}function nl(){return function(e,r){Ne[e]||(Ne[e]=Le([])),Ne[e].push(r)}}class il{flattened(){return Object.entries(this.all()).flatMap(([r,t])=>t.map(n=>`${r}-${n}`))}all(){return Shopware.Store.get("context").app.config.inAppPurchases}getByExtension(r){return this.all()[r]||[]}isActive(r,t){var i;return((i=this.all()[r])==null?void 0:i.includes(t))||!1}}const sl=Object.freeze(new il);function ol(e){return e!==null&&typeof e=="object"&&typeof e.then=="function"}const al={handle:(e,r)=>so(e,(n,i)=>!n.privileges||n.privileges.length===0?r(n,i):new Promise((s,o)=>{const a=n.privileges.filter(c=>!Shopware.Service("acl").can(c));if(a.length>0)o(new oo(e,a));else{const c=r(n,i);ol(c)?c.then(h=>s(h)).catch(o):s(c)}})),publishData:lo,getPublishedDataSets:uo};window.hasOwnProperty("_features_")&&Bi.init(_features_);me.config={strict:!1};const cl=new me,$s=new Zc(cl);$s.addFactory("component",()=>he).addFactory("template",()=>ye).addFactory("module",()=>Me).addFactory("state",()=>ps).addFactory("serviceFactory",()=>fs).addFactory("classesFactory",()=>oc).addFactory("mixin",()=>Mr).addFactory("filter",()=>Te).addFactory("directive",()=>Ze).addFactory("locale",()=>$e).addFactory("shortcut",()=>Qe).addFactory("plugin",()=>Ur).addFactory("apiService",()=>Ie).addFactory("entityDefinition",()=>be).addFactory("workerNotification",()=>Be);var Ge;const ze=class ze{constructor(){this.Module={register:Me.registerModule,getModuleRegistry:Me.getModuleRegistry,getModuleRoutes:Me.getModuleRoutes,getModuleByEntityName:Me.getModuleByEntityName},this.Component={register:he.register,extend:he.extend,override:he.override,build:he.build,wrapComponentConfig:he.wrapComponentConfig,getTemplate:he.getComponentTemplate,getComponentRegistry:he.getComponentRegistry,getComponentHelper:he.getComponentHelper,registerComponentHelper:he.registerComponentHelper,markComponentAsSync:he.markComponentAsSync,isSyncComponent:he.isSyncComponent,createExtendableSetup:rl,overrideComponentSetup:nl,registerOverrideComponent:r=>{yt(ze,Ge).value.push(r)},getOverrideComponents:()=>yt(ze,Ge).value},this.Template={register:ye.registerComponentTemplate,extend:ye.extendComponentTemplate,override:ye.registerTemplateOverride,getRenderedTemplate:ye.getRenderedTemplate},this.State=ps(),this.Store=ao.instance,this.Mixin={register:Mr.register,getByName:Mr.getByName},this.Filter={register:Te.register,getByName:Te.getByName,getRegistry:Te.getRegistry},this.Directive={register:Ze.registerDirective,getByName:Ze.getDirectiveByName,getDirectiveRegistry:Ze.getDirectiveRegistry},this.Locale={register:$e.register,extend:$e.extend,getByName:$e.getLocaleByName,getLocaleRegistry:$e.getLocaleRegistry},this.Shortcut={getShortcutRegistry:Qe.getShortcutRegistry,getPathByCombination:Qe.getPathByCombination,register:Qe.register},this.Plugin={addBootPromise:Ur.addBootPromise,getBootPromises:Ur.getBootPromises},this.Service=fs,this.Utils=Vr,this.Application=$s,this.Feature=Bi,this.InAppPurchase=sl,this.Vue=co,this.ApiService={register:Ie.register,getByName:Ie.getByName,getRegistry:Ie.getRegistry,getServices:Ie.getServices,has:Ie.has},this.EntityDefinition={getScalarTypes:be.getScalarTypes,getJsonTypes:be.getJsonTypes,getDefinitionRegistry:be.getDefinitionRegistry,has:be.has,get:be.get,add:be.add,remove:be.remove,getTranslatedFields:be.getTranslatedFields,getAssociationFields:be.getAssociationFields,getRequiredFields:be.getRequiredFields},this.ExtensionAPI=al,this.WorkerNotification={register:Be.register,getRegistry:Be.getRegistry,override:Be.override,remove:Be.remove,initialize:Be.initialize},this.Defaults={systemLanguageId:"2fbb5fe2e29a4d70aa5854ce7ce3e20b",defaultLanguageIds:["2fbb5fe2e29a4d70aa5854ce7ce3e20b"],versionId:"0fa91ce3e96a4bc2be4bd9ce752c3425",storefrontSalesChannelTypeId:"8a243080f92e4c719546314b577cf82b",productComparisonTypeId:"ed535e5722134ac1aa6524f73e26881b",apiSalesChannelTypeId:"f183ee5650cf4bdb8a774337575067a6",defaultSalutationId:"ed643807c9f84cc8b50132ea3ccb1c3b"},this.Data=Tc,this.Classes={ShopwareError:po,ApiService:fo,_private:{HttpFactory:ju,RepositoryFactory:Hu,ApiContextFactory:Wu,AppContextFactory:Yu,RouterFactory:Ku,FilterFactory:Ss}},this.Helper={FlatTreeHelper:Yc,MiddlewareHelper:at,RefreshTokenHelper:Ci,SanitizerHelper:ho,DeviceHelper:zr,PromotionHelper:{DiscountScopes:go,DiscountTypes:mo,PromotionPermissions:yo},OrderHelper:{LineItemType:xo}},this._private={ApiServices:Xu}}get Snippet(){return{...Shopware.Application.view.i18n.global,tc:Shopware.Application.view.i18n.global.t}}get Context(){return Wr()}};Ge=new WeakMap,nn(ze,Ge,Fi([]));let it=ze;const Us=new it;Object.defineProperty(Us,"InAppPurchase",{configurable:!1,writable:!1});const El=Object.freeze(Object.defineProperty({__proto__:null,ShopwareClass:it,ShopwareInstance:Us},Symbol.toStringTag,{value:"Module"}));export{Fu as a,El as s};
