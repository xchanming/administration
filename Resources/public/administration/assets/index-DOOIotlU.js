const o='{% block sw_cms_block %} <div class="sw-cms-block" :class="customBlockClass" :style="blockStyles" > <sw-cms-visibility-toggle v-if="isVisible" :text="toggleButtonText" :is-collapsed="isCollapsed" :class="expandedClass" @toggle="toggleVisibility" /> {% block sw_cms_block_content %} <div v-if="!isCollapsed || !isVisible" class="sw-cms-block__content" :class="expandedClass" :style="blockPadding" > <slot> {% block sw_cms_block_slot_default %}{% endblock %} </slot> </div> {% endblock %} {% block sw_cms_block_overlay %} <div v-if="!disabled" class="sw-cms-block__config-overlay" :class="overlayClasses" role="button" tabindex="0" @click="onBlockOverlayClick" @keydown.enter="onBlockOverlayClick" ></div> {% endblock %} </div> {% endblock %}',{Filter:a,Store:c}=Shopware,r=Shopware.Component.wrapComponentConfig({template:o,emits:["block-overlay-click"],props:{block:{type:Object,required:!0},active:{type:Boolean,required:!1,default:!1},disabled:{type:Boolean,required:!1,default:!1},hasWarnings:{type:Boolean,required:!1,default:!1},hasErrors:{type:Boolean,required:!1,default:!1}},data(){return{backgroundUrl:null,isCollapsed:!0}},computed:{customBlockClass(){var s,l;const e={"has--warning":!this.hasErrors&&this.hasWarnings,"has--error":this.hasErrors};return this.block.cssClass?(l=(s=this.block)==null?void 0:s.cssClass)==null?void 0:l.split(" ").reduce((t,i)=>(t[i]=!0,t),e):e},blockStyles(){let e=null;if(this.block.backgroundMedia){const s=this.block.backgroundMedia.url;this.block.backgroundMedia.id?e=`url("${s}")`:e=`url("${this.assetFilter(s)}")`}return{"background-color":this.block.backgroundColor||"transparent","background-image":e,"background-size":this.block.backgroundMediaMode}},blockPadding(){return{"padding-top":this.block.marginTop||"0px","padding-bottom":this.block.marginBottom||"0px","padding-left":this.block.marginLeft||"0px","padding-right":this.block.marginRight||"0px"}},overlayClasses(){return{"is--active":this.active}},toolbarClasses(){return{"is--active":this.active}},assetFilter(){return a.getByName("asset")},isVisible(){const e=c.get("cmsPage").currentCmsDeviceView,s=this.block.visibility;return e==="desktop"&&!s.desktop||e==="tablet-landscape"&&!s.tablet||e==="mobile"&&!s.mobile},toggleButtonText(){return this.$tc("sw-cms.sidebar.contentMenu.visibilityBlockTextButton",this.isCollapsed?0:1)},expandedClass(){return{"is--expanded":this.isVisible&&!this.isCollapsed}}},created(){this.createdComponent()},methods:{createdComponent(){this.block.backgroundMediaMode||(this.block.backgroundMediaMode="cover")},onBlockOverlayClick(){this.block.locked||this.$emit("block-overlay-click")},toggleVisibility(){this.isCollapsed=!this.isCollapsed}}});export{r as default};
