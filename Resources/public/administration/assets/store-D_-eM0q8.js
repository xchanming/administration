Shopware.Store.register({id:"swProductDetail",state(){return{product:{},parentProduct:{},currencies:[],apiContext:{},taxes:[],variants:[],customFieldSets:[],defaultFeatureSet:{},loading:{init:!1,product:!1,parentProduct:!1,manufacturers:!1,currencies:!1,taxes:!1,customFieldSets:!1,media:!1,rules:!1,variants:!1,defaultFeatureSet:!1,advancedMode:!1},localMode:!1,advancedModeSetting:{},modeSettings:["general_information","prices","deliverability","visibility_structure","media","labelling","measures_packaging","properties","essential_characteristics","custom_fields"],creationStates:[]}},getters:{isLoading:e=>Object.values(e.loading).some(t=>t),defaultCurrency(e){return!e.currencies||!e.currencies.length?{id:void 0}:e.currencies.find(r=>r.isSystemDefault)||{id:void 0}},defaultPrice(e){let t=e.product.price;if(!t){if(!e.parentProduct.price)return{};t=e.parentProduct.price}return t.find(r=>r.currencyId===this.defaultCurrency.id)??{}},getDefaultFeatureSet(e){return e.defaultFeatureSet?e.defaultFeatureSet:{}},productTaxRate(e){return e.taxes?e.taxes.find(t=>e.product.taxId?t.id===e.product.taxId:e.parentProduct.taxId?t.id===e.parentProduct.taxId:{})??{}:{}},isChild(e){var t;return!!((t=e.product)!=null&&t.parentId)},showModeSetting(e){var t;return!!((t=e.product)!=null&&t.parentId)||this.advanceModeEnabled},advanceModeEnabled(e){var t;return!!((t=e.advancedModeSetting.value)!=null&&t.advancedMode.enabled)},productStates(e){var t,r;return(r=(t=e.product).isNew)!=null&&r.call(t)&&e.creationStates?e.creationStates:e.product.states?e.product.states:[]}},actions:{showProductCard(e){var r,i;return(r=this.product)!=null&&r.parentId?!0:["essential_characteristics","custom_fields","labelling"].includes(e)&&!this.showModeSetting?!1:(i=this.modeSettings)==null?void 0:i.includes(e)},setCustomFields(e){this.customFieldSets=this.customFieldSets.map(t=>t.id===e.id?e:t)},setLoading(e){const t=e[0],r=e[1];return typeof r!="boolean"?!1:this.loading[t]!==void 0?(this.loading[t]=r,!0):!1},setAssignedProductsFromCrossSelling({id:e,collection:t}){var i;const r=(i=this.product.crossSellings)==null?void 0:i.get(e);r&&(r.assignedProducts=t)},setTaxes(e){var t;this.taxes=e,this.product&&this.product.taxId===null&&!this.parentProduct.id&&(this.product.taxId=(t=this.taxes[0])==null?void 0:t.id)},setDefaultFeatureSet(e){this.defaultFeatureSet=e}}});
