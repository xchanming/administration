{"version":3,"file":"index-CbeoMcx5.js","sources":["../../../app/administration/src/module/sw-flow/page/sw-flow-index/sw-flow-index.html.twig","../../../app/administration/src/module/sw-flow/page/sw-flow-index/index.ts"],"sourcesContent":["<sw-page class=\"sw-flow-list-index\">\n    <template #search-bar>\n        <sw-search-bar\n            initial-search-type=\"flow\"\n            :placeholder=\"$tc('sw-flow.general.placeholderSearchBar')\"\n            :initial-search=\"term\"\n            @search=\"onSearch\"\n        />\n    </template>\n\n    <template #smart-bar-header>\n        <h2>\n            {{ $tc('sw-settings.index.title') }}\n            <sw-icon\n                name=\"regular-chevron-right-xs\"\n                small\n            />\n            {{ $tc('sw-flow.list.textHeadline') }}\n\n            <span\n                v-if=\"!isLoading\"\n                class=\"sw-page__smart-bar-amount\"\n            >\n                ({{ total }})\n            </span>\n        </h2>\n    </template>\n\n    <template #smart-bar-actions>\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_flow_index_smart_bar_actions_extension %}\n        <sw-extension-teaser-popover\n            position-identifier=\"sw-flow-upload-flow-button\"\n        />\n        {% endblock %}\n\n        <sw-button\n            v-tooltip=\"{\n                message: $tc('sw-privileges.tooltip.warning'),\n                disabled: acl.can('flow.creator'),\n                position: 'bottom',\n                showOnDisabledElements: true\n            }\"\n            class=\"sw-flow-list__create\"\n            variant=\"primary\"\n            :router-link=\"{ name: 'sw.flow.create' }\"\n            :disabled=\"!acl.can('flow.creator') || undefined\"\n        >\n            {{ $tc('sw-flow.list.buttonAddFlow') }}\n        </sw-button>\n    </template>\n\n    <template #content>\n        <sw-card-view>\n            <sw-tabs\n                class=\"sw-flow-list__tab\"\n                position-identifier=\"sw-flow-listing\"\n                :small=\"false\"\n            >\n                <sw-tabs-item\n                    class=\"sw-flow-listing__tab-my-flows\"\n                    name=\"flows\"\n                    :title=\"$tc('sw-flow.general.tabMyFlows')\"\n                    :route=\"{ name: 'sw.flow.index.flows'}\"\n                >\n                    {{ $tc('sw-flow.general.tabMyFlows') }}\n                </sw-tabs-item>\n\n                <sw-tabs-item\n                    class=\"sw-flow-listing__tab-flow-templates\"\n                    name=\"templates\"\n                    :title=\"$tc('sw-flow.general.tabFlowTemplates')\"\n                    :route=\"{ name: 'sw.flow.index.templates'}\"\n                >\n                    {{ $tc('sw-flow.general.tabFlowTemplates') }}\n                </sw-tabs-item>\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_flow_tabs_header_extension %}{% endblock %}\n\n                <template #content=\"{ active }\">\n                    <template v-if=\"isLoading\">\n                        <sw-skeleton />\n                        <sw-skeleton />\n                    </template>\n\n                    <template v-else>\n                        <router-view\n                            v-slot=\"{ Component }\"\n                        >\n                            <component\n                                :is=\"Component\"\n                                :is-loading=\"isLoading\"\n                                :search-term=\"term\"\n                                @on-update-total=\"onUpdateTotalFlow\"\n                            />\n                        </router-view>\n                    </template>\n                </template>\n            </sw-tabs>\n        </sw-card-view>\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_flow_index_modal_content_custom %}\n        {% endblock %}\n    </template>\n</sw-page>\n","import type Repository from '../../../../core/data/repository.data';\nimport type CriteriaType from '../../../../core/data/criteria.data';\nimport template from './sw-flow-index.html.twig';\nimport './sw-flow-index.scss';\n\nconst { Criteria } = Cicada.Data;\n\n/**\n * @private\n * @package services-settings\n */\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default Cicada.Component.wrapComponentConfig({\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: [\n        'acl',\n        'repositoryFactory',\n    ],\n\n    data(): {\n        isLoading: boolean;\n        term: string;\n        total: number;\n        showUploadModal: boolean;\n    } {\n        return {\n            isLoading: false,\n            term: '',\n            total: 0,\n            showUploadModal: false,\n        };\n    },\n\n    metaInfo() {\n        return {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-call\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        flowRepository(): Repository<'flow'> {\n            return this.repositoryFactory.create('flow');\n        },\n\n        flowCriteria(): CriteriaType {\n            return new Criteria(1, null);\n        },\n    },\n\n    created(): void {\n        this.createComponent();\n    },\n\n    methods: {\n        createComponent(): void {\n            void this.getTotal();\n        },\n\n        async getTotal(): Promise<void> {\n            // eslint-disable-next-line max-len\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-call,@typescript-eslint/no-unsafe-member-access,@typescript-eslint/no-unsafe-assignment\n            const { total } = await this.flowRepository.searchIds(this.flowCriteria);\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-assignment\n            this.total = total;\n        },\n\n        onUpdateTotalFlow(total: number): void {\n            this.total = total;\n        },\n\n        onSearch(term: string): void {\n            this.term = term;\n        },\n    },\n});\n"],"names":["template","Criteria","index","total","term"],"mappings":"AAAA,MAAeA,EAAA,khECKT,CAAE,SAAAC,CAAS,EAAI,OAAO,KAO5BC,EAAe,OAAO,UAAU,oBAAoB,CAChD,SAAAF,EAEA,aAAc,OAAO,aAErB,OAAQ,CACJ,MACA,mBACJ,EAEA,MAKE,CACS,MAAA,CACH,UAAW,GACX,KAAM,GACN,MAAO,EACP,gBAAiB,EAAA,CAEzB,EAEA,UAAW,CACA,MAAA,CAEH,MAAO,KAAK,aAAa,CAAA,CAEjC,EAEA,SAAU,CACN,gBAAqC,CAC1B,OAAA,KAAK,kBAAkB,OAAO,MAAM,CAC/C,EAEA,cAA6B,CAClB,OAAA,IAAIC,EAAS,EAAG,IAAI,CAC/B,CACJ,EAEA,SAAgB,CACZ,KAAK,gBAAgB,CACzB,EAEA,QAAS,CACL,iBAAwB,CACf,KAAK,UACd,EAEA,MAAM,UAA0B,CAGtB,KAAA,CAAE,MAAAE,CAAU,EAAA,MAAM,KAAK,eAAe,UAAU,KAAK,YAAY,EAEvE,KAAK,MAAQA,CACjB,EAEA,kBAAkBA,EAAqB,CACnC,KAAK,MAAQA,CACjB,EAEA,SAASC,EAAoB,CACzB,KAAK,KAAOA,CAChB,CACJ,CACJ,CAAC"}