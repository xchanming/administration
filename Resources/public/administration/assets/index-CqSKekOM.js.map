{"version":3,"file":"index-CqSKekOM.js","sources":["../../../app/administration/src/module/sw-first-run-wizard/view/sw-first-run-wizard-mailer-selection/sw-first-run-wizard-mailer-selection.html.twig","../../../app/administration/src/module/sw-first-run-wizard/view/sw-first-run-wizard-mailer-selection/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_first_run_wizard_mailer_selection %}\n<div class=\"sw-first-run-wizard-mailer-selection\">\n    <sw-loader v-if=\"isLoading\" />\n\n    <img\n        class=\"sw-first-run-wizard-mailer-selection__illustration\"\n        :src=\"assetFilter('/administration/static/img/first-run-wizard/mailer-selection.svg')\"\n        alt=\"\"\n    >\n\n    <h4 class=\"sw-first-run-wizard-mailer-selection__headline\">\n        <strong>\n            {{ $tc('sw-first-run-wizard.mailerSelection.headline') }}\n        </strong>\n    </h4>\n    <p>\n        {{ $tc('sw-first-run-wizard.mailerSelection.description') }}\n    </p>\n\n    <p class=\"sw-first-run-wizard-mailer-selection__subline\">\n        <strong>\n            {{ $tc('sw-first-run-wizard.mailerSelection.chooseSubline') }}\n        </strong>\n    </p>\n\n    <div class=\"sw-first-run-wizard-mailer-selection__selections\">\n        <div\n            class=\"sw-first-run-wizard-mailer-selection__selection\"\n            :class=\"{ 'is--selected': mailAgent === 'local' }\"\n            role=\"button\"\n            tabindex=\"0\"\n            @click=\"setMailAgent('local')\"\n            @keydown.enter=\"setMailAgent('local')\"\n        >\n\n            <sw-help-text\n                class=\"sw-first-run-wizard-mailer-selection__help-text\"\n                :text=\"$tc('sw-first-run-wizard.mailerSelection.localOptionHelptext')\"\n            />\n\n            <sw-icon\n                name=\"regular-paper-plane\"\n                class=\"sw-first-run-wizard-mailer-selection__selection-icon\"\n            />\n            <p>\n                {{ $tc('sw-first-run-wizard.mailerSelection.localOption') }}\n                <br>\n                <span class=\"sw-first-run-wizard-mailer-selection__text-light\">\n                    {{ $tc('sw-first-run-wizard.mailerSelection.localOptionSubline') }}\n                </span>\n            </p>\n\n        </div>\n\n        <div\n            class=\"sw-first-run-wizard-mailer-selection__selection\"\n            :class=\"{ 'is--selected': mailAgent === 'smtp' }\"\n            role=\"button\"\n            tabindex=\"0\"\n            @click=\"setMailAgent('smtp')\"\n            @keydown.enter=\"setMailAgent('smtp')\"\n        >\n\n            <sw-icon\n                name=\"regular-server\"\n                class=\"sw-first-run-wizard-mailer-selection__selection-icon\"\n            />\n            <p>\n                {{ $tc('sw-first-run-wizard.mailerSelection.smtpOption') }}\n            </p>\n\n        </div>\n    </div>\n\n    <p class=\"sw-first-run-wizard-mailer-selection__note\">\n        <span class=\"sw-first-run-wizard-mailer-selection__text-light\">\n            {{ $tc('sw-first-run-wizard.mailerSelection.configurationNote') }}\n        </span>\n    </p>\n</div>\n{% endblock %}\n","import template from './sw-first-run-wizard-mailer-selection.html.twig';\nimport './sw-first-run-wizard-mailer-selection.scss';\n\n/**\n * @package checkout\n * @private\n */\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: ['systemConfigApiService'],\n\n    emits: [\n        'buttons-update',\n        'frw-set-title',\n        'frw-redirect',\n    ],\n\n    data() {\n        return {\n            mailAgent: null,\n            isLoading: false,\n        };\n    },\n\n    computed: {\n        nextLabel() {\n            return this.$tc('sw-first-run-wizard.general.buttonNext');\n        },\n\n        buttonConfig() {\n            const disabledExtensionManagement = Cicada.State.get('context').app.config.settings.disableExtensionManagement;\n            const nextRoute = disabledExtensionManagement ? 'cicada.account' : 'paypal.info';\n\n            return [\n                {\n                    key: 'back',\n                    label: this.$tc('sw-first-run-wizard.general.buttonBack'),\n                    position: 'left',\n                    variant: null,\n                    action: 'sw.first.run.wizard.index.defaults',\n                    disabled: false,\n                },\n                {\n                    key: 'configure-later',\n                    label: this.$tc('sw-first-run-wizard.general.buttonConfigureLater'),\n                    position: 'right',\n                    variant: null,\n                    action: `sw.first.run.wizard.index.${nextRoute}`,\n                    disabled: false,\n                },\n                {\n                    key: 'next',\n                    label: this.nextLabel,\n                    position: 'right',\n                    variant: 'primary',\n                    action: this.handleSelection.bind(this),\n                    disabled: !this.mailAgent,\n                },\n            ];\n        },\n\n        assetFilter() {\n            return Cicada.Filter.getByName('asset');\n        },\n    },\n\n    watch: {\n        buttonConfig() {\n            this.updateButtons();\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.updateButtons();\n            this.setTitle();\n        },\n\n        updateButtons() {\n            this.$emit('buttons-update', this.buttonConfig);\n        },\n\n        setTitle() {\n            this.$emit('frw-set-title', this.$tc('sw-first-run-wizard.mailerSelection.modalTitle'));\n        },\n\n        async handleSelection() {\n            this.isLoading = true;\n\n            // when user has smtp selected\n            if (this.mailAgent === 'smtp') {\n                this.$emit('frw-redirect', 'sw.first.run.wizard.index.mailer.smtp');\n                this.isLoading = false;\n            }\n\n            // when user has local selected\n            if (this.mailAgent === 'local') {\n                this.$emit('frw-redirect', 'sw.first.run.wizard.index.mailer.local');\n                this.isLoading = false;\n            }\n        },\n\n        setMailAgent(name) {\n            this.mailAgent = name;\n        },\n    },\n};\n"],"names":["template","index","nextRoute","name"],"mappings":"AAAA,MAAeA,EAAA,88DCOAC,EAAA,CACX,SAAAD,EAEA,aAAc,OAAO,aAErB,OAAQ,CAAC,wBAAwB,EAEjC,MAAO,CACH,iBACA,gBACA,cACH,EAED,MAAO,CACH,MAAO,CACH,UAAW,KACX,UAAW,EACvB,CACK,EAED,SAAU,CACN,WAAY,CACR,OAAO,KAAK,IAAI,wCAAwC,CAC3D,EAED,cAAe,CAEX,MAAME,EAD8B,OAAO,MAAM,IAAI,SAAS,EAAE,IAAI,OAAO,SAAS,2BACpC,iBAAmB,cAEnE,MAAO,CACH,CACI,IAAK,OACL,MAAO,KAAK,IAAI,wCAAwC,EACxD,SAAU,OACV,QAAS,KACT,OAAQ,qCACR,SAAU,EACb,EACD,CACI,IAAK,kBACL,MAAO,KAAK,IAAI,kDAAkD,EAClE,SAAU,QACV,QAAS,KACT,OAAQ,6BAA6BA,CAAS,GAC9C,SAAU,EACb,EACD,CACI,IAAK,OACL,MAAO,KAAK,UACZ,SAAU,QACV,QAAS,UACT,OAAQ,KAAK,gBAAgB,KAAK,IAAI,EACtC,SAAU,CAAC,KAAK,SACnB,CACjB,CACS,EAED,aAAc,CACV,OAAO,OAAO,OAAO,UAAU,OAAO,CACzC,CACJ,EAED,MAAO,CACH,cAAe,CACX,KAAK,cAAa,CACrB,CACJ,EAED,SAAU,CACN,KAAK,iBAAgB,CACxB,EAED,QAAS,CACL,kBAAmB,CACf,KAAK,cAAa,EAClB,KAAK,SAAQ,CAChB,EAED,eAAgB,CACZ,KAAK,MAAM,iBAAkB,KAAK,YAAY,CACjD,EAED,UAAW,CACP,KAAK,MAAM,gBAAiB,KAAK,IAAI,gDAAgD,CAAC,CACzF,EAED,MAAM,iBAAkB,CACpB,KAAK,UAAY,GAGb,KAAK,YAAc,SACnB,KAAK,MAAM,eAAgB,uCAAuC,EAClE,KAAK,UAAY,IAIjB,KAAK,YAAc,UACnB,KAAK,MAAM,eAAgB,wCAAwC,EACnE,KAAK,UAAY,GAExB,EAED,aAAaC,EAAM,CACf,KAAK,UAAYA,CACpB,CACJ,CACL"}