{"version":3,"file":"index-B_vOOIHP.js","sources":["../../../app/administration/src/app/component/sidebar/sw-sidebar/sw-sidebar.html.twig","../../../app/administration/src/app/component/sidebar/sw-sidebar/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_sidebar %}\n<aside\n    class=\"sw-sidebar\"\n    :class=\"sidebarClasses\"\n>\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_sidebar_navigation %}\n    <nav class=\"sw-sidebar__navigation\">\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_sidebar_navigation_list %}\n        <ul\n            v-for=\"(section, index) in sections\"\n            :key=\"`sidebar-section-${index}`\"\n            class=\"sw_sidebar__navigation-list\"\n            :class=\"`is--${index}`\"\n        >\n\n            <li\n                v-for=\"item in section\"\n                :key=\"item.id\"\n            >\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_sidebar_navigation_item %}\n                <sw-sidebar-navigation-item\n                    :sidebar-item=\"item\"\n                    @item-click=\"setItemActive(item)\"\n                />\n                {% endblock %}\n            </li>\n        </ul>\n        {% endblock %}\n    </nav>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_sidebar_content %}\n    <div class=\"sw-sidebar__content\">\n        <slot><!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_sidebar_default_slot %}{% endblock %}</slot>\n    </div>\n    {% endblock %}\n</aside>\n{% endblock %}\n","import template from './sw-sidebar.html.twig';\nimport './sw-sidebar.scss';\n\nconst { Component } = Cicada;\n\n/**\n * @package admin\n *\n * @private\n * @status ready\n * @example-type static\n * @component-example\n * <sw-sidebar #sidebar>\n *     <sw-sidebar-item title=\"Refresh\" icon=\"regular-undo\"></sw-sidebar-item>\n * </sw-sidebar>\n */\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nComponent.register('sw-sidebar', {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    provide() {\n        if (this.isCompatEnabled('INSTANCE_CHILDREN')) {\n            return {};\n        }\n\n        return {\n            registerSidebarItem: this.registerSidebarItem,\n        };\n    },\n\n    inject: [\n        'setSwPageSidebarOffset',\n        'removeSwPageSidebarOffset',\n    ],\n\n    emits: ['item-click'],\n\n    props: {\n        propagateWidth: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n    },\n\n    data() {\n        return {\n            items: [],\n            isOpened: false,\n            // eslint-disable-next-line vue/no-reserved-keys\n            _parent: this.$parent,\n        };\n    },\n\n    computed: {\n        sections() {\n            const sections = {};\n            this.items.forEach((item) => {\n                if (!sections[item.position]) {\n                    sections[item.position] = [];\n                }\n                sections[item.position].push(item);\n            });\n\n            return sections;\n        },\n\n        sidebarClasses() {\n            return {\n                'is--opened': this.isOpened,\n            };\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    mounted() {\n        this.mountedComponent();\n    },\n\n    unmounted() {\n        this.destroyedComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            let parent = this.$parent;\n\n            while (parent) {\n                if (parent.$options.name === 'sw-page') {\n                    this._parent = parent;\n                    return;\n                }\n\n                parent = parent.$parent;\n            }\n        },\n\n        mountedComponent() {\n            if (this.propagateWidth) {\n                const sidebarWidth = this.$el.querySelector('.sw-sidebar__navigation').offsetWidth;\n\n                if (this.isCompatEnabled('INSTANCE_EVENT_EMITTER') && this.isCompatEnabled('INSTANCE_CHILDREN')) {\n                    this._parent.$emit('mount', sidebarWidth);\n                } else {\n                    this.setSwPageSidebarOffset(sidebarWidth);\n                }\n            }\n        },\n\n        destroyedComponent() {\n            if (!this.propagateWidth) {\n                return;\n            }\n\n            if (this.isCompatEnabled('INSTANCE_EVENT_EMITTER') && this.isCompatEnabled('INSTANCE_CHILDREN')) {\n                this._parent.$emit('destroy');\n            } else {\n                this.removeSwPageSidebarOffset();\n            }\n        },\n\n        _isItemRegistered(itemToCheck) {\n            const index = this.items.findIndex((item) => {\n                return item === itemToCheck;\n            });\n            return index > -1;\n        },\n\n        _isAnyItemActive() {\n            const index = this.items.findIndex((item) => {\n                return item.isActive;\n            });\n            return index > -1;\n        },\n\n        closeSidebar() {\n            this.isOpened = false;\n        },\n\n        registerSidebarItem(item) {\n            if (this._isItemRegistered(item)) {\n                return;\n            }\n\n            this.items.push(item);\n\n            if (this.isCompatEnabled('INSTANCE_EVENT_EMITTER')) {\n                // eslint-disable-next-line vue/no-deprecated-events-api\n                this.$on('item-click', item.sidebarButtonClick);\n                item.$on('toggle-active', this.setItemActive);\n                item.$on('close-content', this.closeSidebar);\n            } else {\n                item.registerToggleActiveListener(this.setItemActive);\n                item.registerCloseContentListener(this.closeSidebar);\n            }\n        },\n\n        setItemActive(clickedItem) {\n            this.$emit('item-click', clickedItem);\n\n            if (!this.isCompatEnabled('INSTANCE_EVENT_EMITTER')) {\n                this.items.forEach((item) => {\n                    if (item.sidebarButtonClick) {\n                        item.sidebarButtonClick(clickedItem);\n                    }\n                });\n            }\n\n            if (clickedItem.hasDefaultSlot) {\n                this.isOpened = this._isAnyItemActive();\n            }\n        },\n    },\n});\n"],"names":["template","Component","sections","item","parent","sidebarWidth","itemToCheck","clickedItem"],"mappings":"AAAA,MAAeA,EAAA,6tBCGT,CAAE,UAAAC,CAAW,EAAG,OActBA,EAAU,SAAS,aAAc,CAC7B,SAAAD,EAEA,aAAc,OAAO,aAErB,SAAU,CACN,OAAI,KAAK,gBAAgB,mBAAmB,EACjC,GAGJ,CACH,oBAAqB,KAAK,mBACtC,CACK,EAED,OAAQ,CACJ,yBACA,2BACH,EAED,MAAO,CAAC,YAAY,EAEpB,MAAO,CACH,eAAgB,CACZ,KAAM,QACN,SAAU,GACV,QAAS,EACZ,CACJ,EAED,MAAO,CACH,MAAO,CACH,MAAO,CAAE,EACT,SAAU,GAEV,QAAS,KAAK,OAC1B,CACK,EAED,SAAU,CACN,UAAW,CACP,MAAME,EAAW,CAAA,EACjB,YAAK,MAAM,QAASC,GAAS,CACpBD,EAASC,EAAK,QAAQ,IACvBD,EAASC,EAAK,QAAQ,EAAI,IAE9BD,EAASC,EAAK,QAAQ,EAAE,KAAKA,CAAI,CACjD,CAAa,EAEMD,CACV,EAED,gBAAiB,CACb,MAAO,CACH,aAAc,KAAK,QACnC,CACS,CACJ,EAED,SAAU,CACN,KAAK,iBAAgB,CACxB,EAED,SAAU,CACN,KAAK,iBAAgB,CACxB,EAED,WAAY,CACR,KAAK,mBAAkB,CAC1B,EAED,QAAS,CACL,kBAAmB,CACf,IAAIE,EAAS,KAAK,QAElB,KAAOA,GAAQ,CACX,GAAIA,EAAO,SAAS,OAAS,UAAW,CACpC,KAAK,QAAUA,EACf,MACH,CAEDA,EAASA,EAAO,OACnB,CACJ,EAED,kBAAmB,CACf,GAAI,KAAK,eAAgB,CACrB,MAAMC,EAAe,KAAK,IAAI,cAAc,yBAAyB,EAAE,YAEnE,KAAK,gBAAgB,wBAAwB,GAAK,KAAK,gBAAgB,mBAAmB,EAC1F,KAAK,QAAQ,MAAM,QAASA,CAAY,EAExC,KAAK,uBAAuBA,CAAY,CAE/C,CACJ,EAED,oBAAqB,CACZ,KAAK,iBAIN,KAAK,gBAAgB,wBAAwB,GAAK,KAAK,gBAAgB,mBAAmB,EAC1F,KAAK,QAAQ,MAAM,SAAS,EAE5B,KAAK,0BAAyB,EAErC,EAED,kBAAkBC,EAAa,CAI3B,OAHc,KAAK,MAAM,UAAWH,GACzBA,IAASG,CACnB,EACc,EAClB,EAED,kBAAmB,CAIf,OAHc,KAAK,MAAM,UAAWH,GACzBA,EAAK,QACf,EACc,EAClB,EAED,cAAe,CACX,KAAK,SAAW,EACnB,EAED,oBAAoBA,EAAM,CAClB,KAAK,kBAAkBA,CAAI,IAI/B,KAAK,MAAM,KAAKA,CAAI,EAEhB,KAAK,gBAAgB,wBAAwB,GAE7C,KAAK,IAAI,aAAcA,EAAK,kBAAkB,EAC9CA,EAAK,IAAI,gBAAiB,KAAK,aAAa,EAC5CA,EAAK,IAAI,gBAAiB,KAAK,YAAY,IAE3CA,EAAK,6BAA6B,KAAK,aAAa,EACpDA,EAAK,6BAA6B,KAAK,YAAY,GAE1D,EAED,cAAcI,EAAa,CACvB,KAAK,MAAM,aAAcA,CAAW,EAE/B,KAAK,gBAAgB,wBAAwB,GAC9C,KAAK,MAAM,QAASJ,GAAS,CACrBA,EAAK,oBACLA,EAAK,mBAAmBI,CAAW,CAE3D,CAAiB,EAGDA,EAAY,iBACZ,KAAK,SAAW,KAAK,mBAE5B,CACJ,CACL,CAAC"}