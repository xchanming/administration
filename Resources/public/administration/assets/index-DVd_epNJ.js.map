{"version":3,"file":"index-DVd_epNJ.js","sources":["../../../app/administration/src/app/component/entity/sw-bulk-edit-modal/sw-bulk-edit-modal.html.twig","../../../app/administration/src/app/component/entity/sw-bulk-edit-modal/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_bulk_edit_modal %}\n<sw-modal\n    class=\"sw-bulk-edit-modal\"\n    :title=\"$tc('global.sw-bulk-edit-modal.bulkEditModalTitle', itemCount, { count: itemCount })\"\n    variant=\"full\"\n    @modal-close=\"$emit('modal-close')\"\n    @edit-items=\"$emit('edit-items')\"\n>\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_bulk_edit_modal_grid %}\n    <sw-data-grid\n        ref=\"bulkEditGrid\"\n        :identifier=\"identifier\"\n        :data-source=\"paginateRecords\"\n        :columns=\"bulkGridEditColumns\"\n        :pre-selection=\"selection\"\n        :show-selection=\"true\"\n        :show-actions=\"false\"\n        :skeleton-item-amount=\"limit\"\n        @selection-change=\"updateBulkEditSelection\"\n    >\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_bulk_edit_modal_grid_custom_slot %}\n        <template\n            v-for=\"(_, slot) in getSlots\"\n            #[slot]=\"props\"\n        >\n            <slot\n                :name=\"slot\"\n                v-bind=\"props\"\n            ></slot>\n        </template>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_bulk_edit_modal_list_pagination %}\n        <template #pagination>\n            <sw-pagination\n                v-bind=\"{ page, limit, steps }\"\n                :total=\"records.length\"\n                :auto-hide=\"false\"\n                :total-visible=\"7\"\n                @page-change=\"paginate\"\n            />\n        </template>\n        {% endblock %}\n    </sw-data-grid>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_bulk_edit_modal_grid_footer %}\n    <template #modal-footer>\n        <slot name=\"sw-bulk-edit-modal-cancel\">\n            <sw-button\n                size=\"small\"\n                @click=\"$emit('modal-close')\"\n            >\n                {{ $tc('global.default.cancel') }}\n            </sw-button>\n        </slot>\n\n        <slot name=\"sw-bulk-edit-modal-confirm\">\n            <sw-button\n                variant=\"primary\"\n                size=\"small\"\n                @click=\"editItems\"\n            >\n                {{ $tc('global.sw-bulk-edit-modal.startBulkEdit') }}\n            </sw-button>\n        </slot>\n    </template>\n    {% endblock %}\n</sw-modal>\n{% endblock %}\n","import template from './sw-bulk-edit-modal.html.twig';\nimport './sw-bulk-edit-modal.scss';\n\nconst { Component } = Cicada;\n\n/**\n * @private\n */\nComponent.register('sw-bulk-edit-modal', {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    emits: [\n        'modal-close',\n        'edit-items',\n    ],\n\n    props: {\n        selection: {\n            type: Object,\n            required: false,\n            default() {\n                return {};\n            },\n        },\n\n        steps: {\n            type: Array,\n            required: false,\n            default() {\n                return [\n                    200,\n                    300,\n                    400,\n                    500,\n                ];\n            },\n        },\n\n        bulkGridEditColumns: {\n            type: Array,\n            required: true,\n        },\n    },\n\n    data() {\n        return {\n            records: [],\n            bulkEditSelection: this.selection,\n            limit: 200,\n            page: 1,\n            identifier: 'sw-bulk-edit-grid',\n        };\n    },\n\n    computed: {\n        itemCount() {\n            return Object.keys(this.bulkEditSelection).length;\n        },\n\n        paginateRecords() {\n            return this.records.slice((this.page - 1) * this.limit, this.page * this.limit);\n        },\n\n        getSlots() {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-call,@typescript-eslint/no-unsafe-member-access\n            if (this.isCompatEnabled('INSTANCE_SCOPED_SLOTS')) {\n                return this.$scopedSlots;\n            }\n\n            return this.$slots;\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            const records = Object.values(this.selection);\n\n            if (records.length > 0) {\n                this.records = records;\n            }\n        },\n\n        paginate({ page = 1, limit = 10 }) {\n            this.page = page;\n            this.limit = limit;\n        },\n\n        updateBulkEditSelection(selections) {\n            this.bulkEditSelection = selections;\n        },\n\n        editItems() {\n            this.$emit('modal-close');\n\n            if (this.itemCount > 0) {\n                Cicada.State.commit('cicadaApps/setSelectedIds', Object.keys(this.bulkEditSelection));\n                this.$emit('edit-items');\n            }\n        },\n    },\n});\n"],"names":["template","Component","records","page","limit","selections"],"mappings":"AAAA,MAAeA,EAAA,u6CCGT,CAAE,UAAAC,CAAW,EAAG,OAKtBA,EAAU,SAAS,qBAAsB,CACrC,SAAAD,EAEA,aAAc,OAAO,aAErB,MAAO,CACH,cACA,YACH,EAED,MAAO,CACH,UAAW,CACP,KAAM,OACN,SAAU,GACV,SAAU,CACN,MAAO,EACV,CACJ,EAED,MAAO,CACH,KAAM,MACN,SAAU,GACV,SAAU,CACN,MAAO,CACH,IACA,IACA,IACA,GACpB,CACa,CACJ,EAED,oBAAqB,CACjB,KAAM,MACN,SAAU,EACb,CACJ,EAED,MAAO,CACH,MAAO,CACH,QAAS,CAAE,EACX,kBAAmB,KAAK,UACxB,MAAO,IACP,KAAM,EACN,WAAY,mBACxB,CACK,EAED,SAAU,CACN,WAAY,CACR,OAAO,OAAO,KAAK,KAAK,iBAAiB,EAAE,MAC9C,EAED,iBAAkB,CACd,OAAO,KAAK,QAAQ,OAAO,KAAK,KAAO,GAAK,KAAK,MAAO,KAAK,KAAO,KAAK,KAAK,CACjF,EAED,UAAW,CAEP,OAAI,KAAK,gBAAgB,uBAAuB,EACrC,KAAK,aAGT,KAAK,MACf,CACJ,EAED,SAAU,CACN,KAAK,iBAAgB,CACxB,EAED,QAAS,CACL,kBAAmB,CACf,MAAME,EAAU,OAAO,OAAO,KAAK,SAAS,EAExCA,EAAQ,OAAS,IACjB,KAAK,QAAUA,EAEtB,EAED,SAAS,CAAE,KAAAC,EAAO,EAAG,MAAAC,EAAQ,EAAE,EAAI,CAC/B,KAAK,KAAOD,EACZ,KAAK,MAAQC,CAChB,EAED,wBAAwBC,EAAY,CAChC,KAAK,kBAAoBA,CAC5B,EAED,WAAY,CACR,KAAK,MAAM,aAAa,EAEpB,KAAK,UAAY,IACjB,OAAO,MAAM,OAAO,4BAA6B,OAAO,KAAK,KAAK,iBAAiB,CAAC,EACpF,KAAK,MAAM,YAAY,EAE9B,CACJ,CACL,CAAC"}