import{C as a}from"./sw-customer.constant-v-M3S1F-.js";const o=`{% block sw_customer_address_form %} <div class="sw-customer-address-form"> {% block sw_customer_address_form_container %} <sw-container columns="repeat(auto-fit, minmax(250px, 1fr))" gap="0px 30px" > {% block sw_customer_address_form_company_field %} <sw-text-field v-model:value="address.company" name="sw-field--address-company" :required="isBusinessAccountType" :label="$tc('sw-customer.addressForm.labelCompany')" :error="disabled ? null : addressCompanyError" :disabled="disabled" :placeholder="$tc('sw-customer.addressForm.placeholderCompany')" /> {% endblock %} {% block sw_customer_address_form_department_field %} <sw-text-field v-model:value="address.department" name="sw-field--address-department" :label="$tc('sw-customer.addressForm.labelDepartment')" :error="disabled ? null : addressDepartmentError" :disabled="disabled" :placeholder="$tc('sw-customer.addressForm.placeholderDepartment')" /> {% endblock %} {% block sw_customer_address_form_salutation_title_container %} {% block sw_customer_address_form_salutation_field %} <sw-entity-single-select v-model:value="address.salutationId" name="sw-field--address-salutationId" class="sw-customer-address-form__salutation-select" entity="salutation" :label="$tc('sw-customer.addressForm.labelSalutation')" :placeholder="$tc('sw-customer.addressForm.placeholderSalutation')" :error="disabled ? null : addressSalutationIdError" :disabled="disabled" :criteria="salutationCriteria" label-property="displayName" /> {% endblock %} {% block sw_customer_address_form_title_field %} <sw-text-field v-model:value="address.title" name="sw-field--address-title" :label="$tc('sw-customer.addressForm.labelTitle')" :placeholder="$tc('sw-customer.addressForm.placeholderTitle')" :error="disabled ? null : addressTitleError" :disabled="disabled" /> {% endblock %} {% endblock %} {% block sw_customer_address_form_first_name_field %} <sw-text-field v-model:value="address.firstName" name="sw-field--address-firstName" :label="$tc('sw-customer.addressForm.labelFirstName')" :placeholder="$tc('sw-customer.addressForm.placeholderFirstName')" validation="required" required :error="disabled ? null : addressFirstNameError" :disabled="disabled" /> {% endblock %} {% block sw_customer_address_form_last_name_field %} <sw-text-field v-model:value="address.lastName" name="sw-field--address-lastName" :label="$tc('sw-customer.addressForm.labelLastName')" :placeholder="$tc('sw-customer.addressForm.placeholderLastName')" validation="required" required :error="disabled ? null : addressLastNameError" :disabled="disabled" /> {% endblock %} {% block sw_customer_address_form_street_field %} <sw-text-field v-model:value="address.street" name="sw-field--address-street" :label="$tc('sw-customer.addressForm.labelStreet')" :placeholder="$tc('sw-customer.addressForm.placeholderStreet')" validation="required" required :error="disabled ? null : addressStreetError" :disabled="disabled" /> {% endblock %} {% block sw_customer_address_form_additional_address_line_1_field %} <sw-text-field v-model:value="address.additionalAddressLine1" name="sw-field--address-additionalAddressLine1" :label="$tc('sw-customer.addressForm.labelAdditionalAddressLine1')" :placeholder="$tc('sw-customer.addressForm.placeholderAdditionalAddressLine1')" :error="disabled ? null : addressAdditionalAddressLine1Error" :disabled="disabled" /> {% endblock %} {% block sw_customer_address_form_additional_address_line_2_field %} <sw-text-field v-model:value="address.additionalAddressLine2" name="sw-field--address-additionalAddressLine2" :label="$tc('sw-customer.addressForm.labelAdditionalAddressLine2')" :placeholder="$tc('sw-customer.addressForm.placeholderAdditionalAddressLine2')" :error="disabled ? null : addressAdditionalAddressLine2Error" :disabled="disabled" /> {% endblock %} {% block sw_customer_address_form_zipcode_city_container %} {% block sw_customer_address_form_zipcode_field %} <sw-text-field v-model:value="address.zipcode" name="sw-field--address-zipcode" :label="$tc('sw-customer.addressForm.labelZipcode')" :placeholder="$tc('sw-customer.addressForm.placeholderZipcode')" validation="required" :required="country && country.postalCodeRequired" :error="disabled ? null : addressZipcodeError" :disabled="disabled" /> {% endblock %} {% block sw_customer_address_form_city_field %} <sw-text-field v-model:value="address.city" name="sw-field--address-city" :label="$tc('sw-customer.addressForm.labelCity')" :placeholder="$tc('sw-customer.addressForm.placeholderCity')" validation="required" required :error="disabled ? null : addressCityError" :disabled="disabled" /> {% endblock %} {% endblock %} {% block sw_customer_address_form_country_field %} <sw-entity-single-select v-model:value="countryId" name="sw-field--countryId" class="sw-customer-address-form__country-select" entity="country" :criteria="countryCriteria" :label="$tc('sw-customer.addressForm.labelCountry')" :placeholder="$tc('sw-customer.addressForm.placeholderCountry')" validation="required" required :error="disabled ? null : addressCountryIdError" :disabled="disabled" show-clearable-button /> {% endblock %} {% block sw_customer_address_form_state_field %} <div v-if="countryId && hasStates" class="sw-customer-address-form__state-select-placeholder" > <sw-entity-single-select v-model:value="address.countryStateId" name="sw-field--address-countryStateId" class="sw-customer-address-form__state-select" entity="country_state" :criteria="stateCriteria" :label="$tc('sw-customer.addressForm.labelState')" :placeholder="$tc('sw-customer.addressForm.placeholderState')" :required="country && country.forceStateInRegistration" :error="disabled ? null : addressCountryStateIdError" :disabled="disabled" show-clearable-button /> </div> {% endblock %} {% block sw_customer_address_form_phone_number_field %} <sw-text-field v-model:value="address.phoneNumber" name="sw-field--address-phoneNumber" :label="$tc('sw-customer.addressForm.labelPhoneNumber')" :placeholder="$tc('sw-customer.addressForm.placeholderPhoneNumber')" :error="disabled ? null : addressPhoneNumberError" :disabled="disabled" /> {% endblock %} <slot v-bind="{ disabled }"> {% block sw_customer_address_form_extension_slot %} {% endblock %} </slot> </sw-container> {% endblock %} </div> {% endblock %}`,{Defaults:l,EntityDefinition:d}=Shopware,{Criteria:r}=Shopware.Data,{mapPropertyErrors:i}=Shopware.Component.getComponentHelper(),n={template:o,inject:["repositoryFactory"],props:{customer:{type:Object,required:!0},address:{type:Object,required:!0,default(){return this.addressRepository.create(this.context)}},disabled:{type:Boolean,required:!1,default:!1}},data(){return{country:null,states:[]}},computed:{addressRepository(){return this.repositoryFactory.create(this.customer.addresses.entity,this.customer.addresses.source)},countryRepository(){return this.repositoryFactory.create("country")},countryStateRepository(){return this.repositoryFactory.create("country_state")},...i("address",["company","department","salutationId","title","firstName","lastName","street","additionalAddressLine1","additionalAddressLine2","zipcode","city","countryId","phoneNumber","vatId","countryStateId","salutationId","city","street","zipcode","lastName","firstName"]),countryId:{get(){return this.address.countryId},set(e){this.address.countryId=e}},countryCriteria(){const e=new r(1,25);return e.addSorting(r.sort("position","ASC",!0)).addSorting(r.sort("name","ASC")),e},stateCriteria(){if(!this.countryId)return null;const e=new r(1,25);return e.addFilter(r.equals("countryId",this.countryId)).addSorting(r.sort("position","ASC",!0)).addSorting(r.sort("name","ASC")),e},salutationCriteria(){const e=new r(1,25);return e.addFilter(r.not("or",[r.equals("id",l.defaultSalutationId)])),e},hasStates(){return this.states.length>0},isBusinessAccountType(){var e;return((e=this.customer)==null?void 0:e.accountType)===a.ACCOUNT_TYPE_BUSINESS}},watch:{countryId:{immediate:!0,handler(e,s){return typeof s<"u"&&(this.address.countryStateId=null),this.countryId?this.countryRepository.get(this.countryId).then(t=>{this.country=t,this.address.country=this.country,this.getCountryStates()}):(this.country=null,Promise.resolve())}},"address.company"(e){e&&(this.customer.company=e)},"country.forceStateInRegistration"(e){e||Shopware.Store.get("error").removeApiError(`${this.address.getEntityName()}.${this.address.id}.countryStateId`);const s=d.get(this.address.getEntityName());s.properties.countryStateId.flags.required=e},"country.postalCodeRequired"(e){e||Shopware.Store.get("error").removeApiError(`${this.address.getEntityName()}.${this.address.id}.zipcode`);const s=d.get(this.address.getEntityName());s.properties.zipcode.flags.required=e}},methods:{getCountryStates(){return this.country?this.countryStateRepository.search(this.stateCriteria).then(e=>{this.states=e}):Promise.resolve()}}};export{n as default};
