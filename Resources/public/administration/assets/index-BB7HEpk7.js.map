{"version":3,"file":"index-BB7HEpk7.js","sources":["../../../app/administration/src/module/sw-first-run-wizard/view/sw-first-run-wizard-finish/sw-first-run-wizard-finish.html.twig","../../../app/administration/src/module/sw-first-run-wizard/view/sw-first-run-wizard-finish/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_first_run_wizard_finish %}\n<div class=\"sw-first-run-wizard-finish\">\n\n    <span class=\"sw-first-run-wizard-finish__bubble\">\n        <sw-icon\n            class=\"sw-first-run-wizard-finish__icon\"\n            name=\"regular-checkmark-xs\"\n            size=\"24px\"\n            small\n        />\n    </span>\n    <h3 class=\"headline\">\n        {{ $tc('sw-first-run-wizard.finish.headlineAllDone') }}\n    </h3>\n    <p class=\"message\">\n        {{ successMessage }}\n    </p>\n\n    <h3 class=\"headline-useful-links\">\n        {{ $tc('sw-first-run-wizard.finish.headlineUsefulLinks') }}\n    </h3>\n    <sw-container\n        columns=\"1fr 1fr 1fr\"\n        class=\"list-useful-links\"\n    >\n        <a\n            :href=\"$tc('sw-first-run-wizard.finish.documentationUrl')\"\n            class=\"external-link\"\n            target=\"_blank\"\n            rel=\"noopener\"\n        >\n            {{ $tc('sw-first-run-wizard.finish.documentationLabel') }}\n        </a>\n        <a\n            :href=\"$tc('sw-first-run-wizard.finish.forumUrl')\"\n            class=\"external-link\"\n            target=\"_blank\"\n            rel=\"noopener\"\n        >\n            {{ $tc('sw-first-run-wizard.finish.forumLabel') }}\n        </a>\n        <a\n            :href=\"$tc('sw-first-run-wizard.finish.roadmapUrl')\"\n            class=\"external-link\"\n            target=\"_blank\"\n            rel=\"noopener\"\n        >\n            {{ $tc('sw-first-run-wizard.finish.roadmapLabel') }}\n        </a>\n    </sw-container>\n\n    <div\n        v-if=\"restarting\"\n        class=\"restart-progress\"\n    >\n        <sw-loader size=\"48px\" />\n        <p\n            class=\"sw-loader-info-text\"\n            v-html=\"$tc('sw-first-run-wizard.finish.loadingMessage')\"\n        ></p>\n    </div>\n</div>\n{% endblock %}\n","import template from './sw-first-run-wizard-finish.html.twig';\nimport './sw-first-run-wizard-finish.scss';\n\n/**\n * @package checkout\n * @private\n */\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: ['firstRunWizardService'],\n\n    emits: [\n        'frw-set-title',\n        'buttons-update',\n        'frw-finish',\n    ],\n\n    data() {\n        return {\n            licenceDomains: [],\n            licensed: false,\n            restarting: false,\n        };\n    },\n\n    computed: {\n        edition() {\n            const activeDomain = this.licenceDomains.find((domain) => domain.active);\n\n            if (!activeDomain) {\n                return '';\n            }\n\n            return activeDomain.edition;\n        },\n\n        successMessage() {\n            if (!this.licensed) {\n                return this.$tc('sw-first-run-wizard.finish.messageNotLicensed');\n            }\n\n            const { edition } = this;\n\n            return this.$tc('sw-first-run-wizard.finish.message', {}, { edition });\n        },\n\n        buttonConfig() {\n            const disabledExtensionManagement = Cicada.State.get('context').app.config.settings.disableExtensionManagement;\n            const prevRoute = disabledExtensionManagement ? 'cicada.account' : 'store';\n\n            return [\n                {\n                    key: 'back',\n                    label: this.$tc('sw-first-run-wizard.general.buttonBack'),\n                    position: 'left',\n                    variant: null,\n                    action: `sw.first.run.wizard.index.${prevRoute}`,\n                    disabled: false,\n                },\n                {\n                    key: 'finish',\n                    label: this.$tc('sw-first-run-wizard.general.buttonFinish'),\n                    position: 'right',\n                    variant: 'primary',\n                    action: this.onFinish.bind(this),\n                    disabled: false,\n                },\n            ];\n        },\n    },\n\n    watch: {\n        buttonConfig: {\n            handler() {\n                this.updateButtons();\n            },\n            deep: true,\n        },\n    },\n\n    created() {\n        this.createdComponent();\n        this.setTitle();\n    },\n\n    methods: {\n        createdComponent() {\n            this.updateButtons();\n\n            this.firstRunWizardService\n                .getLicenseDomains()\n                .then((response) => {\n                    const { items } = response;\n\n                    if (!items || items.length < 1) {\n                        return;\n                    }\n\n                    this.licenceDomains = items;\n                    this.licensed = true;\n                })\n                .catch(() => {\n                    this.licensed = false;\n                });\n        },\n\n        setTitle() {\n            this.$emit('frw-set-title', this.$tc('sw-first-run-wizard.finish.modalTitle'));\n        },\n\n        updateButtons() {\n            this.$emit('buttons-update', this.buttonConfig);\n        },\n\n        onFinish() {\n            this.restarting = true;\n            this.$emit('frw-finish', true);\n        },\n    },\n};\n"],"names":["template","index","activeDomain","domain","edition","prevRoute","response","items"],"mappings":"AAAA,MAAeA,EAAA,ivCCQAC,EAAA,CACX,SAAAD,EAEA,aAAc,OAAO,aAErB,OAAQ,CAAC,uBAAuB,EAEhC,MAAO,CACH,gBACA,iBACA,YACH,EAED,MAAO,CACH,MAAO,CACH,eAAgB,CAAE,EAClB,SAAU,GACV,WAAY,EACxB,CACK,EAED,SAAU,CACN,SAAU,CACN,MAAME,EAAe,KAAK,eAAe,KAAMC,GAAWA,EAAO,MAAM,EAEvE,OAAKD,EAIEA,EAAa,QAHT,EAId,EAED,gBAAiB,CACb,GAAI,CAAC,KAAK,SACN,OAAO,KAAK,IAAI,+CAA+C,EAGnE,KAAM,CAAE,QAAAE,CAAS,EAAG,KAEpB,OAAO,KAAK,IAAI,qCAAsC,CAAA,EAAI,CAAE,QAAAA,CAAO,CAAE,CACxE,EAED,cAAe,CAEX,MAAMC,EAD8B,OAAO,MAAM,IAAI,SAAS,EAAE,IAAI,OAAO,SAAS,2BACpC,iBAAmB,QAEnE,MAAO,CACH,CACI,IAAK,OACL,MAAO,KAAK,IAAI,wCAAwC,EACxD,SAAU,OACV,QAAS,KACT,OAAQ,6BAA6BA,CAAS,GAC9C,SAAU,EACb,EACD,CACI,IAAK,SACL,MAAO,KAAK,IAAI,0CAA0C,EAC1D,SAAU,QACV,QAAS,UACT,OAAQ,KAAK,SAAS,KAAK,IAAI,EAC/B,SAAU,EACb,CACjB,CACS,CACJ,EAED,MAAO,CACH,aAAc,CACV,SAAU,CACN,KAAK,cAAa,CACrB,EACD,KAAM,EACT,CACJ,EAED,SAAU,CACN,KAAK,iBAAgB,EACrB,KAAK,SAAQ,CAChB,EAED,QAAS,CACL,kBAAmB,CACf,KAAK,cAAa,EAElB,KAAK,sBACA,kBAAmB,EACnB,KAAMC,GAAa,CAChB,KAAM,CAAE,MAAAC,CAAO,EAAGD,EAEd,CAACC,GAASA,EAAM,OAAS,IAI7B,KAAK,eAAiBA,EACtB,KAAK,SAAW,GACpC,CAAiB,EACA,MAAM,IAAM,CACT,KAAK,SAAW,EACpC,CAAiB,CACR,EAED,UAAW,CACP,KAAK,MAAM,gBAAiB,KAAK,IAAI,uCAAuC,CAAC,CAChF,EAED,eAAgB,CACZ,KAAK,MAAM,iBAAkB,KAAK,YAAY,CACjD,EAED,UAAW,CACP,KAAK,WAAa,GAClB,KAAK,MAAM,aAAc,EAAI,CAChC,CACJ,CACL"}