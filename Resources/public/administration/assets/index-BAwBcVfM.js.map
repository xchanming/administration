{"version":3,"file":"index-BAwBcVfM.js","sources":["../../../app/administration/src/app/component/utils/sw-notification-center-item/sw-notification-center-item.html.twig","../../../app/administration/src/app/component/utils/sw-notification-center-item/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_notification_center_item %}\n<div class=\"sw-notification-center-item\">\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_notification_center_item_header %}\n    <div\n        class=\"sw-notification-center-item__header\"\n        :class=\"itemHeaderClass\"\n    >\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_notification_center_item_header_title %}\n        <p class=\"sw-notification-center-item__title\">\n            {{ notification.title }}\n        </p>\n        {% endblock %}\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_notification_center_item_header_timestamp %}\n        <p class=\"sw-notification-center-item__timestamp\">\n            <sw-time-ago :date=\"notification.timestamp\" />\n        </p>\n        {% endblock %}\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_notification_center_item_header_delete %}\n        <sw-icon\n            class=\"sw-notification-center-item__delete\"\n            name=\"regular-times-xs\"\n            size=\"12px\"\n            @click.stop=\"onDelete\"\n        />\n        {% endblock %}\n    </div>\n    {% endblock %}\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_notification_center_item_content %}\n    <div class=\"sw-notification-center-item__content\">\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_notification_center_item_content_message %}\n        <p\n            class=\"sw-notification-center-item__message\"\n            v-html=\"$sanitize(notification.message, { ALLOWED_TAGS: ['a', 'b', 'i', 'u', 'br'], ALLOWED_ATTR: ['href', 'target'] })\"\n        ></p>\n        {% endblock %}\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_notification_center_item_loader %}\n        <sw-loader\n            v-if=\"notification.isLoading\"\n            class=\"sw-notification-center-item__loader\"\n            size=\"20px\"\n        />\n        {% endblock %}\n    </div>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_notification_center_item_actions %}\n    <div\n        v-if=\"notification.actions\"\n        class=\"sw-notification-center-item__actions\"\n    >\n        <!-- eslint-disable sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_notification_center_item_actions_inner %}\n        <template\n            v-for=\"action in notificationActions\"\n            :key=\"action.label\"\n        >\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_notification_center_item_actions_item_container %}\n            <div\n                class=\"sw-notification-center-item__actions-item-container\"\n            >\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_notification_center_item_actions_item %}\n                <sw-button\n                    block\n                    size=\"small\"\n                    @click=\"handleAction(action)\"\n                >\n                    {{ action.label }}\n                </sw-button>\n                {% endblock %}\n            </div>\n            {% endblock %}\n        </template>\n        {% endblock %}\n    </div>\n    {% endblock %}\n</div>\n{% endblock %}\n","import './sw-notification-center-item.scss';\nimport template from './sw-notification-center-item.html.twig';\n\nconst { Component } = Cicada;\n\n/**\n * @private\n */\nComponent.register('sw-notification-center-item', {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    emits: ['center-close'],\n\n    props: {\n        notification: {\n            type: Object,\n            required: true,\n        },\n    },\n\n    computed: {\n        itemHeaderClass() {\n            return {\n                'sw-notification-center-item__header--is-new': !this.notification.visited,\n            };\n        },\n\n        notificationActions() {\n            return this.notification.actions.filter((action) => {\n                return action.route;\n            });\n        },\n    },\n\n    methods: {\n        isNotificationFromSameDay() {\n            const timestamp = this.notification.timestamp;\n            const now = new Date();\n            return (\n                timestamp.getDate() === now.getDate() &&\n                timestamp.getMonth() === now.getMonth() &&\n                timestamp.getFullYear() === now.getFullYear()\n            );\n        },\n\n        onDelete() {\n            Cicada.State.commit('notification/removeNotification', this.notification);\n        },\n\n        handleAction(action) {\n            // Allow external links for example to the cicada account or store\n            if (Cicada.Utils.string.isUrl(action.route)) {\n                window.open(action.route);\n                return;\n            }\n\n            this.$router.push(action.route);\n            this.$emit('center-close');\n        },\n    },\n});\n"],"names":["template","Component","action","timestamp","now"],"mappings":"AAAA,MAAeA,EAAA,22DCGT,CAAE,UAAAC,CAAW,EAAG,OAKtBA,EAAU,SAAS,8BAA+B,CAC9C,SAAAD,EAEA,aAAc,OAAO,aAErB,MAAO,CAAC,cAAc,EAEtB,MAAO,CACH,aAAc,CACV,KAAM,OACN,SAAU,EACb,CACJ,EAED,SAAU,CACN,iBAAkB,CACd,MAAO,CACH,8CAA+C,CAAC,KAAK,aAAa,OAClF,CACS,EAED,qBAAsB,CAClB,OAAO,KAAK,aAAa,QAAQ,OAAQE,GAC9BA,EAAO,KACjB,CACJ,CACJ,EAED,QAAS,CACL,2BAA4B,CACxB,MAAMC,EAAY,KAAK,aAAa,UAC9BC,EAAM,IAAI,KAChB,OACID,EAAU,QAAO,IAAOC,EAAI,QAAS,GACrCD,EAAU,SAAQ,IAAOC,EAAI,SAAU,GACvCD,EAAU,YAAW,IAAOC,EAAI,YAAa,CAEpD,EAED,UAAW,CACP,OAAO,MAAM,OAAO,kCAAmC,KAAK,YAAY,CAC3E,EAED,aAAaF,EAAQ,CAEjB,GAAI,OAAO,MAAM,OAAO,MAAMA,EAAO,KAAK,EAAG,CACzC,OAAO,KAAKA,EAAO,KAAK,EACxB,MACH,CAED,KAAK,QAAQ,KAAKA,EAAO,KAAK,EAC9B,KAAK,MAAM,cAAc,CAC5B,CACJ,CACL,CAAC"}