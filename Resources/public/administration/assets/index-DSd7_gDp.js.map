{"version":3,"file":"index-DSd7_gDp.js","sources":["../../../app/administration/src/module/sw-settings-custom-field/component/sw-custom-field-type-select/sw-custom-field-type-select.html.twig","../../../app/administration/src/module/sw-settings-custom-field/component/sw-custom-field-type-select/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_custom_field_type_base_content %}\n{% parent() %}\n\n<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_custom_field_type_select_multi %}\n<sw-switch-field\n    v-model:value=\"multiSelectSwitch\"\n    class=\"sw-custom-field-detail__switch\"\n    :disabled=\"multiSelectSwitchDisabled || undefined\"\n    :label=\"$tc('sw-settings-custom-field.customField.detail.labelMultiSelect')\"\n    @update:value=\"onChangeMultiSelectSwitch\"\n/>\n{% endblock %}\n\n<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_custom_field_type_select_options %}\n<div\n    v-for=\"(option, index) in currentCustomField.config.options\"\n    :key=\"index\"\n>\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_custom_field_type_select_options_label %}\n    <span>\n        {{ $tc('sw-settings-custom-field.customField.detail.labelOption', 0, { count: (index+1) }) }}\n    </span>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_custom_field_type_select_options_delete %}\n    <sw-button\n        class=\"sw-custom-field-type-select__delete-option-button\"\n        size=\"small\"\n        @click=\"onDeleteOption(index)\"\n    >\n        {{ $tc('sw-settings-custom-field.customField.detail.labelDeleteOption') }}\n    </sw-button>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_custom_field_type_select_options_container %}\n    <sw-container\n        class=\"sw-custom-field-type-select__option-container\"\n        columns=\"1fr 1fr\"\n        gap=\"20px\"\n    >\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_custom_field_type_select_options_container_technical_name %}\n        <sw-text-field\n            v-model:value=\"option.value\"\n            :label=\"$tc('sw-settings-custom-field.customField.detail.labelTechnicalName')\"\n        />\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_custom_field_type_select_options_container_labels %}\n        <div>\n            <sw-text-field\n                v-for=\"locale in locales\"\n                :key=\"locale\"\n                v-model:value=\"option.label[locale]\"\n                class=\"sw-custom-field-type-select__option-label\"\n                :label=\"getLabel(locale)\"\n            />\n        </div>\n        {% endblock %}\n    </sw-container>\n    {% endblock %}\n</div>\n{% endblock %}\n\n<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_custom_field_type_select_add_option %}\n<sw-button\n    v-if=\"isOptionAddable\"\n    size=\"small\"\n    class=\"sw-custom-field-type-select__button-add\"\n    @click=\"onClickAddOption\"\n>\n    {{ $tc('sw-settings-custom-field.customField.detail.buttonAddOption') }}\n</sw-button>\n    {% endblock %}\n{% endblock %}\n","/**\n * @package services-settings\n */\nimport template from './sw-custom-field-type-select.html.twig';\nimport './sw-custom-field-type-select.scss';\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    data() {\n        return {\n            multiSelectSwitch: false,\n            multiSelectSwitchDisabled: false,\n            propertyNames: {\n                label: this.$tc('sw-settings-custom-field.customField.detail.labelLabel'),\n                placeholder: this.$tc('sw-settings-custom-field.customField.detail.labelPlaceholder'),\n                helpText: this.$tc('sw-settings-custom-field.customField.detail.labelHelpText'),\n            },\n        };\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    computed: {\n        isOptionAddable() {\n            return this.currentCustomField.config.hasOwnProperty('options');\n        },\n    },\n\n    methods: {\n        createdComponent() {\n            if (!this.currentCustomField.config.hasOwnProperty('options')) {\n                if (this.isCompatEnabled('INSTANCE_SET')) {\n                    this.$set(this.currentCustomField.config, 'options', []);\n                } else {\n                    this.currentCustomField.config.options = [];\n                }\n\n                this.addOption();\n                this.addOption();\n            }\n\n            const componentName = this.currentCustomField.config.componentName;\n            if (\n                !componentName ||\n                ![\n                    'sw-single-select',\n                    'sw-multi-select',\n                ].includes(componentName)\n            ) {\n                this.currentCustomField.config.componentName = 'sw-single-select';\n            }\n\n            this.multiSelectSwitch = componentName === 'sw-multi-select';\n\n            const options = this.currentCustomField.config.options.map((option) => {\n                if (Array.isArray(option.label)) {\n                    option.label = {};\n                }\n\n                return option;\n            });\n\n            if (this.isCompatEnabled('INSTANCE_SET')) {\n                this.$set(this.currentCustomField.config, 'options', options);\n            } else {\n                this.currentCustomField.config.options = options;\n            }\n        },\n\n        addOption() {\n            this.currentCustomField.config.options.push({\n                value: '',\n                label: {},\n            });\n        },\n\n        onClickAddOption() {\n            this.addOption();\n        },\n\n        getLabel(locale) {\n            const snippet = this.$tc('sw-settings-custom-field.customField.detail.labelLabel');\n            const language = this.$tc(`locale.${locale}`);\n\n            return `${snippet} (${language})`;\n        },\n\n        onDeleteOption(index) {\n            this.currentCustomField.config.options.splice(index, 1);\n        },\n\n        onChangeMultiSelectSwitch(state) {\n            if (state) {\n                this.currentCustomField.config.componentName = 'sw-multi-select';\n                return;\n            }\n\n            this.currentCustomField.config.componentName = 'sw-single-select';\n        },\n    },\n};\n"],"names":["template","index","componentName","options","option","locale","snippet","language","state"],"mappings":"AAAA,MAAeA,EAAA,y5DCOAC,EAAA,CACX,SAAAD,EAEA,aAAc,OAAO,aAErB,MAAO,CACH,MAAO,CACH,kBAAmB,GACnB,0BAA2B,GAC3B,cAAe,CACX,MAAO,KAAK,IAAI,wDAAwD,EACxE,YAAa,KAAK,IAAI,8DAA8D,EACpF,SAAU,KAAK,IAAI,2DAA2D,CACjF,CACb,CACK,EAED,SAAU,CACN,KAAK,iBAAgB,CACxB,EAED,SAAU,CACN,iBAAkB,CACd,OAAO,KAAK,mBAAmB,OAAO,eAAe,SAAS,CACjE,CACJ,EAED,QAAS,CACL,kBAAmB,CACV,KAAK,mBAAmB,OAAO,eAAe,SAAS,IACpD,KAAK,gBAAgB,cAAc,EACnC,KAAK,KAAK,KAAK,mBAAmB,OAAQ,UAAW,CAAA,CAAE,EAEvD,KAAK,mBAAmB,OAAO,QAAU,CAAA,EAG7C,KAAK,UAAS,EACd,KAAK,UAAS,GAGlB,MAAME,EAAgB,KAAK,mBAAmB,OAAO,eAEjD,CAACA,GACD,CAAC,CACG,mBACA,iBACpB,EAAkB,SAASA,CAAa,KAExB,KAAK,mBAAmB,OAAO,cAAgB,oBAGnD,KAAK,kBAAoBA,IAAkB,kBAE3C,MAAMC,EAAU,KAAK,mBAAmB,OAAO,QAAQ,IAAKC,IACpD,MAAM,QAAQA,EAAO,KAAK,IAC1BA,EAAO,MAAQ,IAGZA,EACV,EAEG,KAAK,gBAAgB,cAAc,EACnC,KAAK,KAAK,KAAK,mBAAmB,OAAQ,UAAWD,CAAO,EAE5D,KAAK,mBAAmB,OAAO,QAAUA,CAEhD,EAED,WAAY,CACR,KAAK,mBAAmB,OAAO,QAAQ,KAAK,CACxC,MAAO,GACP,MAAO,CAAE,CACzB,CAAa,CACJ,EAED,kBAAmB,CACf,KAAK,UAAS,CACjB,EAED,SAASE,EAAQ,CACb,MAAMC,EAAU,KAAK,IAAI,wDAAwD,EAC3EC,EAAW,KAAK,IAAI,UAAUF,CAAM,EAAE,EAE5C,MAAO,GAAGC,CAAO,KAAKC,CAAQ,GACjC,EAED,eAAeN,EAAO,CAClB,KAAK,mBAAmB,OAAO,QAAQ,OAAOA,EAAO,CAAC,CACzD,EAED,0BAA0BO,EAAO,CAC7B,GAAIA,EAAO,CACP,KAAK,mBAAmB,OAAO,cAAgB,kBAC/C,MACH,CAED,KAAK,mBAAmB,OAAO,cAAgB,kBAClD,CACJ,CACL"}