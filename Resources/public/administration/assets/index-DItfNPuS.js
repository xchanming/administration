const __vite__fileDeps=["assets/index-CbeoMcx5.js","assets/index-DR1A2F8b.css","assets/index-BpevX6F1.js","assets/index-DxDYFkKo.css","assets/index-CHgIZejW.js","assets/index-B_m1ZrD_.css","assets/index-DaXfovrJ.js","assets/index-DtVLMsIo.css","assets/index-C7uDg84w.js","assets/index-BN30VADT.css","assets/index-CyRqR_qQ.js","assets/index-CV3eHoYo.css","assets/index-CwAn3KOx.js","assets/index-BDMVzGvO.css","assets/index-GAKMIVqY.js","assets/index-BayOc0WA.css","assets/index-DRkH2CjK.js","assets/channel-DxwX5hMG.js","assets/administration-BlrHhDOI.js","assets/administration-DZ0QGn6e.css","assets/_baseIteratee-vB4JeBI0.js","assets/index-C80xVNNt.css","assets/index-CGWpQpYm.js","assets/index-DlDLnI5U.css","assets/index-CBQvH0-h.js","assets/index-D1v9k4Ty.css","assets/index-COUliUag.js","assets/index-C2TWP9q7.css","assets/index-m3e4IQqN.js","assets/main.vite-GBE0T_D3.js","assets/main-qZSDg39z.css","assets/index-BLOsJ95H.css","assets/index-BIdUvPeY.js","assets/index-TILjpi_I.css","assets/index-CfSXvBVN.js","assets/index-DgUjE05v.css","assets/index-A_V75EX9.js","assets/index-XJjvXCzX.css","assets/index-C1gilW3b.js","assets/index-Brhq5-kx.css","assets/index-BVvNO6hu.js","assets/index-DLwbrHVs.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as l}from"./administration-BlrHhDOI.js";const u=Object.freeze({ADD_TAG:"action.add.tag",ADD_ORDER_TAG:"action.add.order.tag",ADD_CUSTOMER_TAG:"action.add.customer.tag",REMOVE_TAG:"action.remove.tag",REMOVE_ORDER_TAG:"action.remove.order.tag",REMOVE_CUSTOMER_TAG:"action.remove.customer.tag",SET_ORDER_STATE:"action.set.order.state",GRANT_DOWNLOAD_ACCESS:"action.grant.download.access",MAIL_SEND:"action.mail.send",STOP_FLOW:"action.stop.flow",SET_ORDER_CUSTOM_FIELD:"action.set.order.custom.field",SET_CUSTOMER_CUSTOM_FIELD:"action.set.customer.custom.field",SET_CUSTOMER_GROUP_CUSTOM_FIELD:"action.set.customer.group.custom.field",CHANGE_CUSTOMER_GROUP:"action.change.customer.group",CHANGE_CUSTOMER_STATUS:"action.change.customer.status",ADD_CUSTOMER_AFFILIATE_AND_CAMPAIGN_CODE:"action.add.customer.affiliate.and.campaign.code",ADD_ORDER_AFFILIATE_AND_CAMPAIGN_CODE:"action.add.order.affiliate.and.campaign.code",APP_FLOW_ACTION:"action.app.flow"}),E=Object.freeze({ADD_TAG:"action.add.entity.tag",REMOVE_TAG:"action.remove.entity.tag",SET_CUSTOM_FIELD:"action.set.entity.custom.field",ADD_AFFILIATE_AND_CAMPAIGN_CODE:"action.add.entity.affiliate.and.campaign.code"}),C="general",A="tag",w="customer",T="order",v=Object.freeze({[u.ADD_ORDER_TAG]:A,[u.ADD_CUSTOMER_TAG]:A,[u.REMOVE_ORDER_TAG]:A,[u.REMOVE_CUSTOMER_TAG]:A,[u.CHANGE_CUSTOMER_GROUP]:w,[u.CHANGE_CUSTOMER_STATUS]:w,[u.SET_CUSTOMER_CUSTOM_FIELD]:w,[u.SET_CUSTOMER_GROUP_CUSTOM_FIELD]:w,[u.ADD_CUSTOMER_AFFILIATE_AND_CAMPAIGN_CODE]:w,[u.ADD_ORDER_AFFILIATE_AND_CAMPAIGN_CODE]:T,[u.SET_ORDER_CUSTOM_FIELD]:T,[u.GRANT_DOWNLOAD_ACCESS]:T,[u.GENERATE_DOCUMENT]:C,[u.MAIL_SEND]:C,[u.STOP_FLOW]:C}),{Utils:R,EntityDefinition:O}=Cicada,{capitalizeString:h,camelCase:I,snakeCase:S}=Cicada.Utils.string;class ${constructor(){this.$actionNames={...u},this.$actionGroupsMapping={...v},this.$icon={addEntityTag:"regular-tag",mailSend:"regular-envelope",removeEntityTag:"regular-tag",stopFlow:"regular-times-circle",changeCustomerStatus:"regular-user",changeCustomerGroup:"regular-users",generateDocument:"regular-file-text",setOrderState:"regular-shopping-bag-alt",grantDownloadAccess:"regular-file-signature",setEntityCustomField:"regular-file-signature",addEntityAffiliateAndCampaignCode:"regular-file-signature"},this.$labelSnippet={stopFlow:"sw-flow.actions.stopFlow",mailSend:"sw-flow.actions.mailSend",addEntityTag:"sw-flow.actions.addTag",removeEntityTag:"sw-flow.actions.removeTag",setOrderState:"sw-flow.actions.setOrderState",generateDocument:"sw-flow.actions.generateDocument",grantDownloadAccess:"sw-flow.actions.grantDownloadAccess",changeCustomerGroup:"sw-flow.actions.changeCustomerGroup",changeCustomerStatus:"sw-flow.actions.changeCustomerStatus",setEntityCustomField:"sw-flow.actions.changeCustomFieldContent",addEntityAffiliateAndCampaignCode:"sw-flow.actions.addAffiliateAndCampaignCode"},this.$descriptionCallbacks={[this.$actionNames.MAIL_SEND]:e=>this.getMailSendDescription(e),[this.$actionNames.STOP_FLOW]:e=>this.getStopFlowActionDescription(e),[this.$actionNames.SET_ORDER_STATE]:e=>this.getSetOrderStateDescription(e),[this.$actionNames.CHANGE_CUSTOMER_GROUP]:e=>this.getCustomerGroupDescription(e),[this.$actionNames.GRANT_DOWNLOAD_ACCESS]:e=>this.getDownloadAccessDescription(e),[this.$actionNames.SET_CUSTOMER_CUSTOM_FIELD]:e=>this.getCustomFieldDescription(e),[this.$actionNames.CHANGE_CUSTOMER_STATUS]:e=>this.getCustomerStatusDescription(e),[this.$actionNames.ADD_ORDER_AFFILIATE_AND_CAMPAIGN_CODE]:e=>this.getAffiliateAndCampaignCodeDescription(e),[this.$actionNames.ADD_CUSTOMER_AFFILIATE_AND_CAMPAIGN_CODE]:e=>this.getAffiliateAndCampaignCodeDescription(e)},this.$entityAction={[this.$actionNames.ADD_ORDER_TAG]:"order",[this.$actionNames.REMOVE_ORDER_TAG]:"order",[this.$actionNames.ADD_CUSTOMER_TAG]:"customer",[this.$actionNames.SET_ORDER_CUSTOM_FIELD]:"order",[this.$actionNames.REMOVE_CUSTOMER_TAG]:"customer",[this.$actionNames.SET_CUSTOMER_CUSTOM_FIELD]:"customer",[this.$actionNames.ADD_ORDER_AFFILIATE_AND_CAMPAIGN_CODE]:"order",[this.$actionNames.SET_CUSTOMER_GROUP_CUSTOM_FIELD]:"customer_group",[this.$actionNames.ADD_CUSTOMER_AFFILIATE_AND_CAMPAIGN_CODE]:"customer"},this.$groups={TAG:A,ORDER:T,GENERAL:C,CUSTOMER:w}}addDescriptionCallbacks(e){Object.assign(this.$descriptionCallbacks,e)}getDescriptionCallbacks(){return this.$descriptionCallbacks}addIcons(e){return Object.assign(this.$icon,e)}addLabels(e){return Object.assign(this.$labelSnippet,e)}getActionName(e){return this.$actionNames[e]}addActionNames(e){return Object.assign(this.$actionNames,e)}addGroups(e){return Object.assign(this.$groups,e)}getGroup(e){return this.$groups[e]}getGroups(){return Object.values(this.$groups)}getActionGroupMapping(e){return this.$actionGroupsMapping[e]}addActionGroupMapping(e){return Object.assign(this.$actionGroupsMapping,e)}isKeyOfActionName(e){return e in this.$entityAction}isKeyOfActionLabel(e){return e in this.$labelSnippet}isKeyOfActionDescription(e){return e in this.$descriptionCallbacks}isKeyOfEntityIcon(e){return e in this.$icon}getActionTitle(e){if(!e)return null;let t="";return(this.mapActionType(e)??e).split(".").forEach((r,o)=>{if(o){if(o===1){t=r;return}t+=h(r)}}),{value:e,icon:this.isKeyOfEntityIcon(t)?this.$icon[t]:"regular-question-circle-s",label:this.isKeyOfActionLabel(t)?this.$labelSnippet[t]:"sw-flow.actions.unknownLabel"}}mapActionType(e){let t=this.$entityAction[e];return t===void 0?null:(t=t.replace("_","."),e.replace(t,"entity"))}getEntityNameByAction(e){return this.$entityAction[e]}getDescription(e){const t=[];return Object.entries(e).forEach(([n,r])=>{let o=r;R.types.isPlainObject(r)&&(o=Object.values(r).join(", "));const s=`<span>${n}:</span> <span>${o}</span></br>`;t.push(`<p class="${n.toLowerCase().replace(/ /g,"_")}">${s}</p>`)}),t.join("")}convertConfig(e,t){const n={};return Object.entries(e).forEach(([o,s])=>{if(!this.isKeyOfActionLabel(o))return;const a=t.$tc(this.$labelSnippet[o]);a&&Object.assign(n,{[a]:s})}),n}getActionDescriptions(e,t,n){var a;const r={data:e,sequence:t,translator:n};if(!t.actionName)return"";if((a=e.appActions)==null?void 0:a.find(c=>c.name===t.actionName))return this.getAppFlowActionDescription(r);if(this.isKeyOfActionDescription(t.actionName)&&typeof this.$descriptionCallbacks[t.actionName]=="function")return this.$descriptionCallbacks[t.actionName](r);const s=this.convertConfig(t.config,n);return this.getDescription(s)}getAppFlowActionDescription(e){const{sequence:{config:t}}=e,n={...t};let r="";return Object.entries(n).forEach(([o,s])=>{if(Array.isArray(s)&&s.length>1){let a="";s.forEach(c=>{const p=this.formatValuePreview(e,o,c);a=`${a}- ${p.toString()}<br/>`}),r=`${r}${this.convertLabelPreview(e,o)}:<br/> ${a}`}else{const a=this.formatValuePreview(e,o,s);r=`${r}${this.convertLabelPreview(e,o)}: ${a.toString()}<br/>`}}),r}formatValuePreview(e,t,n){var p;const{data:{appActions:r},sequence:{actionName:o}}=e,s=this.configValuesToString(n),a=r.find(d=>d.name===o);if(a===void 0)return s;const c=(p=a.config)==null?void 0:p.find(d=>d.name===t);if(c===void 0)return s;if(["password"].includes(c.type))return s==null?void 0:s.replace(/([^;])/g,"*");if(["single-select","multi-select"].includes(c.type)){const d=c.options.find(m=>m.value===s);return d===void 0?s:d.label[e.translator.currentLocale]??c.label["en-GB"]??s}return["datetime","date","time"].includes(c.type)?new Date(s):["colorpicker"].includes(c.type)?`<span class="sw-color-badge is--default" style="background: ${s};"></span> ${s}`:s}convertLabelPreview(e,t){var a;const{data:{appActions:n},sequence:{actionName:r}}=e,o=n.find(c=>c.name===r);if(o===void 0)return t;const s=(a=o.config)==null?void 0:a.find(c=>c.name===t);return s===void 0?t:s.label[e.translator.currentLocale]??s.label["en-GB"]??t}getActionModalName(e){return e?this.mapActionType(e)===E.ADD_TAG||this.mapActionType(e)===E.REMOVE_TAG?"sw-flow-tag-modal":this.mapActionType(e)===E.SET_CUSTOM_FIELD?"sw-flow-set-entity-custom-field-modal":this.mapActionType(e)===E.ADD_AFFILIATE_AND_CAMPAIGN_CODE?"sw-flow-affiliate-and-campaign-code-modal":this.mapActionType(e)===u.GRANT_DOWNLOAD_ACCESS?"sw-flow-grant-download-access-modal":`${e.replace(/\./g,"-").replace("action","sw-flow")}-modal`:""}getStopFlowActionDescription(e){return e.translator.$tc("sw-flow.actions.textStopFlowDescription")}getCustomerStatusDescription(e){const{sequence:{config:t},translator:n}=e;return t.active?n.$tc("sw-flow.modals.customerStatus.active"):n.$tc("sw-flow.modals.customerStatus.inactive")}getAffiliateAndCampaignCodeDescription(e){var o,s,a,c,p;const{translator:t,sequence:{config:n}}=e;let r=t.$tc("sw-flow.actions.labelTo",0,{entity:h(n==null?void 0:n.entity)});return((o=n==null?void 0:n.affiliateCode)!=null&&o.upsert||((s=n==null?void 0:n.affiliateCode)==null?void 0:s.value)!=null)&&(r=`${r}<br>${t.$tc("sw-flow.actions.labelAffiliateCode",0,{affiliateCode:n.affiliateCode.value||""})}`),((a=n.campaignCode)!=null&&a.upsert||((c=n==null?void 0:n.campaignCode)==null?void 0:c.value)!=null)&&(r=`${r}<br>${t.$tc("sw-flow.actions.labelCampaignCode",0,{campaignCode:((p=n==null?void 0:n.campaignCode)==null?void 0:p.value)||""})}`),r}getCustomerGroupDescription(e){var o;const{data:t,sequence:{config:n}}=e,r=t.customerGroups.find(s=>s.id===n.customerGroupId);return(o=r==null?void 0:r.translated)==null?void 0:o.name}getCustomFieldDescription(e){const{data:{customFieldSets:t,customFields:n},sequence:{config:r},translator:o}=e,s=t.find(c=>c.id===r.customFieldSetId),a=n.find(c=>c.id===r.customFieldId);return!s||!a||typeof a.config!="object"||!a.config||!a.config.hasOwnProperty("label")||!a.config.label?"":`${o.$tc("sw-flow.actions.labelCustomFieldSet",0,{customFieldSet:o.getInlineSnippet(a.config.label)||s.name})}<br>${o.$tc("sw-flow.actions.labelCustomField",0,{customField:o.getInlineSnippet(a.config.label)||a.name})}<br>${o.$tc("sw-flow.actions.labelCustomFieldOption",0,{customFieldOption:r.optionLabel})}`}getSetOrderStateDescription(e){var a,c,p;const{data:{stateMachineState:t},sequence:{config:n},translator:r}=e,o=[];if(n.order){const d=t.find(f=>{var g;return f.technicalName===n.order&&((g=f.stateMachine)==null?void 0:g.technicalName)==="order.state"}),m=((a=d==null?void 0:d.translated)==null?void 0:a.name)||"";o.push(`${r.$tc("sw-flow.modals.status.labelOrderStatus")}: ${m}`)}if(n.order_delivery){const d=t.find(f=>{var g;return f.technicalName===n.order_delivery&&((g=f.stateMachine)==null?void 0:g.technicalName)==="order_delivery.state"}),m=((c=d==null?void 0:d.translated)==null?void 0:c.name)||"";o.push(`
                ${r.$tc("sw-flow.modals.status.labelDeliveryStatus")}: ${m}
            `)}if(n.order_transaction){const d=t.find(f=>{var g;return f.technicalName===n.order_transaction&&((g=f.stateMachine)==null?void 0:g.technicalName)==="order_transaction.state"}),m=((p=d==null?void 0:d.translated)==null?void 0:p.name)||"";o.push(`${r.$tc("sw-flow.modals.status.labelPaymentStatus")}: ${m}`)}const s=n.force_transition?r.$tc("global.default.yes"):r.$tc("global.default.no");return o.push(`${r.$tc("sw-flow.modals.status.forceTransition")}: ${s}`),o.join("<br>")}convertTagString(e){return e.toString().replace(/,/g,", ")}getMailSendDescription(e){var c;const{data:t,sequence:{config:n},translator:r}=e,o=t.mailTemplates.find(p=>p.id===n.mailTemplateId);let s=r.$tc("sw-flow.actions.labelTemplate",0,{template:(c=o==null?void 0:o.mailTemplateType)==null?void 0:c.name}),a=o==null?void 0:o.description;return a&&(a=a.length>60?`${a.substring(0,60)}...`:a,s=`${s}<br>${r.$tc("sw-flow.actions.labelDescription",0,{description:a})}`),s}getDownloadAccessDescription(e){const{sequence:{config:t},translator:n}=e;return t.value?n.$tc("sw-flow.actions.downloadAccessLabel.granted"):n.$tc("sw-flow.actions.downloadAccessLabel.revoked")}getAvailableEntities(e,t,n,r=[]){const o=[];return this.getEntities(e,t,n).forEach(a=>{if(!O.has(S(a)))return;const c=O.get(S(a)).properties;r.every(d=>c.hasOwnProperty(d))&&o.push({label:this.convertEntityName(I(a)),value:a})}),o}convertEntityName(e){if(!e)return"";const t=e.replace(/([A-Z])/g," $1");return h(t)}getEntities(e,t,n){const r=[];return t.forEach(o=>{if(!this.isKeyOfActionName(o.name)||this.mapActionType(o.name)===null||this.mapActionType(o.name)!==this.mapActionType(e))return;o.requirements.some(a=>n.includes(a))&&r.push(this.$entityAction[o.name])}),r}flattenNodeList(e,t){t.push(e),e.children.length!==0&&e.children.forEach(n=>{this.flattenNodeList(n,t)})}configValuesToString(e){return e===null?"null":typeof e=="string"||typeof e=="number"||typeof e=="boolean"?e.toString():Array.isArray(e)?`[${e.map(t=>this.configValuesToString(t)).join(", ")}]`:typeof e=="object"?`{${Object.keys(e).map(t=>`${t}: ${this.configValuesToString(e[t])}`).join(", ")}}`:""}rearrangeArrayObjects(e){const t=e.reduce((o,s)=>(o[s.id]=s,o[s.id].children=[],o),{}),n=[];e.forEach(o=>{o.parentId?t[o.parentId].children.push(o):n.push(o)});const r=[];return n.forEach(o=>{this.flattenNodeList(o,r)}),r.forEach(o=>(o.children=[],o)),r}}const{Application:N}=Cicada;N.addServiceProvider("flowBuilderService",()=>new $);Cicada.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:"settings",key:"flow",roles:{viewer:{privileges:["flow:read","flow_sequence:read","rule:read","mail_template:read","mail_template_type:read","document_type:read","state_machine:read","state_machine_state:read","tag:read"],dependencies:[]},editor:{privileges:["flow:update","flow_sequence:update","flow_sequence:create","flow_sequence:delete","tag:create",Cicada.Service("privileges").getPrivileges("rule.creator"),Cicada.Service("privileges").getPrivileges("mail_templates.creator")],dependencies:["flow.viewer"]},creator:{privileges:["flow:create"],dependencies:["flow.viewer","flow.editor"]},deleter:{privileges:["flow:delete"],dependencies:["flow.viewer"]}}});const{Service:_}=Cicada,{EntityCollection:D}=Cicada.Data,{types:b}=Cicada.Utils,M={namespaced:!0,state:{flow:{eventName:"",sequences:[]},originFlow:{},triggerEvent:{},triggerEvents:[],triggerActions:[],invalidSequences:[],stateMachineState:[],documentTypes:[],mailTemplates:[],customFieldSets:[],customFields:[],customerGroups:[],restrictedRules:[],appActions:[],originAvailableActions:[]},mutations:{setAppActions(i,e){i.appActions=[...i.appActions,...e]},setFlow(i,e){i.flow=e,e.config&&(i.flow.description=e.config.description,i.flow.sequences=e.config.sequences,i.flow.eventName=e.config.eventName)},setOriginFlow(i,e){i.originFlow={...e,sequences:Array.from(e.sequences).map(t=>Object.assign(t,{}))}},setTriggerActions(i,e){i.triggerActions=e},setTriggerEvent(i,e){i.triggerEvent=e},setTriggerEvents(i,e){i.triggerEvents=e},setEventName(i,e){i.flow.eventName=e},setSequences(i,e){i.flow.sequences=e},addSequence(i,e){if(i.flow.sequences instanceof D){i.flow.sequences.add(e);return}i.flow.sequences.push(e)},removeSequences(i,e){e.forEach(t=>{i.flow.sequences.remove(t)})},updateSequence(i,e){const t=i.flow.sequences,n=t.findIndex(o=>o.id===e.id);let r={...t[n],...e};r=Object.assign(t[n],r),i.flow.sequences=new D(t.source,t.entity,Cicada.Context.api,null,[...t.slice(0,n),r,...t.slice(n+1)])},setStateMachineState(i,e){i.stateMachineState=e},setInvalidSequences(i,e){i.invalidSequences=e},setDocumentTypes(i,e){i.documentTypes=e},setCustomerGroups(i,e){i.customerGroups=e},setMailTemplates(i,e){i.mailTemplates=e},removeCurrentFlow(i){i.flow={eventName:"",sequences:[]}},removeInvalidSequences(i){i.invalidSequences=[]},removeTriggerEvent(i){i.triggerEvent={}},setCustomFieldSets(i,e){i.customFieldSets=e},setCustomFields(i,e){i.customFields=e},setRestrictedRules(i,e){i.restrictedRules=e}},getters:{appActions(i){return i.appActions},getSelectedAppAction(i){return e=>{var t;return(t=i.appActions)==null?void 0:t.find(n=>n.name===e)}},sequences(i){return i.flow.sequences},hasFlowChanged(i){const e={...i.flow,sequences:Array.from(i.flow.sequences).filter(t=>t.actionName||t.ruleId?Object.assign(t,{}):!1)};return!b.isEqual(i.originFlow,e)},isSequenceEmpty(i){if(!i.flow.sequences.length)return!0;if(i.flow.sequences.length>1)return!1;const e=i.flow.sequences[0];return!e.actionName&&!e.ruleId},availableActions(i){if(i.originAvailableActions=[],!i.triggerEvent||!i.triggerActions)return[];const e=[];return i.triggerActions.forEach(t=>{if(!t.requirements.length){i.originAvailableActions.push(t.name),e.push(t.name);return}if(!t.requirements.some(o=>{var s,a;return(a=(s=i.triggerEvent)==null?void 0:s.aware)==null?void 0:a.includes(o)}))return;i.originAvailableActions.includes(t.name)||i.originAvailableActions.push(t.name);const r=_("flowBuilderService").mapActionType(t.name);r&&e.find(s=>_("flowBuilderService").mapActionType(s)===r)!==void 0||e.push(t.name)}),e},mailTemplateIds(i){return i.flow.sequences.filter(e=>e.actionName===_("flowBuilderService").getActionName("MAIL_SEND")).map(e=>{var t;return(t=e.config)==null?void 0:t.mailTemplateId})},customFieldSetIds(i){const e=_("flowBuilderService");return i.flow.sequences.filter(t=>t.actionName===e.getActionName("SET_CUSTOMER_CUSTOM_FIELD")||t.actionName===e.getActionName("SET_ORDER_CUSTOM_FIELD")||t.actionName===e.getActionName("SET_CUSTOMER_GROUP_CUSTOM_FIELD")).map(t=>{var n;return(n=t.config)==null?void 0:n.customFieldSetId})},customFieldIds(i){const e=_("flowBuilderService");return i.flow.sequences.filter(t=>t.actionName===e.getActionName("SET_CUSTOMER_CUSTOM_FIELD")||t.actionName===e.getActionName("SET_ORDER_CUSTOM_FIELD")||t.actionName===e.getActionName("SET_CUSTOMER_GROUP_CUSTOM_FIELD")).map(t=>{var n;return(n=t.config)==null?void 0:n.customFieldId})},actionGroups(){return _("flowBuilderService").getGroups()},triggerEvents(i){return i.triggerEvents},hasAvailableAction:i=>e=>{var t;return((t=i.originAvailableActions)==null?void 0:t.some(n=>n===e))??!1}},actions:{resetFlowState({commit:i}){i("removeCurrentFlow"),i("removeInvalidSequences"),i("removeTriggerEvent")},setRestrictedRules({commit:i},e){Cicada.Service("ruleConditionDataProviderService").getRestrictedRules(`flowTrigger.${e}`).then(t=>{i("setRestrictedRules",t)})},fetchTriggerActions({commit:i}){_("businessEventService").getBusinessEvents().then(e=>{i("setTriggerEvents",e)}).catch(()=>{i("setTriggerEvents",[])})}}},{Module:y,State:F}=Cicada;F.registerModule("swFlowState",M);Cicada.Component.register("sw-flow-index",()=>l(()=>import("./index-CbeoMcx5.js"),__vite__mapDeps([0,1])));Cicada.Component.register("sw-flow-detail",()=>l(()=>import("./index-BpevX6F1.js"),__vite__mapDeps([2,3])));Cicada.Component.register("sw-flow-detail-flow",()=>l(()=>import("./index-CHgIZejW.js"),__vite__mapDeps([4,5])));Cicada.Component.register("sw-flow-sequence-modal",()=>l(()=>import("./index-xIv3jsp2.js"),[]));Cicada.Component.register("sw-flow-detail-general",()=>l(()=>import("./index-DaXfovrJ.js"),__vite__mapDeps([6,7])));Cicada.Component.register("sw-flow-list",()=>l(()=>import("./index-C7uDg84w.js"),__vite__mapDeps([8,9])));Cicada.Component.register("sw-flow-list-flow-templates",()=>l(()=>import("./index-CyRqR_qQ.js"),__vite__mapDeps([10,11])));Cicada.Component.register("sw-flow-trigger",()=>l(()=>import("./index-CwAn3KOx.js"),__vite__mapDeps([12,13])));Cicada.Component.register("sw-flow-sequence",()=>l(()=>import("./index-GAKMIVqY.js"),__vite__mapDeps([14,15])));Cicada.Component.register("sw-flow-sequence-action",()=>l(()=>import("./index-DRkH2CjK.js"),__vite__mapDeps([16,17,18,19,20,21])));Cicada.Component.register("sw-flow-sequence-condition",()=>l(()=>import("./index-CGWpQpYm.js"),__vite__mapDeps([22,23])));Cicada.Component.register("sw-flow-sequence-selector",()=>l(()=>import("./index-CBQvH0-h.js"),__vite__mapDeps([24,25])));Cicada.Component.register("sw-flow-sequence-action-error",()=>l(()=>import("./index-COUliUag.js"),__vite__mapDeps([26,27])));Cicada.Component.register("sw-flow-rule-modal",()=>l(()=>import("./index-m3e4IQqN.js"),__vite__mapDeps([28,29,18,19,17,30,31])));Cicada.Component.register("sw-flow-tag-modal",()=>l(()=>import("./index-adANv2eM.js"),[]));Cicada.Component.register("sw-flow-set-order-state-modal",()=>l(()=>import("./index-Cs5LDiSz.js"),[]));Cicada.Component.register("sw-flow-grant-download-access-modal",()=>l(()=>import("./index-CuH5M_gl.js"),[]));Cicada.Component.register("sw-flow-mail-send-modal",()=>l(()=>import("./index-BIdUvPeY.js"),__vite__mapDeps([32,29,18,19,17,30,33])));Cicada.Component.register("sw-flow-create-mail-template-modal",()=>l(()=>import("./index-CfSXvBVN.js"),__vite__mapDeps([34,35])));Cicada.Component.register("sw-flow-event-change-confirm-modal",()=>l(()=>import("./index-A_V75EX9.js"),__vite__mapDeps([36,37])));Cicada.Component.register("sw-flow-change-customer-group-modal",()=>l(()=>import("./index-Cl7OEL1g.js"),[]));Cicada.Component.register("sw-flow-change-customer-status-modal",()=>l(()=>import("./index-BwRxiqmT.js"),[]));Cicada.Component.register("sw-flow-set-entity-custom-field-modal",()=>l(()=>import("./index-C1gilW3b.js"),__vite__mapDeps([38,39])));Cicada.Component.register("sw-flow-affiliate-and-campaign-code-modal",()=>l(()=>import("./index-C_ZKqLnb.js"),[]));Cicada.Component.register("sw-flow-app-action-modal",()=>l(()=>import("./index-BVvNO6hu.js"),__vite__mapDeps([40,41])));Cicada.Component.register("sw-flow-leave-page-modal",()=>l(()=>import("./index-9PoBmUK4.js"),[]));y.register("sw-flow",{type:"core",name:"flow",title:"sw-flow.general.mainMenuItemGeneral",description:"sw-flow.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",color:"#9AA8B5",icon:"regular-cog",favicon:"icon-module-settings.png",entity:"flow",routes:{index:{component:"sw-flow-index",path:"index",meta:{parentPath:"sw.settings.index",privilege:"flow.viewer"},redirect:{name:"sw.flow.index.flows"},children:{flows:{component:"sw-flow-list",path:"flows",meta:{parentPath:"sw.settings.index",privilege:"flow.viewer"}},templates:{component:"sw-flow-list-flow-templates",path:"templates",meta:{parentPath:"sw.settings.index",privilege:"flow.viewer"}}}},detail:{component:"sw-flow-detail",path:"detail/:id",meta:{parentPath:"sw.flow.index",privilege:"flow.viewer"},props:{default(i){return{flowId:i.params.id}}},redirect:{name:"sw.flow.detail.general"},children:{general:{component:"sw-flow-detail-general",path:"general",meta:{parentPath:"sw.flow.index",privilege:"flow.viewer"}},flow:{component:"sw-flow-detail-flow",path:"flow",meta:{parentPath:"sw.flow.index",privilege:"flow.viewer"}}}},create:{component:"sw-flow-detail",path:"create/:flowTemplateId?",meta:{parentPath:"sw.flow.index",privilege:"flow.creator"},redirect:{name:"sw.flow.create.general"},children:{general:{component:"sw-flow-detail-general",path:"general",meta:{parentPath:"sw.flow.index",privilege:"flow.viewer"}},flow:{component:"sw-flow-detail-flow",path:"flow",meta:{parentPath:"sw.flow.index",privilege:"flow.viewer"}}}}},settingsItem:{group:"shop",to:"sw.flow.index",icon:"regular-flow",privilege:"flow.viewer"}});
//# sourceMappingURL=index-DItfNPuS.js.map
