import{b as e,c as n}from"./main.vite-CEuAX8cl.js";import"./administration-DCOj2uiN.js";import"./channel-oRk5-XZJ.js";const s='<div class="sw-condition-unit-menu__wrapper" > <button v-if="defaultUnit" class="sw-condition-unit-menu sw-condition-unit-menu__label" @click="showMenu = !showMenu" @keydown.esc="showMenu = false" > <span> {{ unitSnippet }} </span> <sw-icon class="sw-condition-unit-menu__icon" name="solid-chevron-down-s" /> </button> <div v-else class="sw-condition-unit-menu__label" > {{ $tc(`global.sw-condition-generic.units.${type}`) }} </div> <sw-popover v-if="showMenu && defaultUnit" :z-index="10" > <div v-click-outside="() => showMenu = false" class="sw-condition-unit-menu__menu" role="menu" tabindex="0" @mouseover="hoveringOverMenu = true" @mouseout="hoveringOverMenu = false" > <template v-for="(item) in unitOptions" :key="item.value" > <div class="sw-condition-unit-menu__menu-item" role="menuitem" tabindex="0" @click="onUnitChange(item.value)" @keyup.enter="onUnitChange(item.value)" > <span v-if="isSelected(item.value)" class="sw-condition-unit-menu__menu-item__selected-label" >{{ item.label }}</span> <span v-else class="sw-condition-unit-menu__menu-item__label" > {{ item.label }} </span> <span class="sw-condition-unit-menu__menu-item__shortcut"> {{ item.shortLabel }} </span> </div> </template> </div> </sw-popover> </div>';Cicada.Component.register("sw-condition-unit-menu",{template:s,emits:["set-default-unit","change-unit"],props:{type:{type:String,required:!0},value:{type:[Number,Date],default:void 0,required:!1},visibleValue:{type:[Number,Date],default:void 0,required:!1}},data(){return{showMenu:!1,selectedUnit:null,hoveringOverMenu:!1}},computed:{defaultUnit(){const t=e[this.type];return this.$emit("set-default-unit",t),t},unitSnippet(){return this.defaultUnit?this.$tc(`global.sw-condition-generic.units.short.${this.selectedUnit||this.defaultUnit}`):this.$tc(`global.sw-condition-generic.units.${this.type}`)},unitOptions(){switch(this.type){case"weight":return[{label:this.$tc("global.sw-condition-generic.units.g"),shortLabel:this.$tc("global.sw-condition-generic.units.short.g"),value:"g"},{label:this.$tc("global.sw-condition-generic.units.kg"),shortLabel:this.$tc("global.sw-condition-generic.units.short.kg"),value:"kg"},{label:this.$tc("global.sw-condition-generic.units.oz"),shortLabel:this.$tc("global.sw-condition-generic.units.short.oz"),value:"oz"},{label:this.$tc("global.sw-condition-generic.units.lb"),shortLabel:this.$tc("global.sw-condition-generic.units.short.lb"),value:"lb"}];case"dimension":return[{label:this.$tc("global.sw-condition-generic.units.mm"),shortLabel:this.$tc("global.sw-condition-generic.units.short.mm"),value:"mm"},{label:this.$tc("global.sw-condition-generic.units.cm"),shortLabel:this.$tc("global.sw-condition-generic.units.short.cm"),value:"cm"},{label:this.$tc("global.sw-condition-generic.units.m"),shortLabel:this.$tc("global.sw-condition-generic.units.short.m"),value:"m"},{label:this.$tc("global.sw-condition-generic.units.km"),shortLabel:this.$tc("global.sw-condition-generic.units.short.km"),value:"km"},{label:this.$tc("global.sw-condition-generic.units.in"),shortLabel:this.$tc("global.sw-condition-generic.units.short.in"),value:"in"},{label:this.$tc("global.sw-condition-generic.units.ft"),shortLabel:this.$tc("global.sw-condition-generic.units.short.ft"),value:"ft"},{label:this.$tc("global.sw-condition-generic.units.mi"),shortLabel:this.$tc("global.sw-condition-generic.units.short.mi"),value:"mi"}];case"time":return[{label:this.$tc("global.sw-condition-generic.units.min"),shortLabel:this.$tc("global.sw-condition-generic.units.short.min"),value:"min"},{label:this.$tc("global.sw-condition-generic.units.hr"),shortLabel:this.$tc("global.sw-condition-generic.units.short.hr"),value:"hr"},{label:this.$tc("global.sw-condition-generic.units.d"),shortLabel:this.$tc("global.sw-condition-generic.units.short.d"),value:"d"},{label:this.$tc("global.sw-condition-generic.units.wk"),shortLabel:this.$tc("global.sw-condition-generic.units.short.wk"),value:"wk"},{label:this.$tc("global.sw-condition-generic.units.mth"),shortLabel:this.$tc("global.sw-condition-generic.units.short.mth"),value:"mth"},{label:this.$tc("global.sw-condition-generic.units.yr"),shortLabel:this.$tc("global.sw-condition-generic.units.short.yr"),value:"yr"}];case"volume":return[{label:this.$tc("global.sw-condition-generic.units.mm3"),shortLabel:this.$tc("global.sw-condition-generic.units.short.mm3"),value:"mm3"},{label:this.$tc("global.sw-condition-generic.units.cm3"),shortLabel:this.$tc("global.sw-condition-generic.units.short.cm3"),value:"cm3"},{label:this.$tc("global.sw-condition-generic.units.m3"),shortLabel:this.$tc("global.sw-condition-generic.units.short.m3"),value:"m3"},{label:this.$tc("global.sw-condition-generic.units.in3"),shortLabel:this.$tc("global.sw-condition-generic.units.short.in3"),value:"in3"},{label:this.$tc("global.sw-condition-generic.units.ft3"),shortLabel:this.$tc("global.sw-condition-generic.units.short.ft3"),value:"ft3"}];default:return[]}}},methods:{onUnitChange(t){const i=this.getConvertedValue(t);this.$emit("change-unit",{value:i,unit:t}),this.selectedUnit=t,this.showMenu=!1},getConvertedValue(t){const i=t===this.defaultUnit?this.value:n(this.value,{from:this.defaultUnit,to:t});return Number.isNaN(i)?this.value:i},isSelected(t){return!this.selectedUnit&&this.defaultUnit===t?!0:this.selectedUnit===t}}});
//# sourceMappingURL=index-D15g9y0s.js.map
