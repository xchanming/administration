{"version":3,"file":"index-K6d3ceho.js","sources":["../../../app/administration/src/app/component/rule/condition-type/sw-condition-date-range/sw-condition-date-range.html.twig","../../../app/administration/src/app/component/rule/condition-type/sw-condition-date-range/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_condition_value_content %}\n<div class=\"sw-condition-date-range sw-condition__condition-value\">\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_condition_date_range_field_use_time %}\n    <sw-single-select\n        v-model:value=\"useTime\"\n        name=\"sw-field--useTime\"\n        size=\"medium\"\n        :options=\"selectValues\"\n        :disabled=\"disabled || undefined\"\n        :placeholder=\"$tc('global.sw-condition.condition.withTime')\"\n        show-clearable-button\n    />\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_condition_date_range_field_from_date %}\n    <sw-datepicker\n        v-model:value=\"fromDate\"\n        name=\"sw-field--fromDate\"\n        size=\"medium\"\n        required\n        :date-type=\"isDateTime\"\n        :disabled=\"disabled || undefined\"\n        :placeholder=\"$tc('sw-datepicker.date.placeholder')\"\n    />\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_condiiton_date_range_field_to_date %}\n    <sw-datepicker\n        v-model:value=\"toDate\"\n        name=\"sw-field--toDate\"\n        size=\"medium\"\n        required\n        :date-type=\"isDateTime\"\n        :disabled=\"disabled || undefined\"\n        :placeholder=\"$tc('sw-datepicker.date.placeholder')\"\n    />\n    {% endblock %}\n</div>\n{% endblock %}\n","import template from './sw-condition-date-range.html.twig';\nimport './sw-condition-date-range.scss';\n\nconst { Component } = Cicada;\nconst { mapPropertyErrors } = Component.getComponentHelper();\n\n/**\n * @public\n * @package services-settings\n * @description Condition for the DateRangeRule. This component must a be child of sw-condition-tree.\n * @status prototype\n * @example-type code-only\n * @component-example\n * <sw-condition-date-range :condition=\"condition\" :level=\"0\"></sw-condition-date-range>\n */\nComponent.extend('sw-condition-date-range', 'sw-condition-base', {\n    template,\n\n    computed: {\n        selectValues() {\n            return [\n                {\n                    label: this.$tc('global.sw-condition.condition.withTime'),\n                    value: true,\n                },\n                {\n                    label: this.$tc('global.sw-condition.condition.withoutTime'),\n                    value: false,\n                },\n            ];\n        },\n\n        useTime: {\n            get() {\n                this.ensureValueExist();\n                if (typeof this.condition.value.useTime === 'undefined') {\n                    // eslint-disable-next-line vue/no-side-effects-in-computed-properties\n                    this.condition.value = {\n                        ...this.condition.value,\n                        useTime: false,\n                    };\n                }\n\n                return this.condition.value.useTime;\n            },\n            set(useTime) {\n                this.ensureValueExist();\n                this.condition.value = { ...this.condition.value, useTime };\n            },\n        },\n\n        fromDate: {\n            get() {\n                this.ensureValueExist();\n                return this.condition.value.fromDate || null;\n            },\n            set(fromDate) {\n                this.ensureValueExist();\n\n                // eslint-disable-next-line max-len\n                const date =\n                    this.isDateTime === 'datetime' ? fromDate.replace('.000Z', '+00:00') : fromDate.concat('+00:00');\n                this.condition.value = {\n                    ...this.condition.value,\n                    fromDate: date,\n                };\n            },\n        },\n\n        toDate: {\n            get() {\n                this.ensureValueExist();\n                return this.condition.value.toDate || null;\n            },\n            set(toDate) {\n                this.ensureValueExist();\n\n                const date = this.isDateTime === 'datetime' ? toDate.replace('.000Z', '+00:00') : toDate.concat('+00:00');\n                this.condition.value = {\n                    ...this.condition.value,\n                    toDate: date,\n                };\n            },\n        },\n\n        isDateTime() {\n            return this.useTime ? 'datetime' : 'date';\n        },\n\n        ...mapPropertyErrors('condition', [\n            'value.useTime',\n            'value.fromDate',\n            'value.toDate',\n        ]),\n\n        currentError() {\n            return this.conditionValueUseTimeError || this.conditionValueFromDateError || this.conditionValueToDateError;\n        },\n    },\n});\n"],"names":["template","Component","mapPropertyErrors","useTime","fromDate","date","toDate"],"mappings":"AAAA,MAAeA,EAAA,47BCGT,CAAE,UAAAC,CAAW,EAAG,OAChB,CAAE,kBAAAC,CAAmB,EAAGD,EAAU,qBAWxCA,EAAU,OAAO,0BAA2B,oBAAqB,CAC7D,SAAAD,EAEA,SAAU,CACN,cAAe,CACX,MAAO,CACH,CACI,MAAO,KAAK,IAAI,wCAAwC,EACxD,MAAO,EACV,EACD,CACI,MAAO,KAAK,IAAI,2CAA2C,EAC3D,MAAO,EACV,CACjB,CACS,EAED,QAAS,CACL,KAAM,CACF,YAAK,iBAAgB,EACjB,OAAO,KAAK,UAAU,MAAM,QAAY,MAExC,KAAK,UAAU,MAAQ,CACnB,GAAG,KAAK,UAAU,MAClB,QAAS,EACjC,GAGuB,KAAK,UAAU,MAAM,OAC/B,EACD,IAAIG,EAAS,CACT,KAAK,iBAAgB,EACrB,KAAK,UAAU,MAAQ,CAAE,GAAG,KAAK,UAAU,MAAO,QAAAA,EACrD,CACJ,EAED,SAAU,CACN,KAAM,CACF,YAAK,iBAAgB,EACd,KAAK,UAAU,MAAM,UAAY,IAC3C,EACD,IAAIC,EAAU,CACV,KAAK,iBAAgB,EAGrB,MAAMC,EACF,KAAK,aAAe,WAAaD,EAAS,QAAQ,QAAS,QAAQ,EAAIA,EAAS,OAAO,QAAQ,EACnG,KAAK,UAAU,MAAQ,CACnB,GAAG,KAAK,UAAU,MAClB,SAAUC,CAC9B,CACa,CACJ,EAED,OAAQ,CACJ,KAAM,CACF,YAAK,iBAAgB,EACd,KAAK,UAAU,MAAM,QAAU,IACzC,EACD,IAAIC,EAAQ,CACR,KAAK,iBAAgB,EAErB,MAAMD,EAAO,KAAK,aAAe,WAAaC,EAAO,QAAQ,QAAS,QAAQ,EAAIA,EAAO,OAAO,QAAQ,EACxG,KAAK,UAAU,MAAQ,CACnB,GAAG,KAAK,UAAU,MAClB,OAAQD,CAC5B,CACa,CACJ,EAED,YAAa,CACT,OAAO,KAAK,QAAU,WAAa,MACtC,EAED,GAAGH,EAAkB,YAAa,CAC9B,gBACA,iBACA,cACZ,CAAS,EAED,cAAe,CACX,OAAO,KAAK,4BAA8B,KAAK,6BAA+B,KAAK,yBACtF,CACJ,CACL,CAAC"}