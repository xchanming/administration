{"version":3,"file":"index-DxgIMtrs.js","sources":["../../../app/administration/src/module/sw-cms/component/sw-cms-section/sw-cms-section-config/sw-cms-section-config.html.twig","../../../app/administration/src/module/sw-cms/component/sw-cms-section/sw-cms-section-config/index.ts"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_cms_section_config %}\n<div class=\"sw-cms-section-config\">\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_cms_section_config__quickactions %}\n    <ul\n        class=\"sw-cms-section-config__quickactions-list\"\n        :class=\"quickactionClasses\"\n    >\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_section_config__quickaction_duplicate %}\n        <li\n            class=\"sw-cms-section-config__quickaction\"\n            role=\"button\"\n            tabindex=\"0\"\n            @click=\"onSectionDuplicate(section)\"\n            @keydown.enter=\"onSectionDuplicate(section)\"\n        >\n            <sw-icon\n                name=\"regular-duplicate\"\n                size=\"16\"\n            />\n            {{ $tc('global.default.duplicate') }}\n        </li>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_section_config__quickaction_delete %}\n        <li\n            class=\"sw-cms-section-config__quickaction is--danger\"\n            role=\"button\"\n            tabindex=\"0\"\n            @click=\"onSectionDelete(section.id)\"\n            @keydown.enter=\"onSectionDelete(section.id)\"\n        >\n            <sw-icon\n                name=\"regular-trash\"\n                size=\"16\"\n            />\n            {{ $tc('sw-cms.general.buttonDelete') }}\n        </li>\n        {% endblock %}\n    </ul>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_cms_section_config__settings %}\n    <div class=\"sw-cms-section-config__settings\">\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_section_config_name_field %}\n        <sw-text-field\n            v-model:value=\"section.name\"\n            :label=\"$tc('sw-cms.detail.label.sectionNameField')\"\n            :help-text=\"$tc('sw-cms.detail.tooltip.sectionNameField')\"\n        />\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_sidebar_section_config_css_classes_field %}\n        <sw-text-field\n            v-model:value=\"section.cssClass\"\n            :label=\"$tc('sw-cms.detail.label.cssClassField')\"\n            :help-text=\"$tc('sw-cms.detail.helpText.cssClassField')\"\n        />\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_sidebar_section_config_sizing_field %}\n        <sw-select-field\n            v-model:value=\"section.sizingMode\"\n            :label=\"$tc('sw-cms.detail.label.sizingField')\"\n        >\n            <option value=\"boxed\">\n                {{ $tc('sw-cms.detail.label.sizingOptionBoxed') }}\n            </option>\n            <option value=\"full_width\">\n                {{ $tc('sw-cms.detail.label.sizingOptionFull') }}\n            </option>\n        </sw-select-field>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_sidebar_section_config_sidebar_mobile %}\n        <sw-select-field\n            v-if=\"section.type === 'sidebar'\"\n            v-model:value=\"section.mobileBehavior\"\n            :label=\"$tc('sw-cms.detail.sidebar.mobile')\"\n        >\n            <option value=\"hidden\">\n                {{ $tc('sw-cms.detail.sidebar.mobileOptionHidden') }}\n            </option>\n            <option value=\"wrap\">\n                {{ $tc('sw-cms.detail.sidebar.mobileOptionWrap') }}\n            </option>\n        </sw-select-field>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_section_config_background_color_field %}\n        <sw-colorpicker\n            v-model:value=\"section.backgroundColor\"\n            :label=\"$tc('sw-cms.detail.label.backgroundColorLabel')\"\n            :placeholder=\"$tc('sw-cms.detail.label.backgroundColorField')\"\n        />\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_section_config_background_image_field %}\n        <sw-media-compact-upload-v2\n            :source=\"section && section.backgroundMedia && section.backgroundMedia.id ? section.backgroundMedia : null\"\n            :upload-tag=\"uploadTag\"\n            :label=\"$tc('sw-cms.detail.label.backgroundMediaLabel')\"\n            :default-folder=\"cmsPageState.pageEntityName\"\n            :allow-multi-select=\"false\"\n            @media-upload-remove-image=\"removeMedia\"\n            @selection-change=\"onSetBackgroundMedia\"\n        />\n        <sw-upload-listener\n            :upload-tag=\"uploadTag\"\n            auto-upload\n            @media-upload-finish=\"successfulUpload\"\n        />\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_section_config_background_image_position_field %}\n        <sw-select-field\n            v-model:value=\"section.backgroundMediaMode\"\n            :label=\"$tc('sw-cms.detail.label.backgroundMediaMode')\"\n            :disabled=\"!section.backgroundMediaId\"\n        >\n            <option value=\"auto\">\n                {{ $tc('sw-cms.detail.label.backgroundMediaModeAuto') }}\n            </option>\n            <option value=\"contain\">\n                {{ $tc('sw-cms.detail.label.backgroundMediaModeContain') }}\n            </option>\n            <option value=\"cover\">\n                {{ $tc('sw-cms.detail.label.backgroundMediaModeCover') }}\n            </option>\n        </sw-select-field>\n        {% endblock %}\n        {% endblock %}\n    </div>\n    {% endblock %}\n</div>\n{% endblock %}\n","import { type PropType } from 'vue';\nimport template from './sw-cms-section-config.html.twig';\nimport './sw-cms-section-config.scss';\nimport type MediaUploadResult from '../../../shared/MediaUploadResult';\n\nconst { Mixin } = Cicada;\n\n/**\n * @package discovery\n */\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default Cicada.Component.wrapComponentConfig({\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: [\n        'repositoryFactory',\n    ],\n\n    emits: [\n        'section-delete',\n        'section-duplicate',\n    ],\n\n    mixins: [\n        Mixin.getByName('cms-state'),\n    ],\n\n    props: {\n        section: {\n            type: Object as PropType<EntitySchema.Entity<'cms_section'>>,\n            required: true,\n        },\n    },\n\n    computed: {\n        uploadTag() {\n            return `cms-section-media-config-${this.section.id}`;\n        },\n\n        mediaRepository() {\n            return this.repositoryFactory.create('media');\n        },\n\n        cmsPageState() {\n            return Cicada.Store.get('cmsPage');\n        },\n\n        quickactionsDisabled() {\n            return !this.isSystemDefaultLanguage;\n        },\n\n        quickactionClasses() {\n            return {\n                'is--disabled': this.quickactionsDisabled,\n            };\n        },\n    },\n\n    methods: {\n        onSetBackgroundMedia([mediaItem]: EntitySchema.Entity<'media'>[]) {\n            this.section.backgroundMediaId = mediaItem.id;\n            this.section.backgroundMedia = mediaItem;\n        },\n\n        async successfulUpload(media: MediaUploadResult) {\n            this.section.backgroundMediaId = media.targetId;\n\n            this.section.backgroundMedia = (await this.mediaRepository.get(media.targetId)) ?? undefined;\n        },\n\n        removeMedia() {\n            this.section.backgroundMediaId = undefined;\n            this.section.backgroundMedia = undefined;\n        },\n\n        onSectionDelete(sectionId: string) {\n            if (this.quickactionsDisabled) {\n                return;\n            }\n\n            this.$emit('section-delete', sectionId);\n        },\n\n        onSectionDuplicate(section: EntitySchema.Entity<'cms_section'>) {\n            if (this.quickactionsDisabled) {\n                return;\n            }\n\n            this.$emit('section-duplicate', section);\n        },\n    },\n});\n"],"names":["template","Mixin","index","mediaItem","media","sectionId","section"],"mappings":"AAAA,MAAeA,EAAA,i+GCKT,CAAE,MAAAC,CAAU,EAAA,OAMlBC,EAAe,OAAO,UAAU,oBAAoB,CAChD,SAAAF,EAEA,aAAc,OAAO,aAErB,OAAQ,CACJ,mBACJ,EAEA,MAAO,CACH,iBACA,mBACJ,EAEA,OAAQ,CACJC,EAAM,UAAU,WAAW,CAC/B,EAEA,MAAO,CACH,QAAS,CACL,KAAM,OACN,SAAU,EACd,CACJ,EAEA,SAAU,CACN,WAAY,CACD,MAAA,4BAA4B,KAAK,QAAQ,EAAE,EACtD,EAEA,iBAAkB,CACP,OAAA,KAAK,kBAAkB,OAAO,OAAO,CAChD,EAEA,cAAe,CACJ,OAAA,OAAO,MAAM,IAAI,SAAS,CACrC,EAEA,sBAAuB,CACnB,MAAO,CAAC,KAAK,uBACjB,EAEA,oBAAqB,CACV,MAAA,CACH,eAAgB,KAAK,oBAAA,CAE7B,CACJ,EAEA,QAAS,CACL,qBAAqB,CAACE,CAAS,EAAmC,CACzD,KAAA,QAAQ,kBAAoBA,EAAU,GAC3C,KAAK,QAAQ,gBAAkBA,CACnC,EAEA,MAAM,iBAAiBC,EAA0B,CACxC,KAAA,QAAQ,kBAAoBA,EAAM,SAElC,KAAA,QAAQ,gBAAmB,MAAM,KAAK,gBAAgB,IAAIA,EAAM,QAAQ,GAAM,MACvF,EAEA,aAAc,CACV,KAAK,QAAQ,kBAAoB,OACjC,KAAK,QAAQ,gBAAkB,MACnC,EAEA,gBAAgBC,EAAmB,CAC3B,KAAK,sBAIJ,KAAA,MAAM,iBAAkBA,CAAS,CAC1C,EAEA,mBAAmBC,EAA6C,CACxD,KAAK,sBAIJ,KAAA,MAAM,oBAAqBA,CAAO,CAC3C,CACJ,CACJ,CAAC"}