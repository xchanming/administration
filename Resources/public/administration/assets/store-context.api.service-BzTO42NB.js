var d=r=>{throw TypeError(r)};var x=(r,a,t)=>a.has(r)||d("Cannot "+t);var m=(r,a,t)=>a.has(r)?d("Cannot add the same private member more than once"):a instanceof WeakSet?a.add(r):a.set(r,t);var h=(r,a,t)=>(x(r,a,"access private method"),t);import{A as C}from"./api.service-DUFBkRAb.js";import"./channel-Cvr-E4M4.js";var i,p;class v extends C{constructor(t,n,s="sales-channel-context"){super(t,n,s,"application/json");m(this,i);this.name="contextStoreService"}updateCustomerContext(t,n,s,o={},e={},c=["allowProductPriceOverwrites"]){const u="_proxy/switch-customer",l=this.getBasicHeaders({...e,"sw-context-token":s});return this.httpClient.patch(u,{customerId:t,salesChannelId:n,permissions:c},{...o,headers:l})}updateContext(t,n,s,o={},e={}){const c=`_proxy/store-api/${n}/context`,u=this.getBasicHeaders({...e,"sw-context-token":s});return this.httpClient.patch(c,t,{...o,headers:u})}getSalesChannelContext(t,n,s={},o={}){const e=`_proxy/store-api/${t}/context`,c=this.getBasicHeaders({...o,"sw-context-token":n});return this.httpClient.get(e,{...s,headers:c})}generateImitateCustomerToken(t,n,s={},o={}){const e="_proxy/generate-imitate-customer-token",c=this.getBasicHeaders(o);return this.httpClient.post(e,{customerId:t,salesChannelId:n},{...s,headers:c})}redirectToSalesChannelUrl(t,n,s,o){const e=document.createElement("form");e.method="POST",e.action=`${t}/account/login/imitate-customer`,e.target="_blank",document.body.appendChild(e),h(this,i,p).call(this,e,"token",n),h(this,i,p).call(this,e,"customerId",s),h(this,i,p).call(this,e,"userId",o),e.submit(),e.remove()}}i=new WeakSet,p=function(t,n,s){const o=document.createElement("input");o.type="hidden",o.name=n,o.value=s,t.appendChild(o)};export{v as default};
