{"version":3,"file":"extension-sdk.service-ypZKvLFB.js","sources":["../../../app/administration/src/core/service/api/extension-sdk.service.ts"],"sourcesContent":["/**\n * @package admin\n */\n\nimport type { AxiosInstance, AxiosResponse } from 'axios';\nimport ApiService from '../api.service';\nimport type { LoginService } from '../login.service';\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport type action = {\n    url: string;\n    entity: string;\n    action: string;\n    appName: string;\n};\n\n/**\n * @internal Only to be used by the extension sdk\n */\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default class ExtensionSdkService extends ApiService {\n    constructor(httpClient: AxiosInstance, loginService: LoginService) {\n        super(httpClient, loginService, 'extension-sdk', 'application/json');\n\n        this.name = 'extensionSdkService';\n    }\n\n    runAction(action: action, entityIdList: string[]): Promise<unknown> {\n        return this.httpClient\n            .post(\n                `/_action/${this.getApiBasePath()}/run-action`,\n                {\n                    ...action,\n                    ids: entityIdList,\n                },\n                {\n                    params: {},\n                    headers: this.getBasicHeaders(),\n                },\n            )\n            .then((response: AxiosResponse<unknown>) => {\n                ApiService.handleResponse(response);\n            });\n    }\n\n    signIframeSrc(appName: string, src: string): Promise<unknown> {\n        return this.httpClient\n            .post(\n                `/_action/${this.getApiBasePath()}/sign-uri`,\n                {\n                    appName,\n                    uri: src,\n                },\n                {\n                    params: {},\n                    headers: this.getBasicHeaders(),\n                },\n            )\n            .then((response: AxiosResponse<unknown>) => {\n                return ApiService.handleResponse(response);\n            });\n    }\n}\n"],"names":["ExtensionSdkService","ApiService","httpClient","loginService","action","entityIdList","response","appName","src"],"mappings":"iHAoBA,MAAqBA,UAA4BC,CAAW,CACxD,YAAYC,EAA2BC,EAA4B,CACzD,MAAAD,EAAYC,EAAc,gBAAiB,kBAAkB,EAEnE,KAAK,KAAO,qBAChB,CAEA,UAAUC,EAAgBC,EAA0C,CAChE,OAAO,KAAK,WACP,KACG,YAAY,KAAK,eAAA,CAAgB,cACjC,CACI,GAAGD,EACH,IAAKC,CACT,EACA,CACI,OAAQ,CAAC,EACT,QAAS,KAAK,gBAAgB,CAClC,CAAA,EAEH,KAAMC,GAAqC,CACxCL,EAAW,eAAeK,CAAQ,CAAA,CACrC,CACT,CAEA,cAAcC,EAAiBC,EAA+B,CAC1D,OAAO,KAAK,WACP,KACG,YAAY,KAAK,eAAA,CAAgB,YACjC,CACI,QAAAD,EACA,IAAKC,CACT,EACA,CACI,OAAQ,CAAC,EACT,QAAS,KAAK,gBAAgB,CAClC,CAAA,EAEH,KAAMF,GACIL,EAAW,eAAeK,CAAQ,CAC5C,CACT,CACJ"}