{"version":3,"file":"index-C0lXtSdD.js","sources":["../../../app/administration/src/module/sw-settings-shipping/component/sw-settings-shipping-tax-cost/sw-settings-shipping-tax-cost.html.twig","../../../app/administration/src/module/sw-settings-shipping/component/sw-settings-shipping-tax-cost/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_settings_shipping_tax_cost %}\n<sw-card\n    class=\"sw-settings-shipping-tax-cost\"\n    position-identifier=\"sw-settings-shipping-tax-cost\"\n    :title=\"$tc('sw-settings-shipping.detail.tax.fieldName')\"\n>\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_shipping_detail_shipping_cost_tax_select %}\n    <sw-single-select\n        v-model:value=\"taxType\"\n        class=\"sw-settings-shipping__tax-type-selection\"\n        show-clearable-button\n        :disabled=\"disabled\"\n        :label=\"$tc('sw-settings-shipping.detail.tax.labelTaxType')\"\n        :placeholder=\"$tc('sw-settings-shipping.detail.tax.placeholderTaxType')\"\n        :help-text=\"$tc('sw-settings-shipping.detail.tax.helpText')\"\n        :options=\"shippingCostTaxOptions\"\n        :error=\"shippingMethodTaxTypeError\"\n    />\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_shipping_detail_shipping_cost_tax_rate_select %}\n    <sw-entity-single-select\n        v-if=\"shippingMethod.taxType === 'fixed'\"\n        ref=\"taxIdSelection\"\n        v-model:value=\"shippingMethod.taxId\"\n        class=\"sw-settings-shipping__tax-rate\"\n        validation=\"required\"\n        required\n        show-clearable-button\n        entity=\"tax\"\n        :criteria=\"taxCriteria\"\n        :highlight-search-term=\"false\"\n        :disabled=\"disabled\"\n        :label=\"$tc('sw-settings-shipping.detail.tax.labelTaxRate')\"\n        :placeholder=\"$tc('sw-settings-shipping.detail.tax.placeholderTaxRate')\"\n        :label-callback=\"getTaxLabel\"\n        :error=\"shippingMethodTaxIdError\"\n    />\n    {% endblock %}\n\n</sw-card>\n{% endblock %}\n","import template from './sw-settings-shipping-tax-cost.html.twig';\n\nconst { Criteria } = Cicada.Data;\nconst { Mixin } = Cicada;\nconst { mapPropertyErrors, mapState, mapGetters } = Cicada.Component.getComponentHelper();\n\n/**\n * @package checkout\n */\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    mixins: [\n        Mixin.getByName('placeholder'),\n    ],\n\n    props: {\n        disabled: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n    },\n\n    data() {\n        return {\n            isLoading: false,\n        };\n    },\n\n    computed: {\n        ...mapState('swShippingDetail', [\n            'shippingMethod',\n            'currencies',\n        ]),\n\n        ...mapGetters('swShippingDetail', [\n            'defaultCurrency',\n            'usedRules',\n            'unrestrictedPriceMatrixExists',\n            'newPriceMatrixExists',\n        ]),\n\n        ...mapPropertyErrors('shippingMethod', [\n            'taxType',\n            'taxId',\n        ]),\n\n        shippingCostTaxOptions() {\n            return [\n                {\n                    label: this.$tc('sw-settings-shipping.shippingCostOptions.auto'),\n                    value: 'auto',\n                },\n                {\n                    label: this.$tc('sw-settings-shipping.shippingCostOptions.highest'),\n                    value: 'highest',\n                },\n                {\n                    label: this.$tc('sw-settings-shipping.shippingCostOptions.fixed'),\n                    value: 'fixed',\n                },\n            ];\n        },\n\n        taxCriteria() {\n            const criteria = new Criteria(1, 25);\n            criteria.addSorting(Criteria.sort('position'));\n\n            return criteria;\n        },\n\n        taxType: {\n            get() {\n                return this.shippingMethod.taxType || 'auto';\n            },\n            set(taxType) {\n                this.shippingMethod.taxType = taxType;\n            },\n        },\n    },\n\n    watch: {\n        'shippingMethod.taxType'(val) {\n            if (val !== 'fixed') {\n                this.shippingMethod.taxId = '';\n            }\n        },\n    },\n\n    methods: {\n        getTaxLabel(tax) {\n            if (!tax) {\n                return '';\n            }\n\n            if (this.$te(`global.tax-rates.${tax.name}`)) {\n                return this.$tc(`global.tax-rates.${tax.name}`);\n            }\n\n            return tax.name;\n        },\n    },\n};\n"],"names":["template","Criteria","Mixin","mapPropertyErrors","mapState","mapGetters","index","criteria","taxType","val","tax"],"mappings":"AAAA,MAAeA,EAAA,uxCCET,CAAE,SAAAC,CAAQ,EAAK,OAAO,KACtB,CAAE,MAAAC,CAAO,EAAG,OACZ,CAAE,kBAAAC,EAAmB,SAAAC,EAAU,WAAAC,CAAU,EAAK,OAAO,UAAU,qBAMtDC,EAAA,CACX,SAAAN,EAEA,aAAc,OAAO,aAErB,OAAQ,CACJE,EAAM,UAAU,aAAa,CAChC,EAED,MAAO,CACH,SAAU,CACN,KAAM,QACN,SAAU,GACV,QAAS,EACZ,CACJ,EAED,MAAO,CACH,MAAO,CACH,UAAW,EACvB,CACK,EAED,SAAU,CACN,GAAGE,EAAS,mBAAoB,CAC5B,iBACA,YACZ,CAAS,EAED,GAAGC,EAAW,mBAAoB,CAC9B,kBACA,YACA,gCACA,sBACZ,CAAS,EAED,GAAGF,EAAkB,iBAAkB,CACnC,UACA,OACZ,CAAS,EAED,wBAAyB,CACrB,MAAO,CACH,CACI,MAAO,KAAK,IAAI,+CAA+C,EAC/D,MAAO,MACV,EACD,CACI,MAAO,KAAK,IAAI,kDAAkD,EAClE,MAAO,SACV,EACD,CACI,MAAO,KAAK,IAAI,gDAAgD,EAChE,MAAO,OACV,CACjB,CACS,EAED,aAAc,CACV,MAAMI,EAAW,IAAIN,EAAS,EAAG,EAAE,EACnC,OAAAM,EAAS,WAAWN,EAAS,KAAK,UAAU,CAAC,EAEtCM,CACV,EAED,QAAS,CACL,KAAM,CACF,OAAO,KAAK,eAAe,SAAW,MACzC,EACD,IAAIC,EAAS,CACT,KAAK,eAAe,QAAUA,CACjC,CACJ,CACJ,EAED,MAAO,CACH,yBAAyBC,EAAK,CACtBA,IAAQ,UACR,KAAK,eAAe,MAAQ,GAEnC,CACJ,EAED,QAAS,CACL,YAAYC,EAAK,CACb,OAAKA,EAID,KAAK,IAAI,oBAAoBA,EAAI,IAAI,EAAE,EAChC,KAAK,IAAI,oBAAoBA,EAAI,IAAI,EAAE,EAG3CA,EAAI,KAPA,EAQd,CACJ,CACL"}