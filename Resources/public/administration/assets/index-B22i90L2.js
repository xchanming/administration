const n=`{% block sw_newsletter_recipient_detail %} <sw-page class="sw-newsletter-recipient-detail"> {% block sw_newsletter_recipient_detail_header %} <template #smart-bar-header> <h2 v-if="newsletterRecipient"> {{ newsletterRecipient.email }} </h2> </template> {% endblock %} {% block sw_newsletter_recipient_detail_actions %} <template #smart-bar-actions> {% block sw_newsletter_recipient_detail_actions_edit %} <sw-button class="sw-newsletter-recipient-detail__open-edit-mode-action" variant="primary" :disabled="isLoading || !acl.can('newsletter_recipient.editor')" @click="onClickSave" > {{ $tc('sw-newsletter-recipient.general.buttonSave') }} </sw-button> {% endblock %} </template> {% endblock %} {% block sw_newsletter_recipient_detail_content %} <template #content> <sw-card-view> <template v-if="isLoading"> <sw-skeleton /> <sw-skeleton /> </template> <sw-card v-else-if="newsletterRecipient" position-identifier="sw-newsletter-recipient-detail" :title="$tc('sw-newsletter-recipient.general.information')" > {% block sw_newsletter_recipient_detail_form %} <sw-container columns="1fr 1fr" gap="10px" > {% block sw_newsletter_recipient_detail_form_salutation %} <sw-entity-single-select v-model:value="newsletterRecipient.salutationId" :disabled="!acl.can('newsletter_recipient.editor')" :label="$tc('sw-newsletter-recipient.general.salutation')" label-property="displayName" entity="salutation" show-clearable-button /> {% endblock %} {% block sw_newsletter_recipient_detail_form_title %} <sw-text-field v-model:value="newsletterRecipient.title" :label="$tc('sw-newsletter-recipient.list.title')" :disabled="!acl.can('newsletter_recipient.editor')" /> {% endblock %} </sw-container> <sw-container columns="1fr 1fr" gap="10px" > {% block sw_newsletter_recipient_detail_form_first_name %} <sw-text-field v-model:value="newsletterRecipient.firstName" :label="$tc('sw-newsletter-recipient.list.firstName')" :disabled="!acl.can('newsletter_recipient.editor')" /> {% endblock %} {% block sw_newsletter_recipient_detail_form_last_name %} <sw-text-field v-model:value="newsletterRecipient.lastName" :label="$tc('sw-newsletter-recipient.list.lastName')" :disabled="!acl.can('newsletter_recipient.editor')" /> {% endblock %} </sw-container> {% block sw_newsletter_recipient_detail_form_email %} <sw-text-field v-model:value="newsletterRecipient.email" :label="$tc('sw-newsletter-recipient.list.email')" :disabled="!acl.can('newsletter_recipient.editor')" /> {% endblock %} {% block sw_newsletter_recipient_detail_form_street %} <sw-text-field v-model:value="newsletterRecipient.street" :label="$tc('sw-newsletter-recipient.list.street')" :disabled="!acl.can('newsletter_recipient.editor')" /> {% endblock %} <sw-container columns="1fr 1fr" gap="10px" > {% block sw_newsletter_recipient_detail_form_zip_code %} <sw-text-field v-model:value="newsletterRecipient.zipCode" :label="$tc('sw-newsletter-recipient.list.zipCode')" :disabled="!acl.can('newsletter_recipient.editor')" /> {% endblock %} {% block sw_newsletter_recipient_detail_form_city %} <sw-text-field v-model:value="newsletterRecipient.city" :label="$tc('sw-newsletter-recipient.list.city')" :disabled="!acl.can('newsletter_recipient.editor')" /> {% endblock %} </sw-container> {% block sw_newsletter_recipient_detail_form_language %} <sw-entity-single-select v-model:value="newsletterRecipient.languageId" :label="$tc('sw-newsletter-recipient.general.language')" :disabled="!acl.can('newsletter_recipient.editor')" entity="language" show-clearable-button /> {% endblock %} {% block sw_newsletter_recipient_detail_form_sales_channel %} <sw-entity-single-select v-model:value="newsletterRecipient.salesChannelId" :label="$tc('sw-newsletter-recipient.general.salesChannel')" label-property="name" :disabled="true" entity="sales_channel" show-clearable-button /> {% endblock %} {% block sw_newsletter_recipient_detail_form_tags %} <sw-entity-tag-select v-model:entity-collection="newsletterRecipient.tags" :label="$tc('sw-newsletter-recipient.general.tags')" :disabled="!acl.can('newsletter_recipient.editor')" /> {% endblock %} {% endblock %} </sw-card> {% block sw_newsletter_recipient_detail_custom_fields %} <mt-card v-if="newsletterRecipient && customFieldSets && customFieldSets.length > 0" position-identifier="sw-newsletter-customFields" :title="$tc('sw-settings-custom-field.general.mainMenuItemGeneral')" > <sw-custom-field-set-renderer :entity="newsletterRecipient" :disabled="!acl.can('newsletter_recipient.editor')" :sets="customFieldSets" /> </mt-card> {% endblock %} </sw-card-view> </template> {% endblock %} </sw-page> {% endblock %}`,{Mixin:t}=Shopware,{Criteria:i}=Shopware.Data,s={template:n,inject:["repositoryFactory","acl","customFieldDataProviderService"],mixins:[t.getByName("notification"),t.getByName("salutation")],data(){return{newsletterRecipient:null,salutations:[],languages:[],salesChannels:[],isLoading:!1,customFieldSets:null}},metaInfo(){return{title:this.$createTitle(this.identifier)}},computed:{identifier(){return this.newsletterRecipient!==null?this.salutation(this.newsletterRecipient):""},newsletterRecipientStore(){return this.repositoryFactory.create("newsletter_recipient")}},created(){this.createdComponent()},methods:{createdComponent(){Shopware.ExtensionAPI.publishData({id:"sw-newsletter-recipient-detail__newsletterRecipient",path:"newsletterRecipient",scope:this}),this.isLoading=!0;const e=new i(1,1);e.addFilter(i.equals("id",this.$route.params.id)),e.addAssociation("tags"),this.newsletterRecipientStore.search(e).then(l=>{this.newsletterRecipient=l.first(),this.$nextTick(()=>{this.isLoading=!1})}),this.loadCustomFieldSets()},onClickSave(){this.newsletterRecipientStore.save(this.newsletterRecipient,Shopware.Context.api).then(()=>{this.createNotificationSuccess({message:this.$tc("sw-newsletter-recipient.detail.messageSaveSuccess",{key:this.newsletterRecipient.email},0)})})},loadCustomFieldSets(){this.customFieldDataProviderService.getCustomFieldSets("newsletter_recipient").then(e=>{this.customFieldSets=e})}}};export{s as default};
