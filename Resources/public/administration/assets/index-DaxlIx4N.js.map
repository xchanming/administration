{"version":3,"file":"index-DaxlIx4N.js","sources":["../../../app/administration/src/module/sw-order/component/sw-order-create-details-header/sw-order-create-details-header.html.twig","../../../app/administration/src/module/sw-order/component/sw-order-create-details-header/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_order_create_details_header %}\n<div class=\"sw-order-create-details-header\">\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_order_create_details_new_customer_modal %}\n    <sw-order-new-customer-modal\n        v-if=\"showNewCustomerModal\"\n        @close=\"onCloseNewCustomerModal\"\n        @on-select-existing-customer=\"onSelectExistingCustomer\"\n    />\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_order_create_details_header_profile %}\n    <sw-container\n        class=\"sw-order-user-card__container\"\n        columns=\"80px 1fr max-content\"\n        gap=\"0 24px\"\n    >\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_order_create_details_header_profile_avatar %}\n        <sw-avatar\n            v-if=\"customer\"\n            size=\"80px\"\n            :color=\"$route.meta.$module.color\"\n            :name=\"customer.name\"\n        />\n        <sw-avatar\n            v-else\n            size=\"80px\"\n            color=\"#f9fafb\"\n        />\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_order_create_details_header_profile_searching %}\n        <div class=\"sw-order-user-card__metadata\">\n            <div class=\"sw-order-user-card__metadata-user-name\">\n                {{ $tc('sw-order.createBase.detailsHeader.textCustomer') }}\n            </div>\n            <sw-container\n                columns=\"1fr 128px\"\n                gap=\"0 8px\"\n            >\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_order_create_search_customer %}\n                <sw-entity-single-select\n                    size=\"small\"\n                    entity=\"customer\"\n                    :criteria=\"customerCriteria\"\n                    label-property=\"name\"\n                    :value=\"customerId\"\n                    :placeholder=\"$tc('sw-order.createBase.detailsHeader.placeholder')\"\n                    show-clearable-button\n                    @update:value=\"onSelectExistingCustomer\"\n                >\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_order_create_search_customer_slot_selection_label_property %}\n                    <template #selection-label-property=\"{ item: customer, getKey }\">\n                        {{ getKey(customer, 'name') || getKey(customer, `translated.name`) }}\n                    </template>\n                    {% endblock %}\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_order_create_search_customer_slot_result_item %}\n                    <template #result-item=\"{ item, index, labelProperty, searchTerm, highlightSearchTerm, isSelected, setValue, getKey }\">\n                        <sw-select-result\n                            :selected=\"isSelected(item)\"\n                            v-bind=\"{ item, index }\"\n                            class=\"sw-order-create-details-header__customer-result\"\n                            @item-select=\"setValue\"\n                        >\n                            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                            {% block sw_order_create_search_customer_slot_result_item_content_container %}\n\n                            <div class=\"sw-order-create-details-header__customer-result-item has-many-childrens\">\n                                <div>\n                                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                                    {% block sw_order_create_search_customer_slot_result_item_name %}\n                                    <sw-highlight-text\n                                        v-if=\"highlightSearchTerm\"\n                                        :text=\"getKey(item, 'name') || getKey(item, `translated.name`)\"\n                                        :search-term=\"searchTerm\"\n                                    />\n                                    {% endblock %}\n\n                                </div>\n\n                                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                                {% block sw_order_create_search_customer_slot_result_item_number %}\n                                <sw-highlight-text\n                                    v-if=\"highlightSearchTerm\"\n                                    :text=\"getKey(item, 'customerNumber') || getKey(item, `translated.customerNumber`)\"\n                                    :search-term=\"searchTerm\"\n                                    class=\"text-truncate\"\n                                />\n                                {% endblock %}\n\n                            </div>\n\n                            <div\n                                v-if=\"getKey(item, 'company') || getKey(item, `translated.company`)\"\n                                class=\"sw-order-create-details-header__customer-result-item\"\n                            >\n                                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                                {% block sw_order_create_search_customer_slot_result_item_company %}\n                                <sw-highlight-text\n                                    v-if=\"highlightSearchTerm\"\n                                    :text=\"getKey(item, 'company') || getKey(item, `translated.company`)\"\n                                    :search-term=\"searchTerm\"\n                                />\n                                {% endblock %}\n                            </div>\n\n                            <div class=\"sw-order-create-details-header__customer-result-item text-gray-500\">\n                                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                                {% block sw_order_create_search_customer_slot_result_item_address %}\n                                {{ item.defaultBillingAddress.street }} <br>\n                                {{ item.defaultBillingAddress.zipcode }} {{ item.defaultBillingAddress.city }} <br>\n                                {{ item.defaultBillingAddress.country.name }}\n                                {% endblock %}\n                            </div>\n                            {% endblock %}\n                        </sw-select-result>\n                    </template>\n                    {% endblock %}\n                </sw-entity-single-select>\n                {% endblock %}\n                <sw-button\n                    size=\"small\"\n                    @click=\"onShowNewCustomerModal\"\n                >\n                    {{ $tc('sw-order.createBase.detailsHeader.buttonAddNewCustomer') }}\n                </sw-button>\n            </sw-container>\n        </div>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_order_create_details_header_profile_summary %}\n        <div class=\"sw-order-user-card__info-summary\">\n            <div class=\"sw-order-user-card__metadata-price\">\n                {{ currencyFilter(cartPrice ? cartPrice.totalPrice : 0, currency.isoCode) }}\n            </div>\n            <div class=\"sw-order-user-card__metadata-item\">\n                {{ orderDate }}\n            </div>\n        </div>\n        {% endblock %}\n        <slot></slot>\n    </sw-container>\n    {% endblock %}\n</div>\n{% endblock %}\n","import template from './sw-order-create-details-header.html.twig';\n\n/**\n * @package checkout\n */\n\nconst { Criteria } = Cicada.Data;\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    emits: ['on-select-existing-customer'],\n\n    props: {\n        // eslint-disable-next-line vue/require-default-prop\n        customer: {\n            type: Object,\n        },\n\n        orderDate: {\n            type: String,\n            required: true,\n        },\n\n        // eslint-disable-next-line vue/require-default-prop\n        cartPrice: {\n            type: Object,\n        },\n\n        // eslint-disable-next-line vue/require-default-prop\n        currency: {\n            type: Object,\n        },\n    },\n\n    data() {\n        return {\n            showNewCustomerModal: false,\n        };\n    },\n\n    computed: {\n        customerId: {\n            get() {\n                return this.customer ? this.customer.id : '';\n            },\n\n            set(customerId) {\n                if (this.customer) this.customer.id = customerId;\n            },\n        },\n\n        customerCriteria() {\n            const criteria = new Criteria(1, 25);\n\n            criteria.addAssociation('defaultBillingAddress.country');\n\n            return criteria;\n        },\n\n        currencyFilter() {\n            return Cicada.Filter.getByName('currency');\n        },\n    },\n\n    methods: {\n        onSelectExistingCustomer(customerId) {\n            // Keep the current value when user tries to delete it\n            if (!customerId) {\n                return;\n            }\n\n            this.$emit('on-select-existing-customer', customerId);\n        },\n\n        onShowNewCustomerModal() {\n            this.showNewCustomerModal = true;\n        },\n\n        onCloseNewCustomerModal() {\n            this.showNewCustomerModal = false;\n        },\n    },\n};\n"],"names":["template","Criteria","index","customerId","criteria"],"mappings":"AAAA,MAAeA,EAAA,k0HCMT,CAAE,SAAAC,CAAQ,EAAK,OAAO,KAGbC,EAAA,CACX,SAAAF,EAEA,aAAc,OAAO,aAErB,MAAO,CAAC,6BAA6B,EAErC,MAAO,CAEH,SAAU,CACN,KAAM,MACT,EAED,UAAW,CACP,KAAM,OACN,SAAU,EACb,EAGD,UAAW,CACP,KAAM,MACT,EAGD,SAAU,CACN,KAAM,MACT,CACJ,EAED,MAAO,CACH,MAAO,CACH,qBAAsB,EAClC,CACK,EAED,SAAU,CACN,WAAY,CACR,KAAM,CACF,OAAO,KAAK,SAAW,KAAK,SAAS,GAAK,EAC7C,EAED,IAAIG,EAAY,CACR,KAAK,WAAU,KAAK,SAAS,GAAKA,EACzC,CACJ,EAED,kBAAmB,CACf,MAAMC,EAAW,IAAIH,EAAS,EAAG,EAAE,EAEnC,OAAAG,EAAS,eAAe,+BAA+B,EAEhDA,CACV,EAED,gBAAiB,CACb,OAAO,OAAO,OAAO,UAAU,UAAU,CAC5C,CACJ,EAED,QAAS,CACL,yBAAyBD,EAAY,CAE5BA,GAIL,KAAK,MAAM,8BAA+BA,CAAU,CACvD,EAED,wBAAyB,CACrB,KAAK,qBAAuB,EAC/B,EAED,yBAA0B,CACtB,KAAK,qBAAuB,EAC/B,CACJ,CACL"}