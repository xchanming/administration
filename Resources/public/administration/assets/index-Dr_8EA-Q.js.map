{"version":3,"file":"index-Dr_8EA-Q.js","sources":["../../../app/administration/src/module/sw-extension/component/sw-ratings/sw-extension-rating-stars/sw-extension-rating-stars.html.twig","../../../app/administration/src/module/sw-extension/component/sw-ratings/sw-extension-rating-stars/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_extension_rating_stars %}\n<div\n    class=\"sw-extension-rating-stars\"\n    :class=\"editableClass\"\n>\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_extension_rating_stars_wrapper %}\n    <div class=\"sw-extension-rating-stars__wrapper\">\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_extension_rating_stars_wrapper_stars %}\n        <button\n            v-for=\"(ratingValue, key) in maxRating\"\n            :key=\"key\"\n            :disabled=\"!editable\"\n            class=\"sw-extension-rating-stars__star\"\n            :class=\"colorClass(key + 1)\"\n            @click=\"addRating(key)\"\n        >\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_extension_rating_stars_wrapper_stars_full_star %}\n            <sw-icon\n                name=\"solid-star\"\n                :style=\"starSize\"\n            />\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_extension_rating_stars_wrapper_stars_partial_star %}\n            <span\n                v-if=\"showPartialStar(key)\"\n                class=\"sw-extension-rating-stars__partial-star\"\n            >\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_extension_rating_stars_wrapper_stars_partial_star_wrapper %}\n                <span\n                    class=\"sw-extension-rating-stars__partial-star-wrapper\"\n                    :style=\"{ width: partialStarWidth }\"\n                >\n                    <sw-icon\n                        name=\"solid-star\"\n                        :size=\"partialStarSize\"\n                    />\n                </span>\n                {% endblock %}\n            </span>\n            {% endblock %}\n        </button>\n        {% endblock %}\n    </div>\n    {% endblock %}\n</div>\n{% endblock %}\n","import template from './sw-extension-rating-stars.html.twig';\nimport './sw-extension-rating-stars.scss';\n\n/**\n * @package checkout\n * @private\n */\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: ['feature'],\n\n    emits: ['update:rating'],\n\n    props: {\n        editable: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n        size: {\n            type: Number,\n            required: false,\n            default: 8,\n        },\n        rating: {\n            type: Number,\n            required: false,\n            default: 0,\n        },\n    },\n\n    data() {\n        return {\n            maxRating: 5,\n            ratingValue: null,\n        };\n    },\n\n    computed: {\n        editableClass() {\n            return {\n                'sw-extension-rating-stars--is-editable': this.editable,\n            };\n        },\n\n        sizeValue() {\n            // 8 is the default value of the property `this.size`\n            return this.editable && this.size === 8 ? this.defaultSizeForEditable : this.size;\n        },\n\n        starSize() {\n            return {\n                width: `${this.sizeValue * this.scaleFactor}px`,\n            };\n        },\n\n        partialStarSize() {\n            return `${this.sizeValue}px`;\n        },\n\n        partialStarWidth() {\n            return `${(this.ratingValue % 1) * 100}%`;\n        },\n\n        defaultSizeForEditable() {\n            return 17;\n        },\n\n        scaleFactor() {\n            return 0.0125 * 20 + 1;\n        },\n    },\n\n    watch: {\n        rating(value) {\n            this.ratingValue = value;\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.ratingValue = this.rating;\n        },\n\n        colorClass(key) {\n            return {\n                // subtract because rtl direction is used\n                'sw-extension-rating-stars__star--is-rated': this.maxRating + 1 - key <= this.ratingValue,\n            };\n        },\n\n        addRating(rating) {\n            if (!this.editable) {\n                return;\n            }\n\n            // subtract because rtl direction is used\n            this.ratingValue = this.maxRating - rating;\n            this.$emit('update:rating', this.ratingValue);\n        },\n\n        showPartialStar(key) {\n            return (\n                this.ratingValue % 1 !== 0 &&\n                // subtract because rtl direction is used\n                this.maxRating - Math.ceil(this.ratingValue) === key\n            );\n        },\n    },\n};\n"],"names":["template","index","value","key","rating"],"mappings":"AAAA,MAAeA,EAAA,ohCCOAC,EAAA,CACX,SAAAD,EAEA,aAAc,OAAO,aAErB,OAAQ,CAAC,SAAS,EAElB,MAAO,CAAC,eAAe,EAEvB,MAAO,CACH,SAAU,CACN,KAAM,QACN,SAAU,GACV,QAAS,EACZ,EACD,KAAM,CACF,KAAM,OACN,SAAU,GACV,QAAS,CACZ,EACD,OAAQ,CACJ,KAAM,OACN,SAAU,GACV,QAAS,CACZ,CACJ,EAED,MAAO,CACH,MAAO,CACH,UAAW,EACX,YAAa,IACzB,CACK,EAED,SAAU,CACN,eAAgB,CACZ,MAAO,CACH,yCAA0C,KAAK,QAC/D,CACS,EAED,WAAY,CAER,OAAO,KAAK,UAAY,KAAK,OAAS,EAAI,KAAK,uBAAyB,KAAK,IAChF,EAED,UAAW,CACP,MAAO,CACH,MAAO,GAAG,KAAK,UAAY,KAAK,WAAW,IAC3D,CACS,EAED,iBAAkB,CACd,MAAO,GAAG,KAAK,SAAS,IAC3B,EAED,kBAAmB,CACf,MAAO,GAAI,KAAK,YAAc,EAAK,GAAG,GACzC,EAED,wBAAyB,CACrB,MAAO,GACV,EAED,aAAc,CACV,MAAO,KACV,CACJ,EAED,MAAO,CACH,OAAOE,EAAO,CACV,KAAK,YAAcA,CACtB,CACJ,EAED,SAAU,CACN,KAAK,iBAAgB,CACxB,EAED,QAAS,CACL,kBAAmB,CACf,KAAK,YAAc,KAAK,MAC3B,EAED,WAAWC,EAAK,CACZ,MAAO,CAEH,4CAA6C,KAAK,UAAY,EAAIA,GAAO,KAAK,WAC9F,CACS,EAED,UAAUC,EAAQ,CACT,KAAK,WAKV,KAAK,YAAc,KAAK,UAAYA,EACpC,KAAK,MAAM,gBAAiB,KAAK,WAAW,EAC/C,EAED,gBAAgBD,EAAK,CACjB,OACI,KAAK,YAAc,IAAM,GAEzB,KAAK,UAAY,KAAK,KAAK,KAAK,WAAW,IAAMA,CAExD,CACJ,CACL"}