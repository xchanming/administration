{"version":3,"file":"scheduled-task.api.service-BAums_iO.js","sources":["../../../app/administration/src/core/service/api/scheduled-task.api.service.ts"],"sourcesContent":["/**\n * @package admin\n */\n\nimport type { AxiosInstance } from 'axios';\nimport ApiService from '../api.service';\nimport type { LoginService } from '../login.service';\n\n/**\n * Gateway for the API end point \"scheduled-task\"\n * @class\n * @extends ApiService\n */\nclass ScheduledTaskApiService extends ApiService {\n    constructor(httpClient: AxiosInstance, loginService: LoginService, apiEndpoint = 'scheduled-task') {\n        super(httpClient, loginService, apiEndpoint);\n        this.name = 'scheduledTaskService';\n    }\n\n    /**\n     * Run all due scheduled tasks\n     *\n     * @returns {Promise<T>}\n     */\n    runTasks() {\n        const headers = this.getBasicHeaders();\n\n        return this.httpClient\n            .post<unknown>(`/_action/${this.getApiBasePath()}/run`, null, {\n                headers,\n            })\n            .then((response) => {\n                return ApiService.handleResponse(response);\n            });\n    }\n\n    /**\n     * Get the minimum run interval of all tasks\n     *\n     * @returns {Promise<T>}\n     */\n    getMinRunInterval(): Promise<{ minRunInterval: number }> {\n        const headers = this.getBasicHeaders();\n\n        return this.httpClient\n            .get<{\n                minRunInterval: number;\n            }>(`/_action/${this.getApiBasePath()}/min-run-interval`, { headers })\n            .then(ApiService.handleResponse.bind(this));\n    }\n}\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default ScheduledTaskApiService;\n"],"names":["ScheduledTaskApiService","ApiService","httpClient","loginService","apiEndpoint","headers","response"],"mappings":"iHAaA,MAAMA,UAAgCC,CAAW,CAC7C,YAAYC,EAA2BC,EAA4BC,EAAc,iBAAkB,CACzF,MAAAF,EAAYC,EAAcC,CAAW,EAC3C,KAAK,KAAO,sBAChB,CAOA,UAAW,CACD,MAAAC,EAAU,KAAK,kBAEd,OAAA,KAAK,WACP,KAAc,YAAY,KAAK,eAAgB,CAAA,OAAQ,KAAM,CAC1D,QAAAA,CAAA,CACH,EACA,KAAMC,GACIL,EAAW,eAAeK,CAAQ,CAC5C,CACT,CAOA,mBAAyD,CAC/C,MAAAD,EAAU,KAAK,kBAErB,OAAO,KAAK,WACP,IAEE,YAAY,KAAK,gBAAgB,oBAAqB,CAAE,QAAAA,CAAA,CAAS,EACnE,KAAKJ,EAAW,eAAe,KAAK,IAAI,CAAC,CAClD,CACJ"}