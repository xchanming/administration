{"version":3,"file":"index-DmoaFh9d.js","sources":["../../../app/administration/src/module/sw-settings-number-range/page/sw-settings-number-range-detail/sw-settings-number-range-detail.html.twig","../../../app/administration/src/module/sw-settings-number-range/page/sw-settings-number-range-detail/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_settings_number_range_detail %}\n<sw-page class=\"sw-settings-number-range-detail\">\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_number_range_detail_header %}\n    <template #smart-bar-header>\n        <h2>{{ placeholder(numberRange, 'name', $tc('sw-settings-number-range.detail.textHeadline')) }}</h2>\n    </template>\n    {% endblock %}\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_number_range_detail_language_switch %}\n    <template #language-switch>\n        <sw-language-switch\n            :save-changes-function=\"saveOnLanguageChange\"\n            :abort-change-function=\"abortOnLanguageChange\"\n            @on-change=\"onChangeLanguage\"\n        />\n    </template>\n    {% endblock %}\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_number_range_detail_actions %}\n    <template #smart-bar-actions>\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_settings_number_range_detail_actions_abort %}\n        <sw-button\n            v-tooltip.bottom=\"tooltipCancel\"\n            :disabled=\"isLoading\"\n            @click=\"onCancel\"\n        >\n            {{ $tc('global.default.cancel') }}\n        </sw-button>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_settings_number_range_detail_actions_save %}\n        <sw-button-process\n            v-tooltip.bottom=\"tooltipSave\"\n            class=\"sw-settings-number-range-detail__save-action\"\n            variant=\"primary\"\n            :is-loading=\"isLoading\"\n            :process-success=\"isSaveSuccessful\"\n            :disabled=\"!acl.can('number_ranges.editor')\"\n            @update:process-success=\"saveFinish\"\n            @click.prevent=\"onSave\"\n        >\n            {{ $tc('global.default.save') }}\n        </sw-button-process>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_number_range_detail_content %}\n    <template #content>\n        <sw-card-view>\n            <template v-if=\"isLoading\">\n                <sw-skeleton />\n                <sw-skeleton />\n            </template>\n\n            <template v-else>\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_settings_number_range_detail_language_info %}\n                <sw-language-info :entity-description=\"identifier\" />\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_settings_number_range_detail_content_card %}\n                <sw-card\n                    :title=\"$tc('sw-settings-number-range.detail.configCard')\"\n                    position-identifier=\"sw-settings-number-range-detail-content\"\n                >\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_settings_number_range_detail_content_global_warning %}\n                    <sw-alert\n                        v-if=\"numberRange && numberRange.type && numberRange.type.global\"\n                        class=\"sw-number_range-quickinfo__alert-global-type\"\n                        variant=\"warning\"\n                        :title=\"$tc('sw-settings-number-range.general.infoGlobalTypeTitle', 0, {typeName: numberRange.type.typeName})\"\n                    >\n                        {{ $tc('sw-settings-number-range.general.infoGlobalType', 0, {typeName: numberRange.type.typeName}) }}\n                    </sw-alert>\n                    {% endblock %}\n\n                    <sw-container\n                        columns=\"repeat(auto-fit, minmax(250px, 1fr))\"\n                        gap=\"0px 30px\"\n                    >\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_number_range_detail_content_field_name %}\n                        <sw-text-field\n                            v-model:value=\"numberRange.name\"\n                            name=\"sw-field--numberRange-name\"\n                            :label=\"$tc('sw-settings-number-range.detail.labelName')\"\n                            :placeholder=\"placeholder(numberRange,'name', $tc('sw-settings-number-range.detail.placeholderName'))\"\n                            validation=\"required\"\n                            required\n                            :disabled=\"!acl.can('number_ranges.editor')\"\n                            :error=\"numberRangeNameError\"\n                        />\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_number_range_detail_content_field_description %}\n                        <sw-text-field\n                            v-model:value=\"numberRange.description\"\n                            name=\"sw-field--numberRange-description\"\n                            :label=\"$tc('sw-settings-number-range.detail.labelDescription')\"\n                            :placeholder=\"placeholder(numberRange,'description', $tc('sw-settings-number-range.detail.placeholderDescription'))\"\n                            :disabled=\"!acl.can('number_ranges.editor')\"\n                        />\n                        {% endblock %}\n                    </sw-container>\n\n                    <sw-container\n                        columns=\"repeat(auto-fit, minmax(200px, 1fr))\"\n                        gap=\"0px 30px\"\n                    >\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_number_range_detail_content_field_prefix %}\n                        <sw-text-field\n                            v-model:value=\"prefix\"\n                            name=\"sw-field--prefix\"\n                            :disabled=\"advanced || !acl.can('number_ranges.editor')\"\n                            :label=\"$tc('sw-settings-number-range.detail.labelPrefix')\"\n                            :placeholder=\"advanced?$tc('sw-settings-number-range.detail.placeholderSimpleModeImpossible'):$tc('sw-settings-number-range.detail.placeholderPrefix')\"\n                            @update:value=\"onChangePattern()\"\n                        />\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_number_range_detail_content_field_start %}\n                        <sw-number-field\n                            v-model:value=\"numberRange.start\"\n                            name=\"sw-field--numberRange-start\"\n                            number-type=\"int\"\n                            :disabled=\"!acl.can('number_ranges.editor')\"\n                            :label=\"$tc('sw-settings-number-range.detail.labelStart')\"\n                            :placeholder=\"$tc('sw-settings-number-range.detail.placeholderStart')\"\n                            required\n                            validation=\"required\"\n                            @update:value=\"onChangePattern()\"\n                        />\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_number_range_detail_content_field_suffix %}\n                        <sw-text-field\n                            v-model:value=\"suffix\"\n                            name=\"sw-field--suffix\"\n                            :disabled=\"advanced || !acl.can('number_ranges.editor')\"\n                            :label=\"$tc('sw-settings-number-range.detail.labelSuffix')\"\n                            :placeholder=\"advanced?$tc('sw-settings-number-range.detail.placeholderSimpleModeImpossible'):$tc('sw-settings-number-range.detail.placeholderSuffix')\"\n                            @update:value=\"onChangePattern()\"\n                        />\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_number_range_detail_content_field_pattern %}\n                        <sw-text-field\n                            v-if=\"advanced\"\n                            v-model:value=\"numberRange.pattern\"\n                            name=\"sw-field--numberRange-pattern\"\n                            :label=\"$tc('sw-settings-number-range.detail.labelPattern')\"\n                            :placeholder=\"$tc('sw-settings-number-range.detail.placeholderPattern')\"\n                            :disabled=\"!acl.can('number_ranges.editor')\"\n                            @update:value=\"onChangePattern()\"\n                        />\n                        <div v-if=\"!advanced\"></div>\n                        {% endblock %}\n                    </sw-container>\n\n                    <sw-container\n                        columns=\"1fr 1fr\"\n                        gap=\"0px 30px\"\n                    >\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_number_range_detail_content_field_default %}\n                        <div class=\"sw-settings-number-range-detail__field_default\">\n                            <sw-switch-field\n                                v-model:value=\"advanced\"\n                                name=\"sw-field--advanced\"\n                                bordered\n                                :disabled=\"!acl.can('number_ranges.editor')\"\n                                :label=\"$tc('sw-settings-number-range.detail.labelAdvanced')\"\n                            />\n                            <sw-help-text\n                                :width=\"380\"\n                                :text=\"$t('sw-settings-number-range.detail.helpTextAdvancedField')\"\n                            />\n                        </div>\n                        {% endblock %}\n                    </sw-container>\n\n                    <sw-container\n                        columns=\"repeat(auto-fit, minmax(250px, 1fr))\"\n                        gap=\"0px 30px\"\n                    >\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_number_range_detail_content_field_current_number %}\n                        <sw-text-field\n                            v-if=\"state\"\n                            v-model:value=\"state\"\n                            name=\"sw-field--state\"\n                            :disabled=\"true\"\n                            :label=\"$tc('sw-settings-number-range.detail.labelCurrentNumber')\"\n                            :placeholder=\"numberRange.start?numberRange.start.toString():''\"\n                        />\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_number_range_detail_content_field_preview %}\n                        <sw-text-field\n                            v-model:value=\"preview\"\n                            name=\"sw-field--preview\"\n                            :disabled=\"true\"\n                            :label=\"$tc('sw-settings-number-range.detail.labelPreview')\"\n                        />\n                        {% endblock %}\n                    </sw-container>\n                </sw-card>\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_settings_number_range_detail_assignment_card %}\n                <sw-card\n                    :title=\"$tc('sw-settings-number-range.detail.assignmentCard')\"\n                    position-identifier=\"sw-settings-number-range-detail-assignment\"\n                    class=\"sw-settings-number-range-detail-assignment\"\n                >\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_settings_number_range_detail_assignment_card_global_warning %}\n                    <sw-alert\n                        v-if=\"numberRange !== null && numberRange.global\"\n                        class=\"sw-number_range-quickinfo__alert-global-type\"\n                        variant=\"info\"\n                        :title=\"$tc('sw-settings-number-range.general.infoGlobalTitle', 0, {name: numberRange.name})\"\n                    >\n                        {{ $tc('sw-settings-number-range.general.infoGlobal', 0, {name: numberRange.name}) }}\n                    </sw-alert>\n                    <sw-alert\n                        v-if=\"\n                            numberRange.type !== null &&\n                                numberRange.numberRangeSalesChannels &&\n                                numberRange.numberRangeSalesChannels.length > 0\"\n                        class=\"sw-number_range-quickinfo__alert-global-type\"\n                        variant=\"warning\"\n                    >\n                        {{ $tc('sw-settings-number-range.general.infoSalesChannelBound', 0, {name: numberRange.name}) }}\n                    </sw-alert>\n                    {% endblock %}\n                    <sw-container\n                        columns=\"repeat(auto-fit, minmax(100%, 1fr))\"\n                        gap=\"0px 30px\"\n                    >\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_number_range_detail_content_global_product_warning %}\n                        {% endblock %}\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_sales_channel_detail_base_general_input_type %}\n                        <sw-entity-single-select\n                            v-if=\"numberRange.type\"\n                            id=\"numberRangeTypes\"\n                            v-model:value=\"numberRange.typeId\"\n                            name=\"sw-field--numberRange-typeId\"\n                            entity=\"number_range_type\"\n                            class=\"sw-number-range-detail__select-type\"\n                            :disabled=\"disableNumberRangeTypeSelect\"\n                            required\n                            show-clearable-button\n                            label-property=\"typeName\"\n                            :label=\"$tc('sw-settings-number-range.detail.labelType')\"\n                            :criteria=\"numberRange.type.global ? numberRangeTypeCriteriaGlobal : numberRangeTypeCriteria\"\n                            :error=\"numberRangeTypeIdError\"\n                            @update:value=\"onChangeType\"\n                        />\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_sales_channel_detail_base_general_input_sales_channel %}\n                        <sw-multi-select\n                            v-if=\"numberRange && (!numberRange.global || numberRange.global === false)\"\n                            class=\"sw-number-range-detail__select-type\"\n                            :label=\"$tc('sw-settings-number-range.detail.labelSalesChannel')\"\n                            :disabled=\"!numberRange.typeId || !acl.can('number_ranges.editor')\"\n                            :value=\"selectedNumberRangeSalesChannels\"\n                            :options=\"salesChannels\"\n                            name=\"sw-field--selectedNumberRangeSalesChannels\"\n                            label-property=\"translated.name\"\n                            value-property=\"id\"\n                            @item-add=\"addSalesChannel\"\n                            @item-remove=\"removeSalesChannel\"\n                        />\n                        {% endblock %}\n                    </sw-container>\n                </sw-card>\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_settings_number_range_detail_custom_field_sets %}\n                <sw-card\n                    v-if=\"showCustomFields\"\n                    position-identifier=\"sw-settings-number-range-detail-custom-field-sets\"\n                    :title=\"$tc('sw-settings-custom-field.general.mainMenuItemGeneral')\"\n                    :is-loading=\"isLoading\"\n                >\n                    <sw-custom-field-set-renderer\n                        :entity=\"numberRange\"\n                        :disabled=\"!acl.can('number_ranges.editor')\"\n                        :sets=\"customFieldSets\"\n                    />\n                </sw-card>\n                {% endblock %}\n            </template>\n        </sw-card-view>\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}\n","/**\n * @package inventory\n */\nimport template from './sw-settings-number-range-detail.html.twig';\nimport './sw-settings-number-range-detail.scss';\n\nconst {\n    Component,\n    Mixin,\n    Data: { Criteria },\n} = Cicada;\nconst { mapPropertyErrors } = Component.getComponentHelper();\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: [\n        'numberRangeService',\n        'repositoryFactory',\n        'acl',\n        'customFieldDataProviderService',\n    ],\n\n    mixins: [\n        Mixin.getByName('notification'),\n        Mixin.getByName('placeholder'),\n    ],\n\n    shortcuts: {\n        'SYSTEMKEY+S': 'onSave',\n        ESCAPE: 'onCancel',\n    },\n\n    data() {\n        return {\n            numberRangeId: undefined,\n            numberRange: {},\n            salesChannels: [],\n            advanced: false,\n            simplePossible: true,\n            prefix: '',\n            suffix: '',\n            preview: '',\n            state: 1,\n            isLoading: false,\n            isSaveSuccessful: false,\n            customFieldSets: null,\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(this.identifier),\n        };\n    },\n\n    computed: {\n        identifier() {\n            return this.placeholder(this.numberRange, 'name');\n        },\n\n        disableNumberRangeTypeSelect() {\n            return (\n                this.numberRange.type.global ||\n                this.numberRange.global ||\n                (this.numberRange.type !== null &&\n                    this.numberRange.numberRangeSalesChannels &&\n                    this.numberRange.numberRangeSalesChannels.length > 0) ||\n                !this.acl.can('number_ranges.editor')\n            );\n        },\n\n        numberRangeRepository() {\n            return this.repositoryFactory.create('number_range');\n        },\n\n        numberRangeCriteria() {\n            const criteria = new Criteria(1, 25);\n\n            criteria.addAssociation('type');\n            criteria.addAssociation('numberRangeSalesChannels');\n\n            return criteria;\n        },\n\n        numberRangeTypeRepository() {\n            return this.repositoryFactory.create('number_range_type');\n        },\n\n        numberRangeTypeCriteria() {\n            const criteria = new Criteria(1, 25);\n\n            criteria.addFilter(Criteria.equals('global', false));\n\n            criteria.addSorting(Criteria.sort('typeName', 'ASC'));\n\n            return criteria;\n        },\n\n        numberRangeTypeCriteriaGlobal() {\n            const criteria = new Criteria(1, 25);\n\n            criteria.addFilter(Criteria.equals('global', true));\n\n            criteria.addSorting(Criteria.sort('typeName', 'ASC'));\n\n            return criteria;\n        },\n\n        salesChannelCriteria() {\n            const criteria = new Criteria(1, 25);\n\n            criteria.addFilter(\n                Criteria.multi('OR', [\n                    Criteria.equals('numberRangeSalesChannels.numberRange.id', this.numberRange.id),\n                    Criteria.not('OR', [\n                        Criteria.equals('numberRangeSalesChannels.numberRangeTypeId', this.numberRange.typeId),\n                    ]),\n                ]),\n            );\n\n            criteria.addAssociation('numberRangeSalesChannels');\n\n            return criteria;\n        },\n\n        salesChannelRepository() {\n            return this.repositoryFactory.create('sales_channel');\n        },\n\n        numberRangeSalesChannelsRepository() {\n            return this.repositoryFactory.create('number_range_sales_channel');\n        },\n\n        selectedNumberRangeSalesChannels() {\n            if (!this.numberRange.numberRangeSalesChannels) {\n                return [];\n            }\n\n            return this.numberRange.numberRangeSalesChannels.map((numberRangeSalesChannel) => {\n                return numberRangeSalesChannel.salesChannelId;\n            });\n        },\n\n        tooltipSave() {\n            if (!this.acl.can('number_ranges.editor')) {\n                return {\n                    message: this.$tc('sw-privileges.tooltip.warning'),\n                    disabled: this.acl.can('number_ranges.editor'),\n                    showOnDisabledElements: true,\n                };\n            }\n\n            const systemKey = this.$device.getSystemKey();\n\n            return {\n                message: `${systemKey} + S`,\n                appearance: 'light',\n            };\n        },\n\n        tooltipCancel() {\n            return {\n                message: 'ESC',\n                appearance: 'light',\n            };\n        },\n\n        showCustomFields() {\n            return this.customFieldSets && this.customFieldSets.length > 0;\n        },\n\n        ...mapPropertyErrors('numberRange', [\n            'name',\n            'typeId',\n        ]),\n    },\n\n    watch: {\n        'numberRange.pattern'() {\n            this.getPreview();\n        },\n        'numberRange.start'() {\n            this.getPreview();\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        async createdComponent() {\n            this.isLoading = true;\n\n            if (this.$route.params.id && this.numberRange.isLoading !== true) {\n                this.numberRangeId = this.$route.params.id;\n                await Promise.all([\n                    this.loadEntityData(),\n                    this.loadCustomFieldSets(),\n                ]);\n            }\n\n            this.isLoading = false;\n        },\n\n        async loadEntityData() {\n            this.numberRange = await this.numberRangeRepository.get(\n                this.numberRangeId,\n                Cicada.Context.api,\n                this.numberRangeCriteria,\n            );\n\n            this.getState();\n            this.splitPattern();\n            await this.loadSalesChannels();\n        },\n\n        loadCustomFieldSets() {\n            this.customFieldDataProviderService.getCustomFieldSets('number_range').then((sets) => {\n                this.customFieldSets = sets;\n            });\n        },\n\n        splitPattern() {\n            if (this.numberRange.pattern === '') {\n                return;\n            }\n            const regex = /([^{}]*)({[^{}]*?})([^{}]*)/gi;\n            const patternCheck = regex.exec(this.numberRange.pattern);\n            if (\n                patternCheck &&\n                patternCheck.length === 4 &&\n                patternCheck[2] === '{n}' &&\n                this.numberRange.pattern.match(regex).length === 1\n            ) {\n                // valid for simpleFormat\n                this.prefix = patternCheck[1] ? patternCheck[1] : '';\n                this.suffix = patternCheck[3] ? patternCheck[3] : '';\n                this.simplePossible = true;\n            } else {\n                this.advanced = true;\n                this.simplePossible = false;\n            }\n        },\n\n        getPreview() {\n            if (!this.numberRange.type.technicalName) {\n                return Promise.resolve();\n            }\n\n            return this.numberRangeService\n                .previewPattern(this.numberRange.type.technicalName, this.numberRange.pattern, this.numberRange.start)\n                .then((response) => {\n                    this.preview = response.number;\n                });\n        },\n\n        getState() {\n            if (!this.numberRange.type.technicalName) {\n                return Promise.resolve();\n            }\n\n            return this.numberRangeService.previewPattern(this.numberRange.type.technicalName, '{n}', 0).then((response) => {\n                if (response.number > 1) {\n                    this.state = response.number - 1;\n                    return Promise.resolve();\n                }\n\n                this.state = this.numberRange.start;\n                return Promise.resolve();\n            });\n        },\n\n        loadSalesChannels() {\n            return this.salesChannelRepository.search(this.salesChannelCriteria).then((salesChannel) => {\n                this.salesChannels = salesChannel;\n            });\n        },\n\n        onSave() {\n            if (!this.acl.can('number_ranges.editor')) {\n                return false;\n            }\n\n            this.isSaveSuccessful = false;\n\n            const numberRangeName = this.numberRange.name || this.placeholder(this.numberRange, 'name');\n\n            this.onChangePattern();\n\n            if (!this.numberRange.pattern) {\n                this.createNotificationError({\n                    message: this.$tc('sw-settings-number-range.detail.errorPatternNeededMessage'),\n                });\n                return false;\n            }\n\n            if (this.state > 1 && this.state >= this.numberRange.start) {\n                this.createNotificationInfo({\n                    message: this.$tc('sw-settings-number-range.detail.infoStartDecrementMessage'),\n                });\n            }\n\n            this.isLoading = true;\n\n            return this.numberRangeRepository\n                .save(this.numberRange)\n                .then(() => {\n                    this.isSaveSuccessful = true;\n                })\n                .catch((exception) => {\n                    this.isLoading = false;\n                    this.createNotificationError({\n                        message: this.$tc('sw-settings-number-range.detail.messageSaveError', 0, { name: numberRangeName }),\n                    });\n                    throw exception;\n                })\n                .finally(() => {\n                    this.isLoading = false;\n                    this.getState();\n                });\n        },\n\n        saveFinish() {\n            this.isSaveSuccessful = false;\n        },\n\n        onCancel() {\n            this.$router.push({ name: 'sw.settings.number.range.index' });\n        },\n\n        onChangeLanguage() {\n            this.createdComponent();\n        },\n\n        abortOnLanguageChange() {\n            return this.numberRangeRepository.hasChanges(this.numberRange);\n        },\n\n        saveOnLanguageChange() {\n            return this.onSave();\n        },\n\n        onChangePattern() {\n            if (this.prefix === null) {\n                this.prefix = '';\n            }\n\n            if (this.suffix === null) {\n                this.suffix = '';\n            }\n\n            if (this.advanced !== true) {\n                this.numberRange.pattern = `${this.prefix}{n}${this.suffix}`;\n                return;\n            }\n\n            this.splitPattern();\n        },\n\n        onChangeType() {\n            this.loadSalesChannels();\n        },\n\n        addSalesChannel(salesChannel) {\n            const newNumberRangeSalesChannel = this.numberRangeSalesChannelsRepository.create();\n\n            newNumberRangeSalesChannel.numberRangeId = this.numberRange.id;\n            newNumberRangeSalesChannel.numberRangeTypeId = this.numberRange.typeId;\n            newNumberRangeSalesChannel.salesChannelId = salesChannel.id;\n\n            this.numberRange.numberRangeSalesChannels.push(newNumberRangeSalesChannel);\n\n            // fix select gets out of view\n            if (this.numberRange.numberRangeSalesChannels.length <= 1) {\n                this.$nextTick().then(() => {\n                    const scrollableArea = document.querySelector('.sw-card-view__content');\n\n                    if (scrollableArea) {\n                        scrollableArea.scrollTop += 78;\n                    }\n                });\n            }\n        },\n\n        removeSalesChannel(salesChannel) {\n            const numberRangeSalesChannelToRemove = this.numberRange.numberRangeSalesChannels.find((nRsalesChannel) => {\n                return nRsalesChannel.salesChannelId === salesChannel.id;\n            });\n\n            this.numberRange.numberRangeSalesChannels.remove(numberRangeSalesChannelToRemove.id);\n        },\n\n        noSalesChannelSelected() {\n            return (\n                this.numberRange.global === false &&\n                (this.numberRange.type.global === false || this.numberRange.type.global === null) &&\n                (!this.numberRange.numberRangeSalesChannels || this.numberRange.numberRangeSalesChannels.length === 0)\n            );\n        },\n    },\n};\n"],"names":["template","Component","Mixin","Criteria","mapPropertyErrors","index","criteria","numberRangeSalesChannel","sets","regex","patternCheck","response","salesChannel","numberRangeName","exception","newNumberRangeSalesChannel","scrollableArea","numberRangeSalesChannelToRemove","nRsalesChannel"],"mappings":"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"}