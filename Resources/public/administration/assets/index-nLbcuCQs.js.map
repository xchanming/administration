{"version":3,"file":"index-nLbcuCQs.js","sources":["../../../app/administration/src/module/sw-cms/elements/image-gallery/config/sw-cms-el-config-image-gallery.html.twig","../../../app/administration/src/module/sw-cms/elements/image-gallery/config/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_cms_element_image_gallery_config %}\n<div class=\"sw-cms-el-config-image-gallery\">\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_cms_element_image_gallery_config_tabs %}\n    <sw-tabs\n        position-identifier=\"sw-cms-element-config-image-gallery\"\n        class=\"sw-cms-el-config-image-gallery__tabs\"\n        default-item=\"content\"\n    >\n        <template #default=\"{ active }\">\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_cms_element_image_gallery_config_tab_content %}\n            <sw-tabs-item\n                :title=\"$tc('sw-cms.elements.general.config.tab.content')\"\n                name=\"content\"\n                :active-tab=\"active\"\n            >\n                {{ $tc('sw-cms.elements.general.config.tab.content') }}\n            </sw-tabs-item>\n            {% endblock %}\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_cms_element_image_gallery_config_tab_options %}\n            <sw-tabs-item\n                :title=\"$tc('sw-cms.elements.general.config.tab.settings')\"\n                name=\"settings\"\n                :active-tab=\"active\"\n            >\n                {{ $tc('sw-cms.elements.general.config.tab.settings') }}\n            </sw-tabs-item>\n            {% endblock %}\n        </template>\n\n        <template\n            #content=\"{ active }\"\n        >\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_cms_element_image_gallery_config_content %}\n            <sw-container\n                v-if=\"active === 'content'\"\n                class=\"sw-cms-el-config-image-gallery__tab-content\"\n            >\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_element_image_gallery_config_media_selection %}\n                <sw-cms-mapping-field\n                    v-model:config=\"element.config.sliderItems\"\n                    entity=\"product_media\"\n                    value-types=\"entity\"\n                    :label=\"$tc('sw-cms.elements.imageGallery.label')\"\n                >\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_cms_element_image_gallery_config_media_list_selection %}\n                    <sw-media-list-selection-v2\n                        :entity-media-items=\"mediaItems\"\n                        :entity=\"entity\"\n                        :upload-tag=\"uploadTag\"\n                        :default-folder=\"defaultFolderName\"\n                        @upload-finish=\"onImageUpload\"\n                        @item-remove=\"onItemRemove\"\n                        @open-sidebar=\"onOpenMediaModal\"\n                        @item-sort=\"onItemSort\"\n                    />\n                    {% endblock %}\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_cms_element_image_gallery_config_media_mapping_preview %}\n                    <template #preview=\"{ demoValue }\">\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_cms_element_image_gallery_config_media_preview_list %}\n                        <div\n                            v-if=\"demoValue && demoValue.length\"\n                            ref=\"demoMediaGrid\"\n                            class=\"sw-cms-el-config-image-gallery__mapping-preview\"\n                            :style=\"gridAutoRows\"\n                        >\n\n                            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                            {% block sw_cms_element_image_gallery_config_media_preview_item %}\n                            <div\n                                v-for=\"demo in demoValue\"\n                                :key=\"demo.id\"\n                                class=\"sw-cms-el-config-image-gallery__preview-image\"\n                            >\n                                <img\n                                    :src=\"demo.media.url\"\n                                    alt=\"\"\n                                >\n                            </div>\n                            {% endblock %}\n                        </div>\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_cms_element_image_gallery_config_media_preview_info %}\n                        <sw-alert\n                            v-else\n                            class=\"sw-cms-el-config-image__preview-info\"\n                            variant=\"info\"\n                        >\n                            {{ $tc('sw-cms.detail.label.mappingEmptyPreview') }}\n                        </sw-alert>\n                        {% endblock %}\n                    </template>\n                    {% endblock %}\n                </sw-cms-mapping-field>\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_element_image_gallery_config_media_modal %}\n                <sw-media-modal-v2\n                    v-if=\"mediaModalIsOpen\"\n                    variant=\"full\"\n                    :caption=\"$tc('sw-cms.elements.general.config.caption.mediaUpload')\"\n                    :entity-context=\"cmsPageState.entityName\"\n                    :initial-folder-id=\"cmsPageState.defaultMediaFolderId\"\n                    @media-upload-remove-image=\"onItemRemove\"\n                    @media-modal-selection-change=\"onMediaSelectionChange\"\n                    @modal-close=\"onCloseMediaModal\"\n                />\n                {% endblock %}\n            </sw-container>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_cms_element_image_gallery_config_settings %}\n            <sw-container\n                v-if=\"active === 'settings'\"\n                class=\"sw-cms-el-config-image-gallery__tab-settings\"\n            >\n                <div class=\"sw-cms-el-config-image-gallery__settings-options\">\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_cms_element_image_gallery_config_settings_display_mode %}\n                    <div class=\"sw-cms-el-config-image-gallery__setting-option\">\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_cms_element_image_gallery_config_settings_display_mode_select %}\n                        <sw-select-field\n                            v-model:value=\"element.config.displayMode.value\"\n                            class=\"sw-cms-el-config-image-gallery__setting-display-mode\"\n                            :label=\"$tc('sw-cms.elements.general.config.label.displayMode')\"\n                            :help-text=\"$tc('sw-cms.elements.imageGallery.config.helpText.displayMode')\"\n                            @update:value=\"onChangeDisplayMode\"\n                        >\n                            <option value=\"standard\">\n                                {{ $tc('sw-cms.elements.general.config.label.displayModeStandard') }}\n                            </option>\n                            <option value=\"contain\">\n                                {{ $tc('sw-cms.elements.general.config.label.displayModeContain') }}\n                            </option>\n                            <option value=\"cover\">\n                                {{ $tc('sw-cms.elements.general.config.label.displayModeCover') }}\n                            </option>\n                        </sw-select-field>\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_cms_element_image_gallery_config_settings_min_height %}\n                        <sw-text-field\n                            v-model:value=\"element.config.minHeight.value\"\n                            :label=\"$tc('sw-cms.elements.image.config.label.minHeight')\"\n                            :placeholder=\"$tc('sw-cms.elements.image.config.placeholder.enterMinHeight')\"\n                            :help-text=\"$tc('sw-cms.elements.image.config.label.minHeightHelpText')\"\n                            :disabled=\"!['cover', 'contain'].includes(element.config.displayMode.value)\"\n                            @update:value=\"onChangeMinHeight\"\n                        />\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_cms_element_image_gallery_config_settings_vertical_align %}\n                        {# ToDo NEXT-38801 - Re-enable and fix broken vertical align #}\n                        <sw-select-field\n                            v-if=\"false\"\n                            v-model:value=\"element.config.verticalAlign.value\"\n                            :label=\"$tc('sw-cms.elements.general.config.label.verticalAlign')\"\n                            :placeholder=\"$tc('sw-cms.elements.general.config.label.verticalAlign')\"\n                            :disabled=\"['cover', 'contain'].includes(element.config.displayMode.value)\"\n                        >\n                            <option value=\"flex-start\">\n                                {{ $tc('sw-cms.elements.general.config.label.verticalAlignTop') }}\n                            </option>\n                            <option value=\"center\">\n                                {{ $tc('sw-cms.elements.general.config.label.verticalAlignCenter') }}\n                            </option>\n                            <option value=\"flex-end\">\n                                {{ $tc('sw-cms.elements.general.config.label.verticalAlignBottom') }}\n                            </option>\n                        </sw-select-field>\n                        {% endblock %}\n                    </div>\n                    {% endblock %}\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_cms_element_image_gallery_config_settings_navigation %}\n                    <div class=\"sw-cms-el-config-image-gallery__setting-navigations sw-cms-el-config-image-gallery__setting-option\">\n                        <div class=\"sw-cms-el-config-image-gallery__settings-navigation\">\n\n                            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                            {% block sw_cms_element_image_gallery_config_settings_navigation_arrow_position %}\n                            <sw-select-field\n                                v-model:value=\"element.config.navigationArrows.value\"\n                                :label=\"$tc('sw-cms.elements.imageSlider.config.label.navigationArrows')\"\n                                @update:value=\"emitUpdateEl\"\n                            >\n\n                                <option :value=\"null\">\n                                    {{ $tc('sw-cms.elements.imageSlider.config.label.navigationPositionNone') }}\n                                </option>\n                                <option value=\"inside\">\n                                    {{ $tc('sw-cms.elements.imageSlider.config.label.navigationPositionInside') }}\n                                </option>\n                                <option value=\"outside\">\n                                    {{ $tc('sw-cms.elements.imageSlider.config.label.navigationPositionOutside') }}\n                                </option>\n                            </sw-select-field>\n                            {% endblock %}\n                        </div>\n\n                        <div class=\"sw-cms-el-config-image-gallery__settings-navigation\">\n\n                            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                            {% block sw_cms_element_image_gallery_config_settings_navigation_dots_position %}\n                            <sw-select-field\n                                v-model:value=\"element.config.navigationDots.value\"\n                                :label=\"$tc('sw-cms.elements.imageSlider.config.label.navigationDots')\"\n                                @update:value=\"emitUpdateEl\"\n                            >\n\n                                <option :value=\"null\">\n                                    {{ $tc('sw-cms.elements.imageSlider.config.label.navigationPositionNone') }}\n                                </option>\n                                <option value=\"inside\">\n                                    {{ $tc('sw-cms.elements.imageSlider.config.label.navigationPositionInside') }}\n                                </option>\n                                <option value=\"outside\">\n                                    {{ $tc('sw-cms.elements.imageSlider.config.label.navigationPositionOutside') }}\n                                </option>\n                            </sw-select-field>\n                            {% endblock %}\n                        </div>\n\n                        <div class=\"sw-cms-el-config-image-gallery__settings-navigation\">\n\n                            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                            {% block sw_cms_element_image_gallery_config_settings_navigation_preview_position %}\n                            <sw-select-field\n                                v-model:value=\"element.config.galleryPosition.value\"\n                                :label=\"$tc('sw-cms.elements.imageGallery.config.label.navigationPreview')\"\n                                @update:value=\"emitUpdateEl\"\n                            >\n\n                                <option value=\"left\">\n                                    {{ $tc('sw-cms.elements.imageGallery.config.label.navigationPreviewPositionLeft') }}\n                                </option>\n                                <option value=\"underneath\">\n                                    {{ $tc('sw-cms.elements.imageGallery.config.label.navigationPreviewPositionUnderneath') }}\n                                </option>\n                            </sw-select-field>\n                            {% endblock %}\n                        </div>\n                    </div>\n                    {% endblock %}\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_cms_element_image_gallery_config_settings_zoom_toggles %}\n                    <div class=\"sw-cms-el-config-image-gallery__setting-option\">\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_cms_element_image_gallery_config_settings_toggle_zoom %}\n                        <sw-switch-field\n                            v-model:value=\"element.config.zoom.value\"\n                            bordered\n                            :label=\"$tc('sw-cms.elements.imageGallery.config.label.zoom')\"\n                        />\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_cms_element_image_gallery_config_settings_toggle_fullscreen %}\n                        <sw-switch-field\n                            v-model:value=\"element.config.fullScreen.value\"\n                            bordered\n                            :label=\"$tc('sw-cms.elements.imageGallery.config.label.fullscreen')\"\n                        />\n                        {% endblock %}\n                    </div>\n                    {% endblock %}\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_cms_element_image_gallery_config_settings_aspect_ratio_magnifier_over_gallery_toggles %}\n                    <div class=\"sw-cms-el-config-image-gallery__setting-option\">\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_cms_element_image_gallery_config_settings_toggle_keep_aspect_ratio_on_zoom %}\n                        <sw-switch-field\n                            v-model:value=\"element.config.keepAspectRatioOnZoom.value\"\n                            bordered\n                            :label=\"$tc('sw-cms.elements.imageGallery.config.label.keepAspectRatioOnZoom')\"\n                        />\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_cms_element_image_gallery_config_settings_toggle_magnifier_over_gallery %}\n                        <sw-switch-field\n                            v-model:value=\"element.config.magnifierOverGallery.value\"\n                            bordered\n                            :label=\"$tc('sw-cms.elements.imageGallery.config.label.magnifierOverGallery')\"\n                            :help-text=\"$tc('sw-cms.elements.imageGallery.config.label.magnifierOverGalleryHelpText')\"\n                        />\n                        {% endblock %}\n                    </div>\n                    {% endblock %}\n                </div>\n            </sw-container>\n            {% endblock %}\n        </template>\n    </sw-tabs>\n    {% endblock %}\n</div>\n{% endblock %}\n","import template from './sw-cms-el-config-image-gallery.html.twig';\nimport './sw-cms-el-config-image-gallery.scss';\n\nconst { Mixin } = Cicada;\nconst {\n    moveItem,\n    object: { cloneDeep },\n} = Cicada.Utils;\nconst Criteria = Cicada.Data.Criteria;\n\n/**\n * @private\n * @package discovery\n */\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: [\n        'repositoryFactory',\n        'feature',\n    ],\n\n    emits: ['element-update'],\n\n    mixins: [\n        Mixin.getByName('cms-element'),\n    ],\n\n    data() {\n        return {\n            mediaModalIsOpen: false,\n            initialFolderId: null,\n            entity: this.element,\n            mediaItems: [],\n            columnWidth: '100px',\n        };\n    },\n\n    computed: {\n        mediaRepository() {\n            return this.repositoryFactory.create('media');\n        },\n\n        uploadTag() {\n            return `cms-element-media-config-${this.element.id}`;\n        },\n\n        defaultFolderName() {\n            return this.cmsPageState._entityName;\n        },\n\n        sliderItems() {\n            if (this.element.data && this.element.data.sliderItems && this.element.data.sliderItems.length > 0) {\n                return this.element.data.sliderItems;\n            }\n\n            return [];\n        },\n\n        sliderItemsConfigValue() {\n            return this.element?.config?.sliderItems?.value;\n        },\n\n        gridAutoRows() {\n            return `grid-auto-rows: ${this.columnWidth}`;\n        },\n\n        isProductPage() {\n            return (this.cmsPageState?.currentPage?.type ?? '') === 'product_detail';\n        },\n    },\n\n    watch: {\n        sliderItems() {\n            this.updateColumnWidth();\n        },\n\n        sliderItemsConfigValue(value) {\n            if (!value) {\n                this.element.config.sliderItems.value = [];\n                return;\n            }\n\n            const isSourceMapped = this.element?.config?.sliderItems?.source === 'mapped';\n            const isSliderLengthValid = value && value.length === this.sliderItems.length;\n\n            if (isSourceMapped || isSliderLengthValid || !this.sliderItems.length) {\n                return;\n            }\n\n            this.mediaItems = this.sliderItems.map((item) => {\n                return item.media;\n            });\n\n            this.element.config.sliderItems.value = this.sliderItems.map((item) => {\n                return {\n                    mediaId: item.media.id,\n                    mediaUrl: item.media.url,\n                    newTab: item.newTab,\n                    url: item.url,\n                };\n            });\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    mounted() {\n        this.mountedComponent();\n    },\n\n    methods: {\n        async createdComponent() {\n            this.initElementConfig('image-gallery');\n\n            const { source: sliderItemsSource, value: sliderItemsValue } = this.element.config.sliderItems;\n\n            if (sliderItemsSource === 'static' && sliderItemsValue && sliderItemsValue.length > 0) {\n                const mediaIds = sliderItemsValue.map((configElement) => {\n                    return configElement.mediaId;\n                });\n\n                const criteria = new Criteria(1, 25);\n                criteria.setIds(mediaIds);\n\n                const searchResult = await this.mediaRepository.search(criteria);\n                this.mediaItems = mediaIds.map((mediaId) => {\n                    return searchResult.get(mediaId);\n                });\n            }\n\n            this.initConfig();\n        },\n\n        mountedComponent() {\n            this.updateColumnWidth();\n        },\n\n        initConfig() {\n            if (!this.isProductPage || this.element?.translated?.config || this.element?.data?.sliderItems) {\n                return;\n            }\n\n            this.element.config.sliderItems.source = 'mapped';\n            this.element.config.sliderItems.value = 'product.media';\n            this.element.config.navigationDots.value = 'inside';\n            this.element.config.zoom.value = true;\n            this.element.config.fullScreen.value = true;\n            this.element.config.keepAspectRatioOnZoom.value = true;\n            this.element.config.magnifierOverGallery.value = false;\n            this.element.config.displayMode.value = 'contain';\n            this.element.config.minHeight.value = '430px';\n        },\n\n        updateColumnWidth() {\n            if (!this.$refs.demoMediaGrid) {\n                return;\n            }\n\n            this.$nextTick(() => {\n                const cssColumns = window\n                    .getComputedStyle(this.$refs.demoMediaGrid, null)\n                    .getPropertyValue('grid-template-columns')\n                    .split(' ');\n                this.columnWidth = cssColumns[0];\n            });\n        },\n\n        onOpenMediaModal() {\n            this.mediaModalIsOpen = true;\n        },\n\n        onCloseMediaModal() {\n            this.mediaModalIsOpen = false;\n        },\n\n        onImageUpload(mediaItem) {\n            const sliderItems = this.element.config.sliderItems;\n            if (sliderItems.source === 'default') {\n                sliderItems.value = [];\n                sliderItems.source = 'static';\n\n                this.mediaItems = [];\n            }\n\n            // Check if mediaItem already exists in mediaItems\n            const mediaItemExists = this.mediaItems.find((item) => {\n                return item.id === mediaItem.id;\n            });\n\n            // Remove previous mediaItem if it already exists\n            if (mediaItemExists) {\n                this.mediaItems = this.mediaItems.filter((item) => {\n                    return item.id !== mediaItem.id;\n                });\n\n                sliderItems.value = sliderItems.value.filter((item) => {\n                    return item.mediaId !== mediaItem.id;\n                });\n            }\n\n            sliderItems.value.push({\n                mediaUrl: mediaItem.url,\n                mediaId: mediaItem.id,\n                url: null,\n                newTab: false,\n            });\n\n            this.mediaItems.push(mediaItem);\n            this.updateMediaDataValue();\n            this.emitUpdateEl();\n        },\n\n        onItemRemove(mediaItem, index) {\n            const key = mediaItem.id;\n            this.element.config.sliderItems.value = this.element.config.sliderItems.value.filter(\n                (item, i) => item.mediaId !== key || i !== index,\n            );\n\n            this.mediaItems = this.mediaItems.filter((item, i) => item.id !== key || i !== index);\n\n            this.updateMediaDataValue();\n            this.emitUpdateEl();\n        },\n\n        onMediaSelectionChange(mediaItems) {\n            const sliderItems = this.element.config.sliderItems;\n            if (sliderItems.source === 'default') {\n                sliderItems.value = [];\n                sliderItems.source = 'static';\n\n                this.mediaItems = [];\n            }\n\n            mediaItems.forEach((item) => {\n                this.element.config.sliderItems.value.push({\n                    mediaUrl: item.url,\n                    mediaId: item.id,\n                    url: null,\n                    newTab: false,\n                });\n            });\n\n            this.mediaItems.push(...mediaItems);\n            this.updateMediaDataValue();\n            this.emitUpdateEl();\n        },\n\n        updateMediaDataValue() {\n            if (this.element.config.sliderItems.value) {\n                const sliderItems = cloneDeep(this.element.config.sliderItems.value);\n\n                sliderItems.forEach((galleryItem) => {\n                    this.mediaItems.forEach((mediaItem) => {\n                        if (galleryItem.mediaId === mediaItem.id) {\n                            galleryItem.media = mediaItem;\n                        }\n                    });\n                });\n\n                if (!this.element.data) {\n                    if (this.isCompatEnabled('INSTANCE_SET')) {\n                        this.$set(this.element, 'data', { sliderItems });\n                    } else {\n                        this.element.data = { sliderItems };\n                    }\n                } else if (this.isCompatEnabled('INSTANCE_SET')) {\n                    this.$set(this.element.data, 'sliderItems', sliderItems);\n                } else {\n                    this.element.data.sliderItems = sliderItems;\n                }\n            }\n        },\n\n        onItemSort(dragData, dropData) {\n            moveItem(this.mediaItems, dragData.position, dropData.position);\n            moveItem(this.element.config.sliderItems.value, dragData.position, dropData.position);\n\n            this.updateMediaDataValue();\n            this.emitUpdateEl();\n        },\n\n        onChangeMinHeight(value) {\n            this.element.config.minHeight.value = value === null ? '' : value;\n\n            this.$emit('element-update', this.element);\n        },\n\n        onChangeDisplayMode(value) {\n            if (\n                [\n                    'cover',\n                    'contain',\n                ].includes(value)\n            ) {\n                this.element.config.verticalAlign.value = null;\n            }\n\n            this.$emit('element-update', this.element);\n        },\n\n        emitUpdateEl() {\n            this.$emit('element-update', this.element);\n        },\n    },\n};\n"],"names":["template","Mixin","moveItem","cloneDeep","Criteria","index","_a","_b","_c","value","isSourceMapped","isSliderLengthValid","item","sliderItemsSource","sliderItemsValue","mediaIds","configElement","criteria","searchResult","mediaId","_d","cssColumns","mediaItem","sliderItems","key","i","mediaItems","galleryItem","dragData","dropData"],"mappings":"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"}