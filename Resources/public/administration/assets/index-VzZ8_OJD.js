const n='<span v-tooltip="{ message: fullDatetime, disabled: !isToday }" >{{ formattedRelativeTime }}</span>',{Component:a}=Cicada;a.register("sw-time-ago",{template:n,compatConfig:Cicada.compatConfig,props:{date:{type:[Date,String],required:!0}},data(){return{formattedRelativeTime:null,interval:null,now:Date.now()}},computed:{dateObject(){return typeof this.date=="string"?new Date(this.date):this.date},dateFilter(){return Cicada.Filter.getByName("date")},fullDatetime(){return this.dateFilter(this.dateObject.toString())},lessThanOneMinute(){const e=this.now-6e4;return this.dateObject.getTime()>e},lessThanOneHour(){const e=this.now-36e5;return this.dateObject.getTime()>e},lessThanOneMinuteFromNow(){const e=this.now+6e4;return this.dateObject.getTime()<e},lessThanOneHourFromNow(){const e=this.now+36e5;return this.dateObject.getTime()<e},isToday(){const t=new Date(Date.now());return this.dateObject.getDate()===t.getDate()&&this.dateObject.getMonth()===t.getMonth()&&this.dateObject.getFullYear()===t.getFullYear()}},mounted(){this.formattedRelativeTime=this.formatRelativeTime(),this.interval=setInterval(()=>{this.now=Date.now(),this.formattedRelativeTime=this.formatRelativeTime()},3e4)},beforeUnmount(){this.interval&&clearInterval(this.interval)},methods:{formatRelativeTime(){const t=Date.now()-this.dateObject.getTime(),e=Math.round(t/1e3),i=Math.round(e/60);if(t>=0){if(this.lessThanOneMinute)return this.$tc("global.sw-time-ago.justNow");if(this.lessThanOneHour)return this.$tc("global.sw-time-ago.minutesAgo",i,{minutesAgo:i})}else{if(this.lessThanOneMinuteFromNow)return this.$tc("global.sw-time-ago.aboutNow");if(this.lessThanOneHourFromNow){const o=Math.abs(i);return this.$tc("global.sw-time-ago.minutesFromNow",o,{minutesFromNow:o})}}return this.isToday?this.dateFilter(this.dateObject.toString(),{year:void 0,month:void 0,day:void 0}):this.dateFilter(this.dateObject.toString())}}});
//# sourceMappingURL=index-VzZ8_OJD.js.map
