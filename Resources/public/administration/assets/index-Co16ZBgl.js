const __vite__fileDeps=["assets/index-BbiDQuKw.js","assets/index-BTkBE2Rq.css","assets/index-CK7ot9J1.js","assets/index-BQFCgI-r.css","assets/index-ngKGzbZZ.js","assets/index-BafMMqKy.css","assets/index-DtBzHVOC.js","assets/administration-DCOj2uiN.js","assets/administration-DZ0QGn6e.css","assets/index-Q_AdN2x5.css","assets/index-CmqPLXkq.js","assets/index-B_n6y21w.css","assets/index-CR6jy7M3.js","assets/index-CI_OW8kb.js","assets/index-t3lLBww3.css","assets/index-DdNahjrG.js","assets/index-CUHzY6Wd.css","assets/index-DWv4uaxL.js","assets/index-Bo98grmb.css","assets/index-D85OzrPE.js","assets/index-tq-gnRGG.css","assets/index-D53NOEzP.js","assets/index-gGRPW9GL.css","assets/index-DVs5ottl.js","assets/index-DgZiKll2.css","assets/index-gf-Lw2oK.js","assets/index-CQRqWZ5h.css","assets/index-BZUQh1FW.js","assets/index-B_j915T5.css","assets/index-x6acTqHL.js","assets/index-DrZuNKo2.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{_ as i}from"./administration-DCOj2uiN.js";import{s as a}from"./main.vite-CEuAX8cl.js";import"./channel-oRk5-XZJ.js";const{Mixin:l}=Cicada;l.register("media-grid-listener",{emits:["media-folder-change"],data(){return{selectedItems:[],listSelectionStartItem:null}},computed:{mediaItemSelectionHandler(){return{"media-item-click":this.handleMediaItemClicked,"media-item-selection-add":this.handleMediaGridItemSelected,"media-item-selection-remove":this.handleMediaGridItemUnselected,"media-item-play":this.handleMediaItemClicked}},isListSelect(){return this.listSelectionStartItem!==null},selectableItems(){return[]}},methods:{isItemSelected(e){return this.selectedItems.findIndex(d=>d===e)>-1},showItemSelected(e){return this.isItemSelected(e)},clearSelection(){this.selectedItems=[],this.listSelectionStartItem=null},navigateToFolder({item:e}){this.$emit("media-folder-change",e.id)},showDetails(e){this._singleSelect(e)},handleMediaItemClicked({originalDomEvent:e,item:t}){if(e.shiftKey){this._handleShiftSelect(t);return}if(this.isListSelect||e.ctrlKey||e.metaKey){this._handleSelection(t);return}this._singleSelect(t)},handleMediaGridItemSelected({originalDomEvent:e,item:t}){if(e.shiftKey){this._handleShiftSelect(t);return}this._addItemToSelection(t)},handleMediaGridItemUnselected({item:e}){this._removeItemFromSelection(e)},_singleSelect(e){e.getEntityName()==="media_folder"&&this.navigateToFolder({item:e}),this.selectedItems=[e],this.listSelectionStartItem=null},_startListSelect(e){this.selectedItems=[e],this.listSelectionStartItem=e},_handleSelection(e){if(this.isItemSelected(e)){this._removeItemFromSelection(e);return}this._addItemToSelection(e)},_removeItemFromSelection(e){this.selectedItems=this.selectedItems.filter(t=>t!==e),this.listSelectionStartItem===e&&(this.listSelectionStartItem=this.selectedItems[0]||null)},_addItemToSelection(e){if(!this.isListSelect){if(this.selectedItems.length===1){this._startListSelect(this.selectedItems[0]),this._addItemToSelection(e);return}this._startListSelect(e);return}this.isItemSelected(e)||this.selectedItems.push(e)},_handleShiftSelect(e){if(!this.isListSelect){if(this.selectedItems.length===1){this._startListSelect(this.selectedItems[0]),this._handleShiftSelect(e);return}this._startListSelect(e);return}if(e===this.listSelectionStartItem){this._startListSelect(e);return}const t=this._findSelectionIndices(this.listSelectionStartItem,e);this.selectedItems=this.selectableItems.slice(t.start,t.end+1),this.listSelectionStartItem=this.selectableItems[t.start]},_findSelectionIndices(e,t){const d=this.selectableItems.findIndex(s=>e===s),r=this.selectableItems.findIndex(s=>t===s);return{start:Math.min(d,r),end:Math.max(d,r)}}}});Cicada.Mixin.register("media-sidebar-modal-mixin",{inject:["mediaService","acl"],emits:["media-sidebar-items-delete","media-sidebar-folder-items-dissolve","media-sidebar-items-move"],data(){return{showModalReplace:!1,showModalDelete:!1,showFolderSettings:!1,showFolderDissolve:!1,showModalMove:!1}},methods:{openModalReplace(){this.acl.can("media.editor")&&(this.showModalReplace=!0)},closeModalReplace(){this.showModalReplace=!1},openModalDelete(){this.acl.can("media.deleter")&&(this.showModalDelete=!0)},closeModalDelete(){this.showModalDelete=!1},openFolderSettings(){this.showFolderSettings=!0},closeFolderSettings(){this.showFolderSettings=!1},openFolderDissolve(){this.acl.can("media.editor")&&(this.showFolderDissolve=!0)},closeFolderDissolve(){this.showFolderDissolve=!1},openModalMove(){this.acl.can("media.editor")&&(this.showModalMove=!0)},closeModalMove(){this.showModalMove=!1},deleteSelectedItems(e){this.closeModalDelete(),this.$nextTick(()=>{this.$emit("media-sidebar-items-delete",e)})},onFolderDissolved(e){this.closeFolderDissolve(),this.$nextTick(()=>{this.$emit("media-sidebar-folder-items-dissolve",e)})},onFolderMoved(e){this.closeModalMove(),this.$nextTick(()=>{this.$emit("media-sidebar-items-move",e)})}}});Cicada.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:"content",key:"media",roles:{viewer:{privileges:["media:read","media_folder:read","media_default_folder:read","media_thumbnail_size:read","media_folder_configuration:read","tag:read","product_media:read","product:read","category:read","product_manufacturer:read","mail_template_media:read","mail_template:read","document_base_config:read","user:read","payment_method:read","shipping_method:read","custom_field_set:read","custom_field:read","custom_field_set_relation:read","cms_page:read","cms_section:read","cms_block:read"],dependencies:[]},editor:{privileges:["media:update","media_folder:update","media_default_folder:update","media_folder_configuration:create","media_folder_configuration:update","media_folder_configuration:delete","media_folder:delete","media_thumbnail_size:create","media_thumbnail_size:update","media_thumbnail_size:delete","media_folder_configuration_media_thumbnail_size:delete","media_folder_configuration_media_thumbnail_size:create","media_folder_configuration_media_thumbnail_size:update","system_config:read"],dependencies:["media.viewer"]},creator:{privileges:["media:create","media_folder:create","media_default_folder:create"],dependencies:["media.viewer","media.editor"]},deleter:{privileges:["media:delete","media_folder:delete","media_default_folder:delete"],dependencies:["media.viewer"]}}});const o={_searchable:!1,fileName:{_searchable:!0,_score:a.HIGH_SEARCH_RANKING},path:{_searchable:!0,_score:a.HIGH_SEARCH_RANKING},alt:{_searchable:!0,_score:a.MIDDLE_SEARCH_RANKING},title:{_searchable:!0,_score:a.HIGH_SEARCH_RANKING},tags:{name:{_searchable:!0,_score:a.HIGH_SEARCH_RANKING}},mediaFolder:{name:{_searchable:!0,_score:a.HIGH_SEARCH_RANKING}}},{Module:n}=Cicada;Cicada.Component.register("sw-media-index",()=>i(()=>import("./index-BbiDQuKw.js"),__vite__mapDeps([0,1])));Cicada.Component.register("sw-media-grid",()=>i(()=>import("./index-CK7ot9J1.js"),__vite__mapDeps([2,3])));Cicada.Component.register("sw-media-sidebar",()=>i(()=>import("./index-ngKGzbZZ.js"),__vite__mapDeps([4,5])));Cicada.Component.register("sw-media-quickinfo-metadata-item",()=>i(()=>import("./index-DtBzHVOC.js"),__vite__mapDeps([6,7,8,9])));Cicada.Component.register("sw-media-quickinfo-usage",()=>i(()=>import("./index-CmqPLXkq.js"),__vite__mapDeps([10,11])));Cicada.Component.extend("sw-media-collapse","sw-collapse",()=>i(()=>import("./index-CR6jy7M3.js"),__vite__mapDeps([12,13,14])));Cicada.Component.register("sw-media-folder-info",()=>i(()=>import("./index-DdNahjrG.js"),__vite__mapDeps([15,16])));Cicada.Component.register("sw-media-quickinfo",()=>i(()=>import("./index-DWv4uaxL.js"),__vite__mapDeps([17,18])));Cicada.Component.register("sw-media-quickinfo-multiple",()=>i(()=>import("./index-D85OzrPE.js"),__vite__mapDeps([19,20])));Cicada.Component.register("sw-media-tag",()=>i(()=>import("./index-D53NOEzP.js"),__vite__mapDeps([21,22])));Cicada.Component.register("sw-media-display-options",()=>i(()=>import("./index-DVs5ottl.js"),__vite__mapDeps([23,24])));Cicada.Component.register("sw-media-breadcrumbs",()=>i(()=>import("./index-gf-Lw2oK.js"),__vite__mapDeps([25,26])));Cicada.Component.register("sw-media-library",()=>i(()=>import("./index-BZUQh1FW.js"),__vite__mapDeps([27,28])));Cicada.Component.register("sw-media-modal-v2",()=>i(()=>import("./index-x6acTqHL.js"),__vite__mapDeps([29,30])));n.register("sw-media",{type:"core",name:"media",title:"sw-media.general.mainMenuItemGeneral",description:"sw-media.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",color:"#ff68b4",icon:"regular-image",favicon:"icon-module-content.png",entity:"media",routes:{index:{components:{default:"sw-media-index"},path:"index/:folderId?",props:{default:e=>({routeFolderId:e.params.folderId})},meta:{privilege:"media.viewer"}}},navigation:[{id:"sw-media",label:"sw-media.general.mainMenuItemGeneral",color:"#ff68b4",icon:"regular-image",path:"sw.media.index",position:20,parent:"sw-content",privilege:"media.viewer"}],defaultSearchConfiguration:o});
//# sourceMappingURL=index-Co16ZBgl.js.map
