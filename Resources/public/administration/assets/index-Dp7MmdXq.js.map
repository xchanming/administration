{"version":3,"file":"index-Dp7MmdXq.js","sources":["../../../app/administration/src/module/sw-property/component/sw-property-option-detail/sw-property-option-detail.html.twig","../../../app/administration/src/module/sw-property/component/sw-property-option-detail/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_property_option_detail %}\n<sw-modal\n    :title=\"currentOption.name ? currentOption.name : $tc('sw-property.detail.textOptionHeadline')\"\n    @modal-close=\"onCancel\"\n>\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_property_option_detail_name %}\n    <sw-text-field\n        v-model:value=\"currentOption.name\"\n        name=\"sw-field--currentOption-name\"\n        validation=\"required\"\n        :label=\"$tc('sw-property.detail.labelOptionName')\"\n        :disabled=\"!allowEdit\"\n        :placeholder=\"$tc('sw-property.detail.placeholderOptionName')\"\n        :error=\"currentOptionNameError\"\n        required\n    />\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_property_option_detail_position %}\n    <sw-number-field\n        v-model:value=\"currentOption.position\"\n        name=\"sw-field--currentOption-position\"\n        pattern=\"[0-9]\"\n        :step=\"1\"\n        :disabled=\"!allowEdit\"\n        :label=\"$tc('sw-property.detail.labelOptionPosition')\"\n        :placeholder=\"$tc('sw-property.detail.placeholderOptionPosition')\"\n    />\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_property_option_detail_color %}\n    <sw-colorpicker\n        v-model:value=\"currentOption.colorHexCode\"\n        name=\"sw-field--currentOption-colorHexCode\"\n        color-output=\"hex\"\n        :disabled=\"!allowEdit\"\n        :label=\"$tc('sw-property.detail.labelOptionColor')\"\n        :z-index=\"1000\"\n    />\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_property_option_detail_media %}\n    <sw-upload-listener\n        :upload-tag=\"currentOption.id\"\n        auto-upload\n        @media-upload-finish=\"successfulUpload\"\n    />\n    <sw-media-compact-upload-v2\n        default-folder=\"product\"\n        :label=\"$tc('sw-property.detail.labelMediaUpload')\"\n        :source=\"currentOption.mediaId\"\n        :upload-tag=\"currentOption.id\"\n        :disabled=\"!allowEdit\"\n        @media-upload-remove-image=\"removeMedia\"\n        @selection-change=\"setMedia\"\n    />\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_property_option_detail_footer %}\n    <template #modal-footer>\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_property_option_detail_footer_cancel %}\n        <sw-button\n            size=\"small\"\n            @click=\"onCancel\"\n        >\n            {{ $tc('global.default.cancel') }}\n        </sw-button>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_property_option_detail_footer_save %}\n        <sw-button\n            v-tooltip.bottom=\"{\n                message: $tc('sw-privileges.tooltip.warning'),\n                disabled: acl.can('property.editor'),\n                showOnDisabledElements: true\n            }\"\n            variant=\"primary\"\n            size=\"small\"\n            :disabled=\"!allowEdit\"\n            @click=\"onSave\"\n        >\n            {{ $tc('global.default.apply') }}\n        </sw-button>\n        {% endblock %}\n    </template>\n    {% endblock %}\n</sw-modal>\n{% endblock %}\n","/*\n * @package inventory\n */\n\nimport template from './sw-property-option-detail.html.twig';\n\nconst { Component } = Cicada;\nconst { mapPropertyErrors } = Component.getComponentHelper();\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: [\n        'repositoryFactory',\n        'acl',\n    ],\n\n    props: {\n        currentOption: {\n            type: Object,\n            default() {\n                return {};\n            },\n        },\n        allowEdit: {\n            type: Boolean,\n            required: false,\n            // eslint-disable-next-line vue/no-boolean-default\n            default: true,\n        },\n    },\n\n    emits: [\n        'cancel-option-edit',\n        'save-option-edit',\n    ],\n\n    computed: {\n        mediaRepository() {\n            return this.repositoryFactory.create('media');\n        },\n\n        ...mapPropertyErrors('currentOption', ['name']),\n    },\n\n    methods: {\n        onCancel() {\n            // Remove all property group options\n            Cicada.State.dispatch('error/removeApiError', {\n                expression: 'property_group_option',\n            });\n\n            this.$emit('cancel-option-edit', this.currentOption);\n        },\n\n        onSave() {\n            this.$emit('save-option-edit', this.currentOption);\n        },\n\n        async successfulUpload({ targetId }) {\n            this.currentOption.mediaId = targetId;\n            await this.mediaRepository.get(targetId);\n        },\n\n        removeMedia() {\n            this.currentOption.mediaId = null;\n        },\n\n        setMedia(selection) {\n            this.currentOption.mediaId = selection[0].id;\n        },\n    },\n};\n"],"names":["template","Component","mapPropertyErrors","index","targetId","selection"],"mappings":"AAAA,MAAeA,EAAA,0nECMT,CAAE,UAAAC,CAAW,EAAG,OAChB,CAAE,kBAAAC,CAAmB,EAAGD,EAAU,qBAGzBE,EAAA,CACX,SAAAH,EAEA,aAAc,OAAO,aAErB,OAAQ,CACJ,oBACA,KACH,EAED,MAAO,CACH,cAAe,CACX,KAAM,OACN,SAAU,CACN,MAAO,EACV,CACJ,EACD,UAAW,CACP,KAAM,QACN,SAAU,GAEV,QAAS,EACZ,CACJ,EAED,MAAO,CACH,qBACA,kBACH,EAED,SAAU,CACN,iBAAkB,CACd,OAAO,KAAK,kBAAkB,OAAO,OAAO,CAC/C,EAED,GAAGE,EAAkB,gBAAiB,CAAC,MAAM,CAAC,CACjD,EAED,QAAS,CACL,UAAW,CAEP,OAAO,MAAM,SAAS,uBAAwB,CAC1C,WAAY,uBAC5B,CAAa,EAED,KAAK,MAAM,qBAAsB,KAAK,aAAa,CACtD,EAED,QAAS,CACL,KAAK,MAAM,mBAAoB,KAAK,aAAa,CACpD,EAED,MAAM,iBAAiB,CAAE,SAAAE,GAAY,CACjC,KAAK,cAAc,QAAUA,EAC7B,MAAM,KAAK,gBAAgB,IAAIA,CAAQ,CAC1C,EAED,aAAc,CACV,KAAK,cAAc,QAAU,IAChC,EAED,SAASC,EAAW,CAChB,KAAK,cAAc,QAAUA,EAAU,CAAC,EAAE,EAC7C,CACJ,CACL"}