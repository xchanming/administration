const e=`{% block sw_settings_tax_provider_sorting_modal %} <sw-modal class="sw-settings-tax-provider-sorting-modal" :title="$tc('sw-settings-tax.list.taxProvider.sorting-modal.modalTitle')" @modal-close="closeModal" > <template #body> <div class="sw-modal__body sw-settings-tax-provider-sorting-modal__subtitle"> {{ $tc('sw-settings-tax.list.taxProvider.sorting-modal.subTitle') }} </div> <div class="sw-modal__body"> <sw-sortable-list class="sw-settings-tax-provider-sorting-modal__tax-provider-list" :items="sortedTaxProviders" @items-sorted="onSort" > <template #item="{ item: taxProvider }"> <div class="sw-settings-tax-provider-sorting-modal__tax-provider-list-item" :class="!taxProvider.active ? 'is--disabled' : ''" > <sw-icon class="sw-settings-tax-provider-sorting-modal__tax-provider-list-item__action" name="regular-grip-vertical" /> <div class="sw-settings-tax-provider-sorting-modal__tax-provider-list-item__name"> {{ taxProvider.translated.name }} </div> </div> </template> </sw-sortable-list> </div> </template> <template #modal-footer> <sw-button class="sw-settings-tax-provider-sorting-modal__cancel-button" @click="closeModal" > {{ $tc('global.default.cancel') }} </sw-button> <sw-button-process class="sw-settings-tax-provider-sorting-modal__save-button" variant="primary" :is-loading="isSaving" :disabled="!acl.can('tax.editor')" :process-success="false" @click="applyChanges" > {{ $tc('global.default.save') }} </sw-button-process> </template> </sw-modal> {% endblock %}`,{Component:i,Mixin:o}=Shopware,a=i.wrapComponentConfig({template:e,inject:["acl","repositoryFactory"],mixins:[o.getByName("notification")],props:{taxProviders:{type:Array,required:!0}},data(){return{isSaving:!1,originalTaxProviders:this.taxProviders,sortedTaxProviders:this.taxProviders}},computed:{taxProviderRepository(){return this.repositoryFactory.create("tax_provider")}},methods:{closeModal(){this.$emit("modal-close")},applyChanges(){this.isSaving=!0,this.sortedTaxProviders.map((t,s)=>(t.priority=this.sortedTaxProviders.length-s,t)),this.taxProviderRepository.saveAll(this.sortedTaxProviders).then(()=>{this.isSaving=!1,this.$emit("modal-close"),this.$emit("modal-save"),this.createNotificationSuccess({message:this.$tc("sw-settings-tax.list.taxProvider.sorting-modal.saveSuccessful")})}).catch(()=>{this.createNotificationError({message:this.$tc("sw-settings-tax.list.taxProvider.sorting-modal.errorMessage")})})},onSort(t){this.sortedTaxProviders=t}}});export{a as default};
