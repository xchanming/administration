{"version":3,"file":"index-CF5JQgfS.js","sources":["../../../app/administration/src/module/sw-settings-number-range/page/sw-settings-number-range-list/sw-settings-number-range-list.html.twig","../../../app/administration/src/module/sw-settings-number-range/page/sw-settings-number-range-list/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_settings_list %}\n<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_settings_number_range_index %}\n<sw-page class=\"sw-settings-number-range-list\">\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_number_range_list_search_bar %}\n    <template #search-bar>\n        <sw-search-bar\n            initial-search-type=\"number_range\"\n            :placeholder=\"$tc('sw-settings-number-range.general.placeholderSearchBar')\"\n            :initial-search=\"term\"\n            @search=\"onSearch\"\n        />\n    </template>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_number_range_list_smart_bar_header %}\n    <template #smart-bar-header>\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_settings_number_range_list_smart_bar_header_title %}\n        <h2>\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_settings_number_range_list_smart_bar_header_title_text %}\n            {{ $tc('sw-settings.index.title') }}\n            <sw-icon\n                name=\"regular-chevron-right-xs\"\n                small\n            /> {{ $tc('sw-settings-number-range.list.textHeadline') }}\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_settings_number_range_list_smart_bar_header_amount %}\n            <span\n                v-if=\"!isLoading\"\n                class=\"sw-page__smart-bar-amount\"\n            >\n                ({{ total }})\n            </span>\n            {% endblock %}\n        </h2>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_number_range_list_language_switch %}\n    <template #language-switch>\n        <sw-language-switch @on-change=\"onChangeLanguage\" />\n    </template>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_number_range_list_smart_bar_actions %}\n    <template #smart-bar-actions>\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_settings_number_range_list_smart_bar_actions_add %}\n        <sw-button\n            v-tooltip=\"{\n                message: $tc('sw-privileges.tooltip.warning'),\n                disabled: acl.can('number_ranges.creator'),\n                showOnDisabledElements: true\n            }\"\n            class=\"sw-number-range-list__add-number-range\"\n            variant=\"primary\"\n            :disabled=\"!acl.can('number_ranges.creator') || undefined\"\n            :router-link=\"{ name: 'sw.settings.number.range.create' }\"\n        >\n            {{ $tc('sw-settings-number-range.list.buttonAddNumberRange') }}\n        </sw-button>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_number_range_list_content %}\n    <template #content>\n        <sw-card-view>\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_settings_number_range_list_content_card %}\n            <sw-card\n                v-if=\"isLoading || numberRange\"\n                position-identifier=\"sw-settings-number-range-list-content\"\n            >\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_settings_number_range_list_grid %}\n                <template #grid>\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_settings_number_range_list_grid_inner %}\n                    <sw-entity-listing\n                        ref=\"swSettingsNumberRangeGrid\"\n                        class=\"sw-settings-number-range-list-grid\"\n                        :items=\"numberRange\"\n                        :columns=\"getNumberRangeColumns()\"\n                        :repository=\"numberRangeRepository\"\n                        :disable-data-fetching=\"true\"\n                        :sort-by=\"sortBy\"\n                        :sort-direction=\"sortDirection\"\n                        :full-page=\"false\"\n                        detail-route=\"sw.settings.number.range.detail\"\n                        :show-selection=\"false\"\n                        :is-loading=\"isLoading\"\n                        :allow-edit=\"acl.can('number_ranges.editor') || undefined\"\n                        :allow-inline-edit=\"acl.can('number_ranges.editor') || undefined\"\n                        :allow-delete=\"acl.can('number_ranges.deleter') || undefined\"\n                        :allow-view=\"acl.can('number_ranges.viewer') || undefined\"\n                        @page-change=\"onPageChange\"\n                        @column-sort=\"onSortColumn\"\n                    >\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_number_range_list_grid_columns_name %}\n                        <template #column-global=\"{ item }\">\n                            <sw-label\n                                v-if=\"item.type.global || item.global\"\n                                class=\"sw-settings-number-range-list__columns-assignment-tag\"\n                                size=\"medium\"\n                            >\n                                {{ $tc('sw-settings-number-range.list.global') }}\n                            </sw-label>\n\n                            <template v-if=\"!item.type.global && !item.global\">\n                                <sw-label\n                                    v-for=\"numberRangeSalesChannel in item.numberRangeSalesChannels\"\n                                    :key=\"numberRangeSalesChannel.id\"\n                                    class=\"sw-settings-number-range-list__columns-assignment-tag\"\n                                    size=\"medium\"\n                                >\n                                    {{ numberRangeSalesChannel.salesChannel.translated.name }}\n                                </sw-label>\n                            </template>\n                        </template>\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_number_range_list_grid_columns_actions %}\n                        <template #actions=\"{ item }\">\n                            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                            {% block sw_settings_number_range_list_grid_columns_actions_edit %}\n                            <sw-context-menu-item\n                                class=\"sw-entity-listing__context-menu-edit-action\"\n                                :disabled=\"!acl.can('number_ranges.editor') || undefined\"\n                                :router-link=\"{ name: 'sw.settings.number.range.detail', params: { id: item.id, edit: 'edit' }}\"\n                            >\n                                {{ $tc('sw-settings-number-range.list.contextMenuEdit') }}\n                            </sw-context-menu-item>\n                            {% endblock %}\n\n                            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                            {% block sw_settings_number_range_list_grid_columns_actions_delete %}\n                            <sw-context-menu-item\n                                class=\"sw-entity-listing__context-menu-edit-delete\"\n                                variant=\"danger\"\n                                :disabled=\"!acl.can('number_ranges.deleter') || undefined\"\n                                @click=\"onDelete(item.id)\"\n                            >\n                                {{ $tc('sw-settings-number-range.list.contextMenuDelete') }}\n                            </sw-context-menu-item>\n                            {% endblock %}\n                        </template>\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_number_range_list_grid_action_modals %}\n                        <template #action-modals=\"{ item }\">\n                            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                            {% block sw_settings_number_range_list_delete_modal %}\n                            <sw-modal\n                                v-if=\"showDeleteModal === item.id\"\n                                :title=\"$tc('global.default.warning')\"\n                                variant=\"small\"\n                                @modal-close=\"onCloseDeleteModal\"\n                            >\n                                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                                {% block sw_settings_number_range_list_delete_modal_confirm_delete_text %}\n                                <p class=\"sw-settings-number-range-list__confirm-delete-text\">\n                                    {{ $tc('sw-settings-number-range.list.textDeleteConfirm', 0, { name: item.name }) }}\n                                </p>\n                                {% endblock %}\n\n                                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                                {% block sw_settings_number_range_list_delete_modal_footer %}\n                                <template #modal-footer>\n                                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                                    {% block sw_settings_number_range_list_delete_modal_cancel %}\n                                    <sw-button\n                                        size=\"small\"\n                                        @click=\"onCloseDeleteModal\"\n                                    >\n                                        {{ $tc('global.default.cancel') }}\n                                    </sw-button>\n                                    {% endblock %}\n\n                                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                                    {% block sw_settings_number_range_list_delete_modal_confirm %}\n                                    <sw-button\n                                        variant=\"danger\"\n                                        size=\"small\"\n                                        @click=\"onConfirmDelete(item.id)\"\n                                    >\n                                        {{ $tc('sw-settings-number-range.list.buttonDelete') }}\n                                    </sw-button>\n                                    {% endblock %}\n                                </template>\n                                {% endblock %}\n                            </sw-modal>\n                            {% endblock %}\n                        </template>\n                        {% endblock %}\n                    </sw-entity-listing>\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_settings_number_ranges_set_list_empty_message %}\n                    <sw-empty-state\n                        v-if=\"!isLoading && !total\"\n                        :title=\"$tc('sw-settings-number-range.list.messageEmpty')\"\n                    />\n                    {% endblock %}\n                    {% endblock %}\n                </template>\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n        </sw-card-view>\n    </template>\n    {% endblock %}\n</sw-page>\n    {% endblock %}\n{% endblock %}\n","/**\n * @package inventory\n */\nimport template from './sw-settings-number-range-list.html.twig';\nimport './sw-settings-number-range-list.scss';\n\nconst { Mixin } = Cicada;\nconst { Criteria } = Cicada.Data;\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: [\n        'repositoryFactory',\n        'acl',\n    ],\n\n    mixins: [\n        Mixin.getByName('notification'),\n        Mixin.getByName('listing'),\n        Mixin.getByName('placeholder'),\n    ],\n\n    data() {\n        return {\n            entityName: 'number_range',\n            numberRange: null,\n            sortBy: 'name',\n            isLoading: false,\n            sortDirection: 'DESC',\n            naturalSorting: true,\n            showDeleteModal: false,\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        filters() {\n            return [];\n        },\n\n        expandButtonClass() {\n            return {\n                'is--hidden': this.expanded,\n            };\n        },\n\n        collapseButtonClass() {\n            return {\n                'is--hidden': !this.expanded,\n            };\n        },\n\n        numberRangeRepository() {\n            return this.repositoryFactory.create('number_range');\n        },\n    },\n\n    methods: {\n        getList() {\n            const criteria = new Criteria(this.page, this.limit);\n            this.isLoading = true;\n            this.naturalSorting = this.sortBy === 'name';\n\n            criteria.setTerm(this.term);\n            criteria.addSorting(Criteria.sort(this.sortBy, this.sortDirection, this.naturalSorting));\n            criteria.addAssociation('type');\n            criteria.addAssociation('numberRangeSalesChannels');\n            criteria.addAssociation('numberRangeSalesChannels.salesChannel');\n\n            this.numberRangeRepository\n                .search(criteria)\n                .then((items) => {\n                    this.total = items.total;\n                    this.numberRange = items;\n                    this.isLoading = false;\n\n                    return items;\n                })\n                .catch(() => {\n                    this.isLoading = false;\n                });\n        },\n\n        getNumberRangeColumns() {\n            return [\n                {\n                    property: 'name',\n                    dataIndex: 'name',\n                    label: 'sw-settings-number-range.list.columnName',\n                    routerLink: 'sw.settings.number.range.detail',\n                    primary: true,\n                    inlineEdit: 'string',\n                },\n                {\n                    property: 'type.typeName',\n                    label: 'sw-settings-number-range.list.columnUsedIn',\n                },\n                {\n                    property: 'global',\n                    label: 'sw-settings-number-range.list.columnAssignment',\n                },\n            ];\n        },\n\n        onDelete(id) {\n            this.showDeleteModal = id;\n        },\n\n        onCloseDeleteModal() {\n            this.showDeleteModal = false;\n        },\n\n        onConfirmDelete(id) {\n            this.showDeleteModal = false;\n\n            return this.numberRangeRepository.delete(id).then(() => {\n                this.getList();\n            });\n        },\n\n        onChangeLanguage() {\n            this.getList();\n        },\n\n        onInlineEditSave(promise, numberRange) {\n            promise\n                .then(() => {\n                    this.createNotificationSuccess({\n                        message: this.$tc('sw-settings-number-range.detail.messageSaveSuccess', 0, {\n                            name: numberRange.name,\n                        }),\n                    });\n                })\n                .catch(() => {\n                    this.getList();\n                    this.createNotificationError({\n                        message: this.$tc('sw-settings-number-range.detail.messageSaveError'),\n                    });\n                });\n        },\n    },\n};\n"],"names":["template","Mixin","Criteria","index","criteria","items","id","promise","numberRange"],"mappings":"AAAA,MAAeA,EAAA,+nLCMT,CAAE,MAAAC,CAAO,EAAG,OACZ,CAAE,SAAAC,CAAQ,EAAK,OAAO,KAGbC,EAAA,CACX,SAAAH,EAEA,aAAc,OAAO,aAErB,OAAQ,CACJ,oBACA,KACH,EAED,OAAQ,CACJC,EAAM,UAAU,cAAc,EAC9BA,EAAM,UAAU,SAAS,EACzBA,EAAM,UAAU,aAAa,CAChC,EAED,MAAO,CACH,MAAO,CACH,WAAY,eACZ,YAAa,KACb,OAAQ,OACR,UAAW,GACX,cAAe,OACf,eAAgB,GAChB,gBAAiB,EAC7B,CACK,EAED,UAAW,CACP,MAAO,CACH,MAAO,KAAK,aAAc,CACtC,CACK,EAED,SAAU,CACN,SAAU,CACN,MAAO,EACV,EAED,mBAAoB,CAChB,MAAO,CACH,aAAc,KAAK,QACnC,CACS,EAED,qBAAsB,CAClB,MAAO,CACH,aAAc,CAAC,KAAK,QACpC,CACS,EAED,uBAAwB,CACpB,OAAO,KAAK,kBAAkB,OAAO,cAAc,CACtD,CACJ,EAED,QAAS,CACL,SAAU,CACN,MAAMG,EAAW,IAAIF,EAAS,KAAK,KAAM,KAAK,KAAK,EACnD,KAAK,UAAY,GACjB,KAAK,eAAiB,KAAK,SAAW,OAEtCE,EAAS,QAAQ,KAAK,IAAI,EAC1BA,EAAS,WAAWF,EAAS,KAAK,KAAK,OAAQ,KAAK,cAAe,KAAK,cAAc,CAAC,EACvFE,EAAS,eAAe,MAAM,EAC9BA,EAAS,eAAe,0BAA0B,EAClDA,EAAS,eAAe,uCAAuC,EAE/D,KAAK,sBACA,OAAOA,CAAQ,EACf,KAAMC,IACH,KAAK,MAAQA,EAAM,MACnB,KAAK,YAAcA,EACnB,KAAK,UAAY,GAEVA,EACV,EACA,MAAM,IAAM,CACT,KAAK,UAAY,EACrC,CAAiB,CACR,EAED,uBAAwB,CACpB,MAAO,CACH,CACI,SAAU,OACV,UAAW,OACX,MAAO,2CACP,WAAY,kCACZ,QAAS,GACT,WAAY,QACf,EACD,CACI,SAAU,gBACV,MAAO,4CACV,EACD,CACI,SAAU,SACV,MAAO,gDACV,CACjB,CACS,EAED,SAASC,EAAI,CACT,KAAK,gBAAkBA,CAC1B,EAED,oBAAqB,CACjB,KAAK,gBAAkB,EAC1B,EAED,gBAAgBA,EAAI,CAChB,YAAK,gBAAkB,GAEhB,KAAK,sBAAsB,OAAOA,CAAE,EAAE,KAAK,IAAM,CACpD,KAAK,QAAO,CAC5B,CAAa,CACJ,EAED,kBAAmB,CACf,KAAK,QAAO,CACf,EAED,iBAAiBC,EAASC,EAAa,CACnCD,EACK,KAAK,IAAM,CACR,KAAK,0BAA0B,CAC3B,QAAS,KAAK,IAAI,qDAAsD,EAAG,CACvE,KAAMC,EAAY,IAC9C,CAAyB,CACzB,CAAqB,CACrB,CAAiB,EACA,MAAM,IAAM,CACT,KAAK,QAAO,EACZ,KAAK,wBAAwB,CACzB,QAAS,KAAK,IAAI,kDAAkD,CAC5F,CAAqB,CACrB,CAAiB,CACR,CACJ,CACL"}