{"version":3,"file":"system-config.api.service-BT84NePU.js","sources":["../../../app/administration/src/core/service/api/system-config.api.service.js"],"sourcesContent":["import ErrorResolverSystemConfig from 'src/core/data/error-resolver.system-config.data';\nimport ApiService from '../api.service';\n\n/**\n * @package services-settings\n */\nclass SystemConfigApiService extends ApiService {\n    /**\n     * @private\n     *\n     * @type {ErrorResolverSystemConfig} errorResolver\n     */\n    errorResolver;\n\n    constructor(httpClient, loginService, apiEndpoint = 'system-config') {\n        super(httpClient, loginService, apiEndpoint);\n        this.name = 'systemConfigApiService';\n\n        this.errorResolver = new ErrorResolverSystemConfig();\n    }\n\n    checkConfig(domain, additionalParams = {}, additionalHeaders = {}) {\n        return this.httpClient\n            .get('_action/system-config/check', {\n                params: { domain, ...additionalParams },\n                headers: this.getBasicHeaders(additionalHeaders),\n            })\n            .then((response) => {\n                return ApiService.handleResponse(response);\n            });\n    }\n\n    getConfig(domain, additionalParams = {}, additionalHeaders = {}) {\n        return this.httpClient\n            .get('_action/system-config/schema', {\n                params: { domain, ...additionalParams },\n                headers: this.getBasicHeaders(additionalHeaders),\n            })\n            .then((response) => {\n                return ApiService.handleResponse(response);\n            });\n    }\n\n    getValues(domain, salesChannelId = null, additionalParams = {}, additionalHeaders = {}) {\n        return this.httpClient\n            .get('_action/system-config', {\n                params: { domain, salesChannelId, ...additionalParams },\n                headers: this.getBasicHeaders(additionalHeaders),\n            })\n            .then((response) => {\n                return ApiService.handleResponse(response);\n            })\n            .then((data) => {\n                // If config is empty we will receive an empty array.\n                // We have to return an empty object instead because of reactivity\n                return Array.isArray(data) ? {} : data;\n            });\n    }\n\n    saveValues(values, salesChannelId = null, additionalParams = {}, additionalHeaders = {}) {\n        return this.httpClient\n            .post('_action/system-config', values, {\n                params: { salesChannelId, ...additionalParams },\n                headers: this.getBasicHeaders(additionalHeaders),\n            })\n            .then((response) => {\n                return ApiService.handleResponse(response);\n            });\n    }\n\n    batchSave(values, additionalParams = {}, additionalHeaders = {}) {\n        return this.httpClient\n            .post('_action/system-config/batch', values, {\n                params: { ...additionalParams },\n                headers: this.getBasicHeaders(additionalHeaders),\n            })\n            .then((response) => {\n                this.errorResolver.cleanWriteErrors();\n                return ApiService.handleResponse(response);\n            })\n            .catch((errors) => {\n                this.errorResolver.handleWriteErrors(errors?.response?.data?.errors);\n                throw errors;\n            });\n    }\n}\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default SystemConfigApiService;\n"],"names":["SystemConfigApiService","ApiService","httpClient","loginService","apiEndpoint","__publicField","ErrorResolverSystemConfig","domain","additionalParams","additionalHeaders","response","salesChannelId","data","values","errors","_b","_a"],"mappings":"qiBAMA,MAAMA,UAA+BC,CAAW,CAQ5C,YAAYC,EAAYC,EAAcC,EAAc,gBAAiB,CACjE,MAAMF,EAAYC,EAAcC,CAAW,EAH/CC,EAAA,sBAII,KAAK,KAAO,yBAEZ,KAAK,cAAgB,IAAIC,CAC5B,CAED,YAAYC,EAAQC,EAAmB,CAAA,EAAIC,EAAoB,CAAA,EAAI,CAC/D,OAAO,KAAK,WACP,IAAI,8BAA+B,CAChC,OAAQ,CAAE,OAAAF,EAAQ,GAAGC,CAAkB,EACvC,QAAS,KAAK,gBAAgBC,CAAiB,CAC/D,CAAa,EACA,KAAMC,GACIT,EAAW,eAAeS,CAAQ,CAC5C,CACR,CAED,UAAUH,EAAQC,EAAmB,CAAA,EAAIC,EAAoB,CAAA,EAAI,CAC7D,OAAO,KAAK,WACP,IAAI,+BAAgC,CACjC,OAAQ,CAAE,OAAAF,EAAQ,GAAGC,CAAkB,EACvC,QAAS,KAAK,gBAAgBC,CAAiB,CAC/D,CAAa,EACA,KAAMC,GACIT,EAAW,eAAeS,CAAQ,CAC5C,CACR,CAED,UAAUH,EAAQI,EAAiB,KAAMH,EAAmB,CAAE,EAAEC,EAAoB,GAAI,CACpF,OAAO,KAAK,WACP,IAAI,wBAAyB,CAC1B,OAAQ,CAAE,OAAAF,EAAQ,eAAAI,EAAgB,GAAGH,CAAkB,EACvD,QAAS,KAAK,gBAAgBC,CAAiB,CAC/D,CAAa,EACA,KAAMC,GACIT,EAAW,eAAeS,CAAQ,CAC5C,EACA,KAAME,GAGI,MAAM,QAAQA,CAAI,EAAI,CAAA,EAAKA,CACrC,CACR,CAED,WAAWC,EAAQF,EAAiB,KAAMH,EAAmB,CAAE,EAAEC,EAAoB,GAAI,CACrF,OAAO,KAAK,WACP,KAAK,wBAAyBI,EAAQ,CACnC,OAAQ,CAAE,eAAAF,EAAgB,GAAGH,CAAkB,EAC/C,QAAS,KAAK,gBAAgBC,CAAiB,CAC/D,CAAa,EACA,KAAMC,GACIT,EAAW,eAAeS,CAAQ,CAC5C,CACR,CAED,UAAUG,EAAQL,EAAmB,CAAA,EAAIC,EAAoB,CAAA,EAAI,CAC7D,OAAO,KAAK,WACP,KAAK,8BAA+BI,EAAQ,CACzC,OAAQ,CAAE,GAAGL,CAAkB,EAC/B,QAAS,KAAK,gBAAgBC,CAAiB,CAC/D,CAAa,EACA,KAAMC,IACH,KAAK,cAAc,mBACZT,EAAW,eAAeS,CAAQ,EAC5C,EACA,MAAOI,GAAW,SACf,WAAK,cAAc,mBAAkBC,GAAAC,EAAAF,GAAA,YAAAA,EAAQ,WAAR,YAAAE,EAAkB,OAAlB,YAAAD,EAAwB,MAAM,EAC7DD,CACtB,CAAa,CACR,CACL"}