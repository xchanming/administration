{"version":3,"file":"index-C_4d2efo.js","sources":["../../../app/administration/src/module/sw-users-permissions/page/sw-users-permissions-user-detail/sw-users-permissions-user-detail.html.twig","../../../app/administration/src/module/sw-users-permissions/page/sw-users-permissions-user-detail/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_settings_user_detail %}\n<sw-page class=\"sw-settings-user-detail\">\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_user_detail_header %}\n    <template #smart-bar-header>\n        <h2 v-if=\"!isLoading\">\n            {{ fullName }}\n        </h2>\n    </template>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_user_detail_actions %}\n    <template #smart-bar-actions>\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_settings_user_detail_actions_cancel %}\n        <sw-button\n            v-tooltip.bottom=\"tooltipCancel\"\n            @click=\"onCancel\"\n        >\n            {{ $tc('global.default.cancel') }}\n        </sw-button>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_settings_user_detail_actions_save %}\n        <sw-button-process\n            v-tooltip.bottom=\"tooltipSave\"\n            class=\"sw-settings-user-detail__save-action\"\n            :is-loading=\"isLoading\"\n            :process-success=\"isSaveSuccessful\"\n            :disabled=\"isLoading || !acl.can('users_and_permissions.editor') || undefined\"\n            variant=\"primary\"\n            @update:process-success=\"saveFinish\"\n            @click.prevent=\"onSave\"\n        >\n            {{ $tc('sw-users-permissions.users.user-detail.labelButtonSave') }}\n        </sw-button-process>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_user_detail_content %}\n    <template #content>\n        <sw-card-view>\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_settings_user_detail_content_inner %}\n            <template v-if=\"isLoading\">\n                <sw-skeleton />\n                <sw-skeleton />\n            </template>\n\n            {# v-show is used here as underlying components influence the loading state and v-if would destroy this behaviour #}\n            <div v-show=\"!isLoading\">\n                {%  block sw_setting_user_detail_card_basic_information %}\n                <sw-card\n                    position-identifier=\"sw-users-permissions-user-detail\"\n                    :title=\"$tc('sw-users-permissions.users.user-detail.labelCard')\"\n                    :is-loading=\"isLoading\"\n                >\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_settings_user_detail_content_grid %}\n                    <div\n                        v-if=\"user\"\n                        class=\"sw-settings-user-detail__grid\"\n                    >\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_user_detail_content_name %}\n                        <sw-text-field\n                            v-model:value=\"user.name\"\n                            name=\"sw-field--user-name\"\n                            class=\"sw-settings-user-detail__grid-name\"\n                            :disabled=\"!acl.can('users_and_permissions.editor') || undefined\"\n                            :error=\"userNameError\"\n                            required\n                            :label=\"$tc('sw-users-permissions.users.user-detail.labelName')\"\n                        />\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_user_detail_content_phone %}\n                        <sw-text-field\n                            v-model:value=\"user.phone\"\n                            name=\"sw-field--user-phone\"\n                            class=\"sw-settings-user-detail__grid-phone\"\n                            :disabled=\"!acl.can('users_and_permissions.editor') || undefined\"\n                            :error=\"userPhoneError\"\n                            required\n                            :label=\"$tc('sw-users-permissions.users.user-detail.labelPhone')\"\n                        />\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_user_detail_content_email %}\n                        <sw-text-field\n                            v-model:value.trim=\"user.email\"\n                            name=\"sw-field--user-email\"\n                            class=\"sw-settings-user-detail__grid-eMail\"\n                            :error=\"userEmailError\"\n                            :disabled=\"!acl.can('users_and_permissions.editor') || undefined\"\n                            required\n                            :label=\"$tc('sw-users-permissions.users.user-detail.labelEmail')\"\n                        />\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_user_detail_content_username %}\n                        <sw-text-field\n                            v-model:value=\"user.username\"\n                            name=\"sw-field--user-username\"\n                            class=\"sw-settings-user-detail__grid-username\"\n                            :error-message=\"isUsernameUsed ? $tc('sw-users-permissions.users.user-detail.errorUsernameUsed') : ''\"\n                            :error=\"userUsernameError\"\n                            :disabled=\"!acl.can('users_and_permissions.editor') || undefined\"\n                            required\n                            :label=\"$tc('sw-users-permissions.users.user-detail.labelUsername')\"\n                            @update:value=\"checkUsername\"\n                        />\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_user_detail_content_media_upload %}\n                        <sw-upload-listener\n                            :upload-tag=\"user.id\"\n                            auto-upload\n                            @media-upload-finish=\"setMediaItem\"\n                        />\n                        <sw-media-upload-v2\n                            class=\"sw-settings-user-detail__grid-profile-picture\"\n                            :source=\"avatarMedia\"\n                            :label=\"$tc('sw-users-permissions.users.user-detail.labelProfilePicture')\"\n                            :upload-tag=\"user.id\"\n                            :allow-multi-select=\"false\"\n                            :source-context=\"user\"\n                            :disabled=\"!acl.can('users_and_permissions.editor') || undefined\"\n                            default-folder=\"user\"\n                            @media-drop=\"onDropMedia\"\n                            @media-upload-sidebar-open=\"onOpenMedia\"\n                            @media-upload-remove-image=\"onUnlinkLogo\"\n                        />\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_user_detail_content_password %}\n                        <sw-password-field\n                            class=\"sw-settings-user-detail__grid-password\"\n                            :value=\"user.password\"\n                            name=\"sw-field--user-password\"\n                            :disabled=\"!acl.can('users_and_permissions.editor') || undefined\"\n                            :label=\"$tc('sw-users-permissions.users.user-detail.labelPassword')\"\n                            :error=\"userPasswordError\"\n                            autocomplete=\"off\"\n                            @update:value=\"setPassword\"\n                        />\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_user_detail_grid_content_language %}\n                        <sw-select-field\n                            v-model:value=\"user.localeId\"\n                            name=\"sw-field--user-localeId\"\n                            class=\"sw-settings-user-detail__grid-language\"\n                            :label=\"$tc('sw-users-permissions.users.user-detail.labelLanguage')\"\n                            :disabled=\"!acl.can('users_and_permissions.editor') || undefined\"\n                            :error=\"userLocaleIdError\"\n                            required\n                            :placeholder=\"$tc('sw-users-permissions.users.user-detail.labelLanguagePlaceholder')\"\n                        >\n                            <option\n                                v-for=\"language in languages\"\n                                :key=\"language.locale.id\"\n                                :value=\"language.locale.id\"\n                                :selected=\"language.locale.id === user.localeId\"\n                            >\n                                {{ language.customLabel }}\n                            </option>\n                        </sw-select-field>\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_user_detail_grid_content_timezone %}\n                        <sw-single-select\n                            v-model:value=\"user.timeZone\"\n                            name=\"sw-field--user-timeZone\"\n                            class=\"sw-settings-user-detail__grid-timezone\"\n                            :options=\"timezoneOptions\"\n                            required\n                            :label=\"$tc('sw-users-permissions.users.user-detail.labelTimezone')\"\n                            :is-loading=\"timezoneOptions.length <= 0\"\n                            :disabled=\"!acl.can('user.update_profile') || undefined\"\n                        />\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_user_detail_grid_content_acl_is_admin %}\n                        <sw-switch-field\n                            v-model:value=\"user.admin\"\n                            name=\"sw-field--user-admin\"\n                            class=\"sw-settings-user-detail__grid-is-admin\"\n                            :label=\"$tc('sw-users-permissions.users.user-detail.labelAdministrator')\"\n                            :disabled=\"isCurrentUser || !acl.can('users_and_permissions.editor') || undefined\"\n                        />\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_user_detail_grid_content_job_title %}\n                        <sw-text-field\n                            v-model:value=\"user.title\"\n                            name=\"sw-field--user-title\"\n                            class=\"sw-settings-user-detail__grid-jobTitle\"\n                            :disabled=\"!acl.can('users_and_permissions.editor') || undefined\"\n                            :label=\"$tc('sw-users-permissions.users.user-detail.labelJobTitle')\"\n                        />\n                        {% endblock %}\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_user_detail_grid_content_acl_roles %}\n                        <sw-entity-multi-select\n                            v-model:entityCollection=\"user.aclRoles\"\n                            v-tooltip=\"{\n                                showDelay: 300,\n                                message: $tc('sw-users-permissions.users.user-detail.disabledRoleSelectWarning'),\n                                disabled: !user.admin || !acl.can('users_and_permissions.editor')\n                            }\"\n                            name=\"sw-field--user-aclRoles\"\n                            class=\"sw-settings-user-detail__grid-aclRoles\"\n                            :label=\"$tc('sw-users-permissions.users.user-detail.labelRoles')\"\n                            :disabled=\"user.admin || !acl.can('users_and_permissions.editor') || undefined\"\n                            :criteria=\"aclRoleCriteria\"\n                            label-property=\"name\"\n                        />\n                        {% endblock %}\n                    </div>\n                    {% endblock %}\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_settings_user_detail_content_confirm_password_modal %}\n                    <sw-verify-user-modal\n                        v-if=\"confirmPasswordModal\"\n                        @verified=\"saveUser\"\n                        @close=\"onCloseConfirmPasswordModal\"\n                    />\n                    {% endblock %}\n                </sw-card>\n                {% endblock %}\n\n                {%  block sw_setting_user_detail_card_integrations %}\n                <sw-card\n                    :title=\"$tc('sw-users-permissions.users.user-detail.labelIntegrationsCard')\"\n                    position-identifier=\"sw-users-permissions-user-detail-integrations\"\n                >\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_settings_user_detail_grid_toolbar %}\n                    <template #toolbar>\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_user_detail_grid_add_key %}\n                        <sw-button\n                            variant=\"primary\"\n                            size=\"small\"\n                            :disabled=\"!$route.params.id || !acl.can('users_and_permissions.editor') || undefined\"\n                            @click=\"addAccessKey\"\n                        >\n                            {{ $tc('sw-users-permissions.users.user-detail.addAccessKey') }}\n                        </sw-button>\n                        {% endblock %}\n                    </template>\n                    {% endblock %}\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_settings_user_detail_key_grid %}\n                    <template #grid>\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_settings_user_detail_key_grid_content %}\n                        <sw-data-grid\n                            :is-loading=\"isLoading\"\n                            :data-source=\"integrations\"\n                            :columns=\"integrationColumns\"\n                            identifier=\"user-grid\"\n                            :show-settings=\"true\"\n                            :skeleton-item-amount=\"skeletonItemAmount\"\n                        >\n\n                            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                            {% block sw_settings_user_detail_grid_columns_actions %}\n                            <template #actions=\"{ item }\">\n                                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                                {% block sw_settings_user_detail_grid_columns_actions_edit %}\n                                <sw-context-menu-item\n                                    class=\"sw-settings-user-detail__grid-context-menu-edit sw-product-list__edit-action\"\n                                    :disabled=\"!acl.can('users_and_permissions.editor') || undefined\"\n                                    @click=\"onShowDetailModal(item.id)\"\n                                >\n                                    {{ $tc('sw-users-permissions.users.user-detail.contextMenuEdit') }}\n                                </sw-context-menu-item>\n                                {% endblock %}\n\n                                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                                {% block sw_settings_user_detail_grid_columns_actions_delete %}\n                                <sw-context-menu-item\n                                    class=\"sw-settings-user-detail__grid-context-menu-delete\"\n                                    :disabled=\"!acl.can('users_and_permissions.editor') || undefined\"\n                                    variant=\"danger\"\n                                    @click=\"showDeleteModal = item.id\"\n                                >\n                                    {{ $tc('sw-users-permissions.users.user-detail.contextMenuDelete') }}\n                                </sw-context-menu-item>\n                                {% endblock %}\n                            </template>\n                            {% endblock %}\n                        </sw-data-grid>\n                        <sw-empty-state\n                            v-if=\"integrations.length === 0\"\n                            :absolute=\"false\"\n                            :title=\"$tc('sw-users-permissions.users.user-detail.noAccessKeysTitle')\"\n                            :subline=\"$tc('sw-users-permissions.users.user-detail.noAccessKeysSubline')\"\n                            auto-height\n                        />\n                        {% endblock %}\n                    </template>\n                    {% endblock %}\n                </sw-card>\n                {% endblock %}\n            </div>\n            {% endblock %}\n        </sw-card-view>\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_settings_user_detail_grid_inner_slot_media_modal %}\n        <sw-media-modal-v2\n            v-if=\"showMediaModal\"\n            :allow-multi-select=\"false\"\n            :initial-folder-id=\"mediaDefaultFolderId\"\n            entity-context=\"user\"\n            @modal-close=\"showMediaModal = false\"\n            @media-modal-selection-change=\"onMediaSelectionChange\"\n        />\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_settings_user_detail_grid_inner_slot_delete_modal %}\n        <sw-modal\n            v-if=\"showDeleteModal\"\n            :title=\"$tc('global.default.warning')\"\n            @modal-close=\"onCloseDeleteModal\"\n        >\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_settings_user_detail_grid_inner_slot_delete_modal_confirm_text %}\n            <p>\n                {{ $tc('sw-users-permissions.users.user-detail.modal.confirmDelete') }}\n            </p>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_settings_user_detail_grid_inner_slot_delete_modal_footer %}\n            <template #modal-footer>\n                <sw-button\n                    size=\"small\"\n                    @click=\"onCloseDeleteModal\"\n                >\n                    {{ $tc('global.default.cancel') }}\n                </sw-button>\n                <sw-button\n                    size=\"small\"\n                    variant=\"danger\"\n                    @click=\"onConfirmDelete(showDeleteModal)\"\n                >\n                    {{ $tc('sw-users-permissions.users.user-detail.modal.buttonDelete') }}\n                </sw-button>\n            </template>\n            {% endblock %}\n        </sw-modal>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_settings_user_detail_detail_modal %}\n        <sw-modal\n            v-if=\"currentIntegration\"\n            size=\"550px\"\n            class=\"sw-settings-user-detail__detail\"\n            :is-loading=\"isModalLoading\"\n            :title=\"showSecretAccessKey ? $tc('global.default.warning') : $tc('sw-users-permissions.users.user-detail.modal.detailModalTitleEdit')\"\n            @modal-close=\"onCloseDetailModal\"\n        >\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_settings_user_detail_detail_modal_inner %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_settings_user_detail_detail_modal_inner_field_access_key %}\n            <sw-text-field\n                v-model:value=\"currentIntegration.accessKey\"\n                :label=\"$tc('sw-users-permissions.users.user-detail.modal.idFieldLabel')\"\n                :disabled=\"true\"\n                :copyable=\"true\"\n                :copyable-tooltip=\"true\"\n            />\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_settings_user_detail_detail_modal_inner_field_secret_access_key %}\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_settings_user_detail_detail_modal_inner_field_secret_access_key_field %}\n            <sw-text-field\n                v-if=\"showSecretAccessKey\"\n                v-model:value=\"currentIntegration.secretAccessKey\"\n                :label=\"$tc('sw-users-permissions.users.user-detail.modal.secretFieldLabel')\"\n                :disabled=\"true\"\n                :password-toggle-able=\"false\"\n                :copyable=\"showSecretAccessKey\"\n                :copyable-tooltip=\"true\"\n            />\n\n            <sw-password-field\n                v-else\n                v-model:value=\"currentIntegration.secretAccessKey\"\n                :label=\"$tc('sw-users-permissions.users.user-detail.modal.secretFieldLabel')\"\n                :disabled=\"true\"\n                :password-toggle-able=\"false\"\n                :copyable=\"showSecretAccessKey\"\n                :copyable-tooltip=\"true\"\n                autocomplete=\"off\"\n            />\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_settings_user_detail_detail_modal_inner_field_secret_access_key_button %}\n            <sw-button\n                v-if=\"!showSecretAccessKey\"\n                class=\"sw-settings-user-detail__secret-help-text-button sw-field\"\n                variant=\"danger\"\n                :block=\"true\"\n                @click=\"addAccessKey\"\n            >\n                {{ $tc('sw-users-permissions.users.user-detail.modal.buttonCreateNewApiKeys') }}\n            </sw-button>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_settings_user_detail_detail_modal_inner_field_help_text %}\n            <sw-alert\n                v-if=\"!showSecretAccessKey\"\n                variant=\"warning\"\n                class=\"sw-settings-user-detail__secret-help-text-alert\"\n            >\n                {{ $tc('sw-users-permissions.users.user-detail.modal.hintCreateNewApiKeys') }}\n            </sw-alert>\n            {% endblock %}\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_settings_user_detail_detail_modal_inner_help_text %}\n            <sw-alert\n                v-else\n                variant=\"warning\"\n                class=\"sw-settings-user-detail__secret-help-text-alert\"\n            >\n                {{ $tc('sw-users-permissions.users.user-detail.modal.secretHelpText') }}\n            </sw-alert>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_settings_user_detail_detail_modal_inner_footer %}\n            <template #modal-footer>\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_settings_user_detail_detail_modal_inner_footer_cancel %}\n                <sw-button\n                    size=\"small\"\n                    :disabled=\"isModalLoading || undefined\"\n                    @click=\"onCloseDetailModal\"\n                >\n                    {{ $tc('global.default.cancel') }}\n                </sw-button>\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_settings_user_detail_detail_modal_inner_footer_apply %}\n                <sw-button\n                    size=\"small\"\n                    class=\"sw-settings-user-detail__save-action\"\n                    :disabled=\"isModalLoading && !!currentIntegration.label || undefined\"\n                    variant=\"primary\"\n                    @click=\"onSaveIntegration\"\n                >\n                    {{ showSecretAccessKey ? $tc('sw-users-permissions.users.user-detail.modal.buttonApply') : $tc('sw-users-permissions.users.user-detail.modal.buttonApplyEdit') }}\n                </sw-button>\n                {% endblock %}\n            </template>\n            {% endblock %}\n            {% endblock %}\n        </sw-modal>\n        {% endblock %}\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}\n","/**\n * @package services-settings\n */\nimport template from './sw-users-permissions-user-detail.html.twig';\nimport './sw-users-permissions-user-detail.scss';\n\nconst { Component, Mixin } = Cicada;\nconst { Criteria } = Cicada.Data;\nconst { mapPropertyErrors } = Component.getComponentHelper();\nconst { warn } = Cicada.Utils.debug;\nconst { CicadaError } = Cicada.Classes;\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: [\n        'userService',\n        'loginService',\n        'mediaDefaultFolderService',\n        'userValidationService',\n        'integrationService',\n        'repositoryFactory',\n        'acl',\n    ],\n\n    mixins: [\n        Mixin.getByName('notification'),\n        Mixin.getByName('salutation'),\n    ],\n\n    shortcuts: {\n        'SYSTEMKEY+S': 'onSave',\n        ESCAPE: 'onCancel',\n    },\n\n    data() {\n        return {\n            isLoading: false,\n            userId: '',\n            user: null,\n            currentUser: null,\n            languages: [],\n            integrations: [],\n            currentIntegration: null,\n            mediaItem: null,\n            newPassword: '',\n            newPasswordConfirm: '',\n            /**\n             * @deprecated tag:v6.7.0 - Will be removed. Use `isEmailAlreadyInUse` instead\n             */\n            isEmailUsed: false,\n            isEmailAlreadyInUse: false,\n            isUsernameUsed: false,\n            isIntegrationsLoading: false,\n            isSaveSuccessful: false,\n            isModalLoading: false,\n            showSecretAccessKey: false,\n            showDeleteModal: null,\n            skeletonItemAmount: 3,\n            confirmPasswordModal: false,\n            timezoneOptions: [],\n            mediaDefaultFolderId: null,\n            showMediaModal: false,\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(this.identifier),\n        };\n    },\n\n    computed: {\n        ...mapPropertyErrors('user', [\n            'name',\n            'phone',\n            'email',\n            'username',\n            'localeId',\n            'password',\n        ]),\n\n        identifier() {\n            return this.fullName;\n        },\n\n        fullName() {\n            return this.salutation(this.user, this.$tc('sw-users-permissions.users.user-detail.labelNewUser'));\n        },\n\n        userRepository() {\n            return this.repositoryFactory.create('user');\n        },\n\n        userCriteria() {\n            const criteria = new Criteria(1, 25);\n\n            criteria.addAssociation('accessKeys');\n            criteria.addAssociation('locale');\n            criteria.addAssociation('aclRoles');\n\n            return criteria;\n        },\n\n        aclRoleCriteria() {\n            const criteria = new Criteria(1, 25);\n\n            // Roles created by apps should not be assignable in the admin\n            criteria.addFilter(Criteria.equals('app.id', null));\n            criteria.addFilter(Criteria.equals('deletedAt', null));\n\n            return criteria;\n        },\n\n        languageRepository() {\n            return this.repositoryFactory.create('language');\n        },\n\n        languageCriteria() {\n            const criteria = new Criteria(1, 500);\n\n            criteria.addAssociation('locale');\n            criteria.addSorting(Criteria.sort('locale.name', 'ASC'));\n            criteria.addSorting(Criteria.sort('locale.territory', 'ASC'));\n\n            return criteria;\n        },\n\n        localeRepository() {\n            return this.repositoryFactory.create('locale');\n        },\n\n        avatarMedia() {\n            return this.mediaItem;\n        },\n\n        isError() {\n            return this.isEmailAlreadyInUse || this.isUsernameUsed || !this.hasLanguage;\n        },\n\n        hasLanguage() {\n            return this.user && this.user.localeId;\n        },\n\n        disableConfirm() {\n            return this.newPassword !== this.newPasswordConfirm || this.newPassword === '' || this.newPassword === null;\n        },\n\n        isCurrentUser() {\n            if (!this.user || !this.currentUser) {\n                return false;\n            }\n\n            return this.userId === this.currentUser.id;\n        },\n\n        mediaRepository() {\n            return this.repositoryFactory.create('media');\n        },\n\n        integrationColumns() {\n            return [\n                {\n                    property: 'accessKey',\n                    label: this.$tc('sw-users-permissions.users.user-detail.labelAccessKey'),\n                },\n            ];\n        },\n\n        languageId() {\n            return Cicada.State.get('session').languageId;\n        },\n\n        tooltipSave() {\n            const systemKey = this.$device.getSystemKey();\n\n            return {\n                message: `${systemKey} + S`,\n                appearance: 'light',\n            };\n        },\n\n        tooltipCancel() {\n            return {\n                message: 'ESC',\n                appearance: 'light',\n            };\n        },\n    },\n\n    watch: {\n        languageId() {\n            this.createdComponent();\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            Cicada.ExtensionAPI.publishData({\n                id: 'sw-users-permissions-user-detail__currentUser',\n                path: 'currentUser',\n                scope: this,\n            });\n\n            Cicada.ExtensionAPI.publishData({\n                id: 'sw-users-permissions-user-detail__user',\n                path: 'user',\n                scope: this,\n            });\n\n            this.isLoading = true;\n\n            if (!this.languageId) {\n                this.isLoading = false;\n                return;\n            }\n\n            this.getMediaDefaultFolderId()\n                .then((id) => {\n                    this.mediaDefaultFolderId = id;\n                })\n                .catch(() => {\n                    this.mediaDefaultFolderId = null;\n                });\n\n            this.timezoneOptions = Cicada.Service('timezoneService').getTimezoneOptions();\n            const languagePromise = new Promise((resolve) => {\n                Cicada.State.commit('context/setApiLanguageId', this.languageId);\n                resolve(this.languageId);\n            });\n\n            const promises = [\n                languagePromise,\n                this.loadLanguages(),\n                this.loadUser(),\n                this.loadCurrentUser(),\n            ];\n\n            Promise.all(promises).then(() => {\n                this.isLoading = false;\n            });\n        },\n\n        loadLanguages() {\n            return this.languageRepository.search(this.languageCriteria).then((result) => {\n                this.languages = [];\n                result.forEach((lang) => {\n                    lang.customLabel = `${lang.locale.translated.name} (${lang.locale.translated.territory})`;\n                    this.languages.push(lang);\n                });\n\n                return this.languages;\n            });\n        },\n\n        loadUser() {\n            this.userId = this.$route.params.id;\n\n            return this.userRepository.get(this.userId, Cicada.Context.api, this.userCriteria).then((user) => {\n                this.user = user;\n\n                if (this.user.avatarId) {\n                    this.loadMediaItem(this.user.avatarId);\n                }\n\n                this.keyRepository = this.repositoryFactory.create(user.accessKeys.entity, this.user.accessKeys.source);\n                this.loadKeys();\n            });\n        },\n\n        loadCurrentUser() {\n            return this.userService.getUser().then((response) => {\n                this.currentUser = response.data;\n            });\n        },\n\n        loadKeys() {\n            this.integrations = this.user.accessKeys;\n        },\n\n        addAccessKey() {\n            const newKey = this.keyRepository.create();\n\n            this.isModalLoading = true;\n            newKey.quantityStart = 1;\n            this.integrationService.generateKey({}, {}, true).then((response) => {\n                newKey.accessKey = response.accessKey;\n                newKey.secretAccessKey = response.secretAccessKey;\n                this.currentIntegration = newKey;\n                this.isModalLoading = false;\n                this.showSecretAccessKey = true;\n            });\n        },\n\n        checkEmail() {\n            if (!this.user.email) {\n                return Promise.resolve();\n            }\n\n            return this.userValidationService\n                .checkUserEmail({\n                    email: this.user.email,\n                    id: this.user.id,\n                })\n                .then(({ emailIsUnique }) => {\n                    /**\n                     * @deprecated tag:v6.7.0 - remove this.isEmailUsed assignment\n                     */\n                    this.isEmailUsed = !emailIsUnique;\n                    this.isEmailAlreadyInUse = !emailIsUnique;\n                });\n        },\n\n        checkUsername() {\n            return this.userValidationService\n                .checkUserUsername({\n                    username: this.user.username,\n                    id: this.user.id,\n                })\n                .then(({ usernameIsUnique }) => {\n                    this.isUsernameUsed = !usernameIsUnique;\n                });\n        },\n\n        loadMediaItem(targetId) {\n            this.mediaRepository.get(targetId).then((media) => {\n                this.mediaItem = media;\n                this.user.avatarMedia = media;\n            });\n        },\n\n        setMediaItem({ targetId }) {\n            this.user.avatarId = targetId;\n            this.loadMediaItem(targetId);\n        },\n\n        onUnlinkLogo() {\n            this.mediaItem = null;\n            this.user.avatarMedia = null;\n            this.user.avatarId = null;\n        },\n\n        onDropMedia(mediaItem) {\n            this.setMediaItem({ targetId: mediaItem.id });\n        },\n\n        onOpenMedia() {\n            this.showMediaModal = true;\n        },\n\n        onMediaSelectionChange([mediaEntity]) {\n            this.mediaItem = mediaEntity;\n            this.user.avatarMedia = mediaEntity;\n            this.user.avatarId = mediaEntity.id;\n        },\n\n        getMediaDefaultFolderId() {\n            return this.mediaDefaultFolderService.getDefaultFolderId('user');\n        },\n\n        onSearch(value) {\n            this.term = value;\n            this.clearSelection();\n        },\n\n        saveFinish() {\n            this.isSaveSuccessful = false;\n        },\n\n        onSave() {\n            this.confirmPasswordModal = true;\n        },\n\n        saveUser(context) {\n            this.isSaveSuccessful = false;\n            this.isLoading = true;\n            let promises = [];\n\n            if (this.currentUser.id === this.user.id) {\n                promises = [\n                    Cicada.Service('localeHelper').setLocaleWithId(this.user.localeId),\n                ];\n            }\n\n            return Promise.all(promises).then(\n                this.checkEmail()\n                    .then(() => {\n                        if (this.isEmailAlreadyInUse) {\n                            const expression = `user.${this.user.id}.email`;\n                            const error = new CicadaError({\n                                code: 'USER_EMAIL_ALREADY_EXISTS',\n                                detail: this.$tc('sw-users-permissions.users.user-detail.errorEmailUsed'),\n                            });\n\n                            Cicada.State.commit('error/addApiError', {\n                                expression,\n                                error,\n                            });\n\n                            return Promise.resolve();\n                        }\n\n                        this.isLoading = true;\n                        const titleSaveError = this.$tc('global.default.error');\n                        const messageSaveError = this.$tc(\n                            'sw-users-permissions.users.user-detail.notification.saveError.message',\n                            0,\n                            { name: this.fullName },\n                        );\n\n                        return this.userRepository\n                            .save(this.user, context)\n                            .then(() => {\n                                return this.updateCurrentUser();\n                            })\n                            .then(() => {\n                                this.createdComponent();\n\n                                this.confirmPasswordModal = false;\n                                this.isSaveSuccessful = true;\n                            })\n                            .catch((exception) => {\n                                this.createNotificationError({\n                                    title: titleSaveError,\n                                    message: messageSaveError,\n                                });\n                                warn(this._name, exception.message, exception.response);\n                                this.isLoading = false;\n                                throw exception;\n                            })\n                            .finally(() => {\n                                this.isLoading = false;\n                            });\n                    })\n                    .catch(() => Promise.reject())\n                    .finally(() => {\n                        this.isLoading = false;\n                    }),\n            );\n        },\n\n        updateCurrentUser() {\n            return this.userService.getUser().then((response) => {\n                const data = response.data;\n                delete data.password;\n\n                return Cicada.State.commit('setCurrentUser', data);\n            });\n        },\n\n        onCancel() {\n            this.$router.push({ name: 'sw.users.permissions.index' });\n        },\n\n        setPassword(password) {\n            if (typeof password === 'string' && password.length <= 0) {\n                if (this.isCompatEnabled('INSTANCE_DELETE')) {\n                    this.$delete(this.user, 'password');\n                } else {\n                    delete this.user.password;\n                }\n                return;\n            }\n\n            if (this.isCompatEnabled('INSTANCE_SET')) {\n                this.$set(this.user, 'password', password);\n            } else {\n                this.user.password = password;\n            }\n        },\n\n        onShowDetailModal(id) {\n            if (!id) {\n                this.addAccessKey();\n                return;\n            }\n\n            this.currentIntegration = this.user.accessKeys.get(id);\n        },\n\n        onCloseDetailModal() {\n            this.currentIntegration = null;\n            this.showSecretAccessKey = false;\n            this.isModalLoading = false;\n        },\n\n        onSaveIntegration() {\n            if (!this.currentIntegration) {\n                return;\n            }\n\n            if (!this.user.accessKeys.has(this.currentIntegration.id)) {\n                this.user.accessKeys.add(this.currentIntegration);\n            }\n\n            this.onCloseDetailModal();\n        },\n\n        onCloseDeleteModal() {\n            this.showDeleteModal = null;\n        },\n\n        onConfirmDelete(id) {\n            if (!id) {\n                return;\n            }\n\n            this.onCloseDeleteModal();\n            this.user.accessKeys.remove(id);\n        },\n\n        onCloseConfirmPasswordModal() {\n            this.confirmPasswordModal = false;\n        },\n    },\n};\n"],"names":["template","Component","Mixin","Criteria","mapPropertyErrors","warn","CicadaError","index","criteria","id","promises","resolve","result","lang","user","response","newKey","emailIsUnique","usernameIsUnique","targetId","media","mediaItem","mediaEntity","value","context","expression","error","titleSaveError","messageSaveError","exception","data","password"],"mappings":"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"}