{"version":3,"file":"index-DPVLyFY0.js","sources":["../../../app/administration/src/app/asyncComponent/media/sw-media-base-item/sw-media-base-item.html.twig","../../../app/administration/src/app/asyncComponent/media/sw-media-base-item/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_media_base_item %}\n<div\n    class=\"sw-media-base-item\"\n    :class=\"mediaItemClasses\"\n    role=\"button\"\n    tabindex=\"0\"\n    @click=\"handleItemClick\"\n    @keydown.enter.self=\"handleItemClick\"\n>\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_media_base_item_selected_indicator %}\n    <mt-checkbox\n        v-if=\"!isList && allowEdit\"\n        v-model:checked=\"listSelected\"\n        class=\"sw-media-base-item__selected-indicator\"\n        :class=\"selectionIndicatorClasses\"\n        @update:checked=\"onClickedItem\"\n    />\n    {# @deprecated tag:v6.7.0 - Remove the block #}\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_media_base_item_selection_indicator_icon %}\n    {% endblock %}\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_media_base_item_preview %}\n    <div class=\"sw-media-base-item__preview-container\">\n        <slot\n            name=\"preview\"\n            v-bind=\"{ item }\"\n        >\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_media_base_item_slot_media_preview %}{% endblock %}\n        </slot>\n\n        {# @experimental stableVersion:v6.7.0 feature:SPATIAL_BASES #}\n        {% block sw_media_base_spatial_label_indicator %}\n        <div\n            v-if=\"isSpatial\"\n            class=\"sw-media-base-item__labels\"\n        >\n            <sw-label\n                variant=\"neutral-reversed\"\n                appearance=\"pill\"\n                size=\"medium\"\n            >\n                <sw-icon\n                    v-if=\"item.config?.spatial?.arReady ?? defaultArReady\"\n                    name=\"regular-AR\"\n                    small\n                />\n                <sw-icon\n                    v-else\n                    name=\"regular-3d\"\n                    small\n                />\n\n                <span class=\"sw-media-base-item__labels-text\">{{ (item.config?.spatial?.arReady ?? defaultArReady) ? $tc('sw-product.mediaForm.arSubline') : $tc('sw-product.mediaForm.spatialSubline') }}</span>\n            </sw-label>\n        </div>\n        {% endblock %}\n    </div>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_media_base_item_name_container %}\n    <div\n        class=\"sw-media-base-item__name-container\"\n        :class=\"mediaNameContainerClasses\"\n    >\n        <slot\n            name=\"name\"\n            v-bind=\"{ item, isInlineEdit, startInlineEdit, endInlineEdit }\"\n        ></slot>\n    </div>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_media_base_item_metadata_container %}\n    <div\n        v-if=\"isList && showContextMenuButton\"\n        class=\"sw-media-base-item__metadata-container\"\n    >\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_media_base_item_metadata %}\n        <slot\n            name=\"metadata\"\n            v-bind=\"{ item }\"\n        >\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_media_base_item_slot_media_item_metadata %}{% endblock %}\n        </slot>\n        {% endblock %}\n    </div>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_media_base_item_context_menu %}\n    <sw-context-button\n        v-if=\"showContextMenuButton && !isLoading\"\n        ref=\"swContextButton\"\n    >\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_media_base_item_context_items %}\n        <slot\n            name=\"context-menu\"\n            v-bind=\"{ item, startInlineEdit, allowEdit, allowDelete }\"\n        >\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_media_base_item_slot_media_item_context_menu %}{% endblock %}\n        </slot>\n    {% endblock %}\n    </sw-context-button>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_media_base_item_list_selected_indicator %}\n    <mt-checkbox\n        v-if=\"isList && showSelectionIndicator && allowMultiSelect\"\n        v-model:checked=\"listSelected\"\n        class=\"sw-media-base-item__selected-indicator\"\n        :class=\"selectionIndicatorClasses\"\n        @update:checked=\"onClickedItem\"\n    />\n    {# @deprecated tag:v6.7.0 - Remove the block #}\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_media_base_item_list_selection_indicator_icon %}\n    {% endblock %}\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_media_base_item_loading_indicator %}\n    <sw-icon\n        v-if=\"isLoading\"\n        class=\"sw-media-base-item__loader\"\n        name=\"regular-spinner-star\"\n        size=\"16px\"\n    />\n    {% endblock %}\n\n    <slot\n        name=\"modal-windows\"\n        v-bind=\"{ item, allowEdit, allowDelete }\"\n    ></slot>\n</div>\n{% endblock %}\n","import template from './sw-media-base-item.html.twig';\nimport './sw-media-base-item.scss';\n\n/**\n * @status ready\n * @description The <u>sw-media-base-item</u> component is the base for items in the media manager.\n * @package content\n * @example-type code-only\n * @component-example\n * <sw-media-base-item\n *     :item=\"myItem\"\n *     :is-list=\"true\">\n * </sw-media-base-item>\n */\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: ['systemConfigApiService'],\n\n    emits: [\n        'media-item-click',\n        'media-item-selection-add',\n        'media-item-selection-remove',\n    ],\n\n    props: {\n        item: {\n            type: Object,\n            required: true,\n        },\n\n        isList: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n\n        showSelectionIndicator: {\n            required: false,\n            type: Boolean,\n            default: false,\n        },\n\n        showContextMenuButton: {\n            type: Boolean,\n            required: false,\n            // eslint-disable-next-line vue/no-boolean-default\n            default: true,\n        },\n\n        selected: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n\n        editable: {\n            type: Boolean,\n            required: false,\n            // eslint-disable-next-line vue/no-boolean-default\n            default: true,\n        },\n\n        allowMultiSelect: {\n            type: Boolean,\n            required: false,\n            // eslint-disable-next-line vue/no-boolean-default\n            default: true,\n        },\n\n        truncateRight: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n\n        allowEdit: {\n            type: Boolean,\n            required: false,\n            // eslint-disable-next-line vue/no-boolean-default\n            default: true,\n        },\n\n        allowDelete: {\n            type: Boolean,\n            required: false,\n            // eslint-disable-next-line vue/no-boolean-default\n            default: true,\n        },\n    },\n\n    data() {\n        return {\n            isInlineEdit: false,\n            defaultArReady: false,\n        };\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    computed: {\n        mediaItemClasses() {\n            return {\n                'is--list': this.isList,\n                'is--selected': this.selected || this.isInlineEdit,\n            };\n        },\n\n        mediaNameContainerClasses() {\n            return {\n                'is--truncate-right': this.truncateRight,\n            };\n        },\n\n        listSelected() {\n            return this.selected && this.showSelectionIndicator;\n        },\n\n        selectionIndicatorClasses() {\n            return {\n                'selected-indicator--visible': this.showSelectionIndicator,\n                'selected-indicator--list': this.isList,\n                'selected-indicator--checked': this.listSelected,\n                'selected-indicator--is-allowed': this.allowMultiSelect,\n            };\n        },\n\n        isLoading() {\n            return this.item.isLoading;\n        },\n\n        /**\n         * @experimental stableVersion:v6.7.0 feature:SPATIAL_BASES\n         */\n        isSpatial() {\n            // we need to check the media url since media.fileExtension is set directly after upload\n            return this.item.fileExtension === 'glb' || !!this.item?.url?.endsWith('.glb');\n        },\n    },\n\n    methods: {\n        createdComponent() {\n            this.systemConfigApiService.getValues('core.media').then((values) => {\n                this.defaultArReady = values['core.media.defaultEnableAugmentedReality'];\n            });\n        },\n\n        handleItemClick(originalDomEvent) {\n            if (this.isSelectionIndicatorClicked(originalDomEvent.composedPath())) {\n                return;\n            }\n            this.$emit('media-item-click', {\n                originalDomEvent,\n                item: this.item,\n            });\n        },\n\n        isSelectionIndicatorClicked(path) {\n            return path.some((parent) => {\n                return (\n                    parent.classList &&\n                    (parent.classList.contains('sw-media-base-item__selected-indicator') ||\n                        parent.classList.contains('sw-context-button'))\n                );\n            });\n        },\n\n        onClickedItem(originalDomEvent) {\n            if (!this.listSelected || !this.allowMultiSelect) {\n                this.selectItem(originalDomEvent);\n                return;\n            }\n            this.removeFromSelection(originalDomEvent);\n        },\n\n        selectItem(originalDomEvent) {\n            this.$emit('media-item-selection-add', {\n                originalDomEvent,\n                item: this.item,\n            });\n        },\n\n        removeFromSelection(originalDomEvent) {\n            this.$emit('media-item-selection-remove', {\n                originalDomEvent,\n                item: this.item,\n            });\n        },\n\n        startInlineEdit() {\n            if (this.editable && this.allowEdit) {\n                this.isInlineEdit = true;\n            }\n        },\n\n        endInlineEdit() {\n            this.isInlineEdit = false;\n        },\n    },\n};\n"],"names":["template","index","_a","_b","values","originalDomEvent","path","parent"],"mappings":"AAAA,MAAeA,EAAA,y+FCeAC,EAAA,CACX,SAAAD,EAEA,aAAc,OAAO,aAErB,OAAQ,CAAC,wBAAwB,EAEjC,MAAO,CACH,mBACA,2BACA,6BACH,EAED,MAAO,CACH,KAAM,CACF,KAAM,OACN,SAAU,EACb,EAED,OAAQ,CACJ,KAAM,QACN,SAAU,GACV,QAAS,EACZ,EAED,uBAAwB,CACpB,SAAU,GACV,KAAM,QACN,QAAS,EACZ,EAED,sBAAuB,CACnB,KAAM,QACN,SAAU,GAEV,QAAS,EACZ,EAED,SAAU,CACN,KAAM,QACN,SAAU,GACV,QAAS,EACZ,EAED,SAAU,CACN,KAAM,QACN,SAAU,GAEV,QAAS,EACZ,EAED,iBAAkB,CACd,KAAM,QACN,SAAU,GAEV,QAAS,EACZ,EAED,cAAe,CACX,KAAM,QACN,SAAU,GACV,QAAS,EACZ,EAED,UAAW,CACP,KAAM,QACN,SAAU,GAEV,QAAS,EACZ,EAED,YAAa,CACT,KAAM,QACN,SAAU,GAEV,QAAS,EACZ,CACJ,EAED,MAAO,CACH,MAAO,CACH,aAAc,GACd,eAAgB,EAC5B,CACK,EAED,SAAU,CACN,KAAK,iBAAgB,CACxB,EAED,SAAU,CACN,kBAAmB,CACf,MAAO,CACH,WAAY,KAAK,OACjB,eAAgB,KAAK,UAAY,KAAK,YACtD,CACS,EAED,2BAA4B,CACxB,MAAO,CACH,qBAAsB,KAAK,aAC3C,CACS,EAED,cAAe,CACX,OAAO,KAAK,UAAY,KAAK,sBAChC,EAED,2BAA4B,CACxB,MAAO,CACH,8BAA+B,KAAK,uBACpC,2BAA4B,KAAK,OACjC,8BAA+B,KAAK,aACpC,iCAAkC,KAAK,gBACvD,CACS,EAED,WAAY,CACR,OAAO,KAAK,KAAK,SACpB,EAKD,WAAY,CD3IpB,IAAAE,EAAAC,EC6IY,OAAO,KAAK,KAAK,gBAAkB,OAAS,CAAC,GAACA,GAAAD,EAAA,KAAK,OAAL,YAAAA,EAAW,MAAX,MAAAC,EAAgB,SAAS,QAC1E,CACJ,EAED,QAAS,CACL,kBAAmB,CACf,KAAK,uBAAuB,UAAU,YAAY,EAAE,KAAMC,GAAW,CACjE,KAAK,eAAiBA,EAAO,0CAA0C,CACvF,CAAa,CACJ,EAED,gBAAgBC,EAAkB,CAC1B,KAAK,4BAA4BA,EAAiB,aAAc,CAAA,GAGpE,KAAK,MAAM,mBAAoB,CAC3B,iBAAAA,EACA,KAAM,KAAK,IAC3B,CAAa,CACJ,EAED,4BAA4BC,EAAM,CAC9B,OAAOA,EAAK,KAAMC,GAEVA,EAAO,YACNA,EAAO,UAAU,SAAS,wCAAwC,GAC/DA,EAAO,UAAU,SAAS,mBAAmB,EAExD,CACJ,EAED,cAAcF,EAAkB,CAC5B,GAAI,CAAC,KAAK,cAAgB,CAAC,KAAK,iBAAkB,CAC9C,KAAK,WAAWA,CAAgB,EAChC,MACH,CACD,KAAK,oBAAoBA,CAAgB,CAC5C,EAED,WAAWA,EAAkB,CACzB,KAAK,MAAM,2BAA4B,CACnC,iBAAAA,EACA,KAAM,KAAK,IAC3B,CAAa,CACJ,EAED,oBAAoBA,EAAkB,CAClC,KAAK,MAAM,8BAA+B,CACtC,iBAAAA,EACA,KAAM,KAAK,IAC3B,CAAa,CACJ,EAED,iBAAkB,CACV,KAAK,UAAY,KAAK,YACtB,KAAK,aAAe,GAE3B,EAED,eAAgB,CACZ,KAAK,aAAe,EACvB,CACJ,CACL"}