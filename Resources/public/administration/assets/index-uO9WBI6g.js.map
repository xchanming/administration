{"version":3,"file":"index-uO9WBI6g.js","sources":["../../../app/administration/src/module/sw-category/component/sw-category-layout-card/sw-category-layout-card.html.twig","../../../app/administration/src/module/sw-category/component/sw-category-layout-card/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_category_layout_card %}\n<sw-card\n    class=\"sw-category-layout-card\"\n    position-identifier=\"sw-category-layout\"\n    :title=\"$tc('sw-category.base.cms.title')\"\n    :is-loading=\"isLoading\"\n>\n    <div class=\"sw-category-layout-card__base-layout\">\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_category_detail_layout_preview %}\n        <div\n            class=\"sw-category-layout-card__preview\"\n            role=\"button\"\n            tabindex=\"0\"\n            @click=\"openLayoutModal\"\n            @keydown.enter=\"openLayoutModal\"\n        >\n            <sw-cms-list-item\n                :page=\"cmsPage\"\n                :disabled=\"!acl.can('category.editor')\"\n                active\n            />\n        </div>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_category_detail_layout_modal %}\n        <sw-cms-layout-modal\n            v-if=\"showLayoutSelectionModal\"\n            :cms-page-types=\"pageTypes\"\n            :headline=\"headline\"\n            :pre-selection=\"cmsPage\"\n            @modal-layout-select=\"onLayoutSelect\"\n            @modal-close=\"closeLayoutModal\"\n        />\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_category_detail_layout_desc %}\n        <div class=\"sw-category-layout-card__desc\">\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_category_detail_layout_desc_info %}\n            <div class=\"sw-category-layout-card__desc-info\">\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_category_detail_layout_desc_info_headline %}\n                <div\n                    class=\"sw-category-layout-card__desc-headline\"\n                    :class=\"{ 'is--empty': !cmsPage }\"\n                >\n                    {{ cmsPage ? cmsPage.name : $tc('sw-category.base.cms.defaultTitle') }}\n                </div>\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_category_detail_layout_desc_info_subheadline %}\n                <div\n                    class=\"sw-category-layout-card__desc-subheadline\"\n                    :class=\"{ 'is--empty': !cmsPage }\"\n                >\n                    {{ pageTypeTitle }}\n                </div>\n                {% endblock %}\n\n            </div>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_category_detail_layout_desc_actions %}\n            <div class=\"sw-category-layout-card__desc-actions\">\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_category_detail_layout_desc_actions_layout %}\n                <sw-button\n                    class=\"sw-category-detail-layout__change-layout-action\"\n                    size=\"small\"\n                    :disabled=\"!acl.can('category.editor')\"\n                    @click=\"openLayoutModal\"\n                >\n                    {{ cmsPage ? $tc('sw-category.base.cms.changeLayout') : $tc('sw-category.base.cms.changeLayoutEmpty') }}\n                </sw-button>\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_category_detail_layout_desc_actions_designer %}\n                <sw-button\n                    class=\"sw-category-detail-layout__open-in-pagebuilder\"\n                    size=\"small\"\n                    :disabled=\"!acl.can('category.editor')\"\n                    @click=\"openInPagebuilder\"\n                >\n                    {{ cmsPage ? $tc('sw-category.base.cms.editInPagebuilder') : $tc('sw-category.base.cms.editInPagebuilderEmpty') }}\n                </sw-button>\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_category_detail_layout_desc_actions_remove %}\n                <sw-button\n                    v-if=\"cmsPage\"\n                    size=\"small\"\n                    :disabled=\"!acl.can('category.editor')\"\n                    class=\"sw-category-detail-layout__layout-reset\"\n                    square\n                    @click=\"onLayoutReset\"\n                >\n                    <sw-icon\n                        name=\"regular-trash\"\n                        small\n                    />\n                </sw-button>\n                {% endblock %}\n\n            </div>\n            {% endblock %}\n\n        </div>\n        {% endblock %}\n\n    </div>\n</sw-card>\n{% endblock %}\n","import template from './sw-category-layout-card.html.twig';\nimport './sw-category-layout-card.scss';\n\n/**\n * @package discovery\n */\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: [\n        'acl',\n        'cmsPageTypeService',\n    ],\n\n    props: {\n        category: {\n            type: Object,\n            required: true,\n        },\n\n        cmsPage: {\n            type: Object,\n            required: false,\n            default: null,\n        },\n\n        isLoading: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n\n        pageTypes: {\n            type: Array,\n            required: false,\n            default() {\n                return [\n                    'page',\n                    'landingpage',\n                    'product_list',\n                ];\n            },\n        },\n\n        headline: {\n            type: String,\n            required: false,\n            default: '',\n        },\n    },\n\n    data() {\n        return {\n            showLayoutSelectionModal: false,\n        };\n    },\n\n    computed: {\n        pageTypeTitle() {\n            const fallback = this.$tc('sw-category.base.cms.defaultDesc');\n            if (!this.cmsPage) {\n                return fallback;\n            }\n\n            const pageType = this.cmsPageTypeService.getType(this.cmsPage.type);\n            return pageType ? this.$tc(this.cmsPageTypeService.getType(this.cmsPage.type).title) : fallback;\n        },\n    },\n\n    methods: {\n        onLayoutSelect(selectedLayout) {\n            this.category.cmsPageId = selectedLayout;\n        },\n\n        onLayoutReset() {\n            this.onLayoutSelect(null);\n        },\n\n        openInPagebuilder() {\n            if (!this.cmsPage) {\n                this.$router.push({\n                    name: 'sw.cms.create',\n                    params: { type: 'category', id: this.category.id },\n                });\n            } else {\n                this.$router.push({\n                    name: 'sw.cms.detail',\n                    params: { id: this.category.cmsPageId },\n                });\n            }\n        },\n\n        openLayoutModal() {\n            if (!this.acl.can('category.editor')) {\n                return;\n            }\n\n            this.showLayoutSelectionModal = true;\n        },\n\n        closeLayoutModal() {\n            this.showLayoutSelectionModal = false;\n        },\n    },\n};\n"],"names":["template","index","fallback","selectedLayout"],"mappings":"AAAA,MAAeA,EAAA,ihFCOAC,EAAA,CACX,SAAAD,EAEA,aAAc,OAAO,aAErB,OAAQ,CACJ,MACA,oBACH,EAED,MAAO,CACH,SAAU,CACN,KAAM,OACN,SAAU,EACb,EAED,QAAS,CACL,KAAM,OACN,SAAU,GACV,QAAS,IACZ,EAED,UAAW,CACP,KAAM,QACN,SAAU,GACV,QAAS,EACZ,EAED,UAAW,CACP,KAAM,MACN,SAAU,GACV,SAAU,CACN,MAAO,CACH,OACA,cACA,cACpB,CACa,CACJ,EAED,SAAU,CACN,KAAM,OACN,SAAU,GACV,QAAS,EACZ,CACJ,EAED,MAAO,CACH,MAAO,CACH,yBAA0B,EACtC,CACK,EAED,SAAU,CACN,eAAgB,CACZ,MAAME,EAAW,KAAK,IAAI,kCAAkC,EAC5D,OAAK,KAAK,SAIO,KAAK,mBAAmB,QAAQ,KAAK,QAAQ,IAAI,EAChD,KAAK,IAAI,KAAK,mBAAmB,QAAQ,KAAK,QAAQ,IAAI,EAAE,KAAK,EAJxEA,CAKd,CACJ,EAED,QAAS,CACL,eAAeC,EAAgB,CAC3B,KAAK,SAAS,UAAYA,CAC7B,EAED,eAAgB,CACZ,KAAK,eAAe,IAAI,CAC3B,EAED,mBAAoB,CACX,KAAK,QAMN,KAAK,QAAQ,KAAK,CACd,KAAM,gBACN,OAAQ,CAAE,GAAI,KAAK,SAAS,SAAW,CAC3D,CAAiB,EARD,KAAK,QAAQ,KAAK,CACd,KAAM,gBACN,OAAQ,CAAE,KAAM,WAAY,GAAI,KAAK,SAAS,EAAI,CACtE,CAAiB,CAOR,EAED,iBAAkB,CACT,KAAK,IAAI,IAAI,iBAAiB,IAInC,KAAK,yBAA2B,GACnC,EAED,kBAAmB,CACf,KAAK,yBAA2B,EACnC,CACJ,CACL"}