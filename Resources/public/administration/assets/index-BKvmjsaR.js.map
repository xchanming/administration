{"version":3,"file":"index-BKvmjsaR.js","sources":["../../../app/administration/src/app/asyncComponent/sidebar/sw-help-sidebar/sw-help-sidebar.html.twig","../../../app/administration/src/app/asyncComponent/sidebar/sw-help-sidebar/index.ts"],"sourcesContent":["{% block sw_help_sidebar %}\n<transition\n    v-if=\"showHelpSidebar\"\n    v-bind=\"$attrs\"\n    appear\n    name=\"sw-help-sidebar__fade\"\n>\n    <div\n        class=\"sw-help-sidebar\"\n        role=\"button\"\n        tabindex=\"0\"\n        @mousedown=\"mouseDown\"\n        @keyup.esc=\"escKey\"\n    >\n        <div\n            ref=\"helpSidebarContainer\"\n            class=\"sw-help-sidebar__container\"\n            tabindex=\"-1\"\n        >\n            <div class=\"sw-help-sidebar__header\">\n                <h3 class=\"sw-help-sidebar__headline\">\n                    {{ $tc('help-center.sidebar.title') }}\n                </h3>\n\n                <button\n                    class=\"sw-help-sidebar__button-close\"\n                    :aria-label=\"$tc('help-center.sidebar.ariaLabelButtonClose')\"\n                    @click=\"closeHelpSidebar\"\n                >\n                    <sw-icon\n                        name=\"regular-times-xs\"\n                        size=\"12px\"\n                    />\n                </button>\n            </div>\n\n            <div class=\"sw-help-sidebar__body\">\n                <div class=\"sw-help-sidebar__navigation\">\n                    <sw-extension-component-section\n                        position-identifier=\"sw-help-sidebar__navigation\"\n                    />\n                </div>\n\n                <div class=\"sw-help-sidebar__support\">\n                    <h4 class=\"sw-help-sidebar__support-title\">\n                        {{ $tc('help-center.sidebar.support.title') }}\n                    </h4>\n\n                    {% block sw_help_sidebar_support_content %}\n                    <ul class=\"sw-help-sidebar__support-content\">\n                        {% block sw_help_sidebar_support_documentation %}\n                        <li class=\"sw-help-sidebar__support-item\">\n                            <sw-external-link\n                                class=\"sw-help-sidebar__support-item-link\"\n                                :href=\"$tc('help-center.sidebar.support.documentation.href')\"\n                            >\n                                <sw-icon\n                                    class=\"sw-help-sidebar__support-item-icon\"\n                                    name=\"solid-content\"\n                                    size=\"16px\"\n                                />\n                                {{ $tc('help-center.sidebar.support.documentation.text') }}\n                            </sw-external-link>\n                        </li>\n                        {% endblock %}\n\n                        {% block sw_help_sidebar_support_create_support_request %}\n                        <li class=\"sw-help-sidebar__support-item\">\n                            <sw-external-link\n                                class=\"sw-help-sidebar__support-item-link\"\n                                :href=\"$tc('help-center.sidebar.support.createSupportRequest.href')\"\n                            >\n                                <sw-icon\n                                    class=\"sw-help-sidebar__support-item-icon\"\n                                    name=\"solid-comments\"\n                                    size=\"16px\"\n                                />\n                                {{ $tc('help-center.sidebar.support.createSupportRequest.text') }}\n                            </sw-external-link>\n                        </li>\n                        {% endblock %}\n\n                        {% block sw_help_sidebar_support_placeholder %}\n                        {% endblock %}\n                    </ul>\n                    {% endblock %}\n                </div>\n            </div>\n\n            <div class=\"sw-help-sidebar__footer\">\n                <div class=\"sw-help-sidebar__shortcut\">\n                    <sw-button\n                        v-tooltip=\"{\n                            message: $tc('sw-shortcut-overview.iconTooltip', 0, { key: 'Shift + ?' }),\n                            appearance: 'light',\n                            position: 'top',\n                            zIndex: 1600,\n                        }\"\n                        class=\"sw-help-sidebar__shortcut-button\"\n                        :aria-label=\"$tc('help-center.sidebar.ariaLabelButtonShortcut')\"\n                        @click=\"openShortcutModal\"\n                    >\n                        <sw-icon\n                            name=\"solid-keyboard\"\n                            color=\"#1f262e\"\n                            size=\"16px\"\n                        />\n                        {{ $tc('sw-shortcut-overview.title') }}\n                    </sw-button>\n                </div>\n            </div>\n        </div>\n    </div>\n</transition>\n{% endblock %}\n","import template from './sw-help-sidebar.html.twig';\nimport './sw-help-sidebar.scss';\n\n/**\n * @description Displays the help sidebar\n *\n * @package buyers-experience\n *\n * @private\n */\nexport default Cicada.Component.wrapComponentConfig({\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: ['shortcutService'],\n\n    props: {\n        /**\n         * @description The selector of the element where the sidebar should be appended to\n         * @default body\n         * @type {String}\n         * @required false\n         * @public\n         * @example <sw-help-sidebar selector=\"body\"></sw-help-sidebar>\n         */\n        selector: {\n            type: String,\n            required: false,\n            default: 'body',\n        },\n    },\n\n    computed: {\n        showHelpSidebar(): boolean {\n            return Cicada.State.get('adminHelpCenter').showHelpSidebar;\n        },\n    },\n\n    watch: {\n        $route(): void {\n            this.closeHelpSidebar();\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    mounted() {\n        this.mountedComponent();\n    },\n\n    beforeUnmount() {\n        this.beforeUnmountComponent();\n    },\n\n    unmounted() {\n        this.unmountedComponent();\n    },\n\n    methods: {\n        createdComponent(): void {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-call\n            this.shortcutService.startEventListener();\n        },\n\n        /**\n         * @returns {void}\n         * @description Adds the sidebar to the DOM\n         * @private\n         */\n        mountedComponent(): void {\n            const el = document.querySelector(this.selector) as HTMLElement;\n\n            if (!el) {\n                return;\n            }\n\n            el.appendChild(this.$el);\n            this.setFocusToSidebar();\n        },\n\n        /**\n         * @returns {void}\n         * @description Removes the sidebar from the DOM after the transition is finished\n         * @private\n         */\n        beforeUnmountComponent(): void {\n            const el = this.$el as HTMLElement;\n\n            window.setTimeout(() => {\n                el.remove();\n            }, 800);\n        },\n\n        unmountedComponent(): void {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-member-access, @typescript-eslint/no-unsafe-call\n            this.shortcutService.stopEventListener();\n        },\n\n        setFocusToSidebar(): void {\n            const helpSidebarContainer = this.$refs.helpSidebarContainer as HTMLElement;\n\n            if (!helpSidebarContainer) {\n                return;\n            }\n\n            helpSidebarContainer.focus();\n        },\n\n        /**\n         * @param {MouseEvent} event\n         * @returns {void}\n         * @description Closes the sidebar if the user clicks outside of the sidebar\n         * @private\n         */\n        mouseDown(event: MouseEvent): void {\n            const helpSidebarContainer = this.$refs.helpSidebarContainer as HTMLElement;\n\n            if (!helpSidebarContainer) {\n                return;\n            }\n\n            if (helpSidebarContainer.contains(event.target as Node)) {\n                return;\n            }\n\n            this.closeHelpSidebar();\n        },\n\n        /**\n         * @param {KeyboardEvent} event\n         * @returns {void}\n         * @description Closes the sidebar if the user presses the escape key\n         * @private\n         */\n        escKey(event: KeyboardEvent): void {\n            const target = event.target as HTMLElement;\n\n            if (!target) {\n                return;\n            }\n\n            if (!target.classList.contains('sw-help-sidebar__container')) {\n                return;\n            }\n\n            if (target !== document.activeElement) {\n                return;\n            }\n\n            if (event.key !== 'Escape') {\n                return;\n            }\n\n            this.closeHelpSidebar();\n        },\n\n        closeHelpSidebar(): void {\n            Cicada.State.commit('adminHelpCenter/setShowHelpSidebar', false);\n        },\n\n        openShortcutModal(): void {\n            Cicada.State.commit('adminHelpCenter/setShowShortcutModal', true);\n        },\n    },\n});\n"],"names":["template","index","el","helpSidebarContainer","event","target"],"mappings":"AAAA,MAAeA,EAAA,i8ECUfC,EAAe,OAAO,UAAU,oBAAoB,CAChD,SAAAD,EAEA,aAAc,OAAO,aAErB,OAAQ,CAAC,iBAAiB,EAE1B,MAAO,CASH,SAAU,CACN,KAAM,OACN,SAAU,GACV,QAAS,MACb,CACJ,EAEA,SAAU,CACN,iBAA2B,CACvB,OAAO,OAAO,MAAM,IAAI,iBAAiB,EAAE,eAC/C,CACJ,EAEA,MAAO,CACH,QAAe,CACX,KAAK,iBAAiB,CAC1B,CACJ,EAEA,SAAU,CACN,KAAK,iBAAiB,CAC1B,EAEA,SAAU,CACN,KAAK,iBAAiB,CAC1B,EAEA,eAAgB,CACZ,KAAK,uBAAuB,CAChC,EAEA,WAAY,CACR,KAAK,mBAAmB,CAC5B,EAEA,QAAS,CACL,kBAAyB,CAErB,KAAK,gBAAgB,oBACzB,EAOA,kBAAyB,CACrB,MAAME,EAAK,SAAS,cAAc,KAAK,QAAQ,EAE1CA,IAIFA,EAAA,YAAY,KAAK,GAAG,EACvB,KAAK,kBAAkB,EAC3B,EAOA,wBAA+B,CAC3B,MAAMA,EAAK,KAAK,IAEhB,OAAO,WAAW,IAAM,CACpBA,EAAG,OAAO,GACX,GAAG,CACV,EAEA,oBAA2B,CAEvB,KAAK,gBAAgB,mBACzB,EAEA,mBAA0B,CAChB,MAAAC,EAAuB,KAAK,MAAM,qBAEnCA,GAILA,EAAqB,MAAM,CAC/B,EAQA,UAAUC,EAAyB,CACzB,MAAAD,EAAuB,KAAK,MAAM,qBAEnCA,IAIDA,EAAqB,SAASC,EAAM,MAAc,GAItD,KAAK,iBAAiB,EAC1B,EAQA,OAAOA,EAA4B,CAC/B,MAAMC,EAASD,EAAM,OAEhBC,GAIAA,EAAO,UAAU,SAAS,4BAA4B,GAIvDA,IAAW,SAAS,eAIpBD,EAAM,MAAQ,UAIlB,KAAK,iBAAiB,CAC1B,EAEA,kBAAyB,CACd,OAAA,MAAM,OAAO,qCAAsC,EAAK,CACnE,EAEA,mBAA0B,CACf,OAAA,MAAM,OAAO,uCAAwC,EAAI,CACpE,CACJ,CACJ,CAAC"}