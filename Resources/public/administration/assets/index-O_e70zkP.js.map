{"version":3,"file":"index-O_e70zkP.js","sources":["../../../app/administration/src/module/sw-cms/elements/product-description-reviews/config/sw-cms-el-config-product-description-reviews.html.twig","../../../app/administration/src/module/sw-cms/elements/product-description-reviews/config/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_cms_element_product_description_reviews_config %}\n<div class=\"sw-cms-el-config-product-description-reviews-rating\">\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_cms_element_product_description_reviews_config_tabs %}\n    <sw-tabs\n        position-identifier=\"sw-cms-element-product-description-reviews\"\n        class=\"sw-cms-el-config-product-description-reviews__tabs\"\n        default-item=\"content\"\n    >\n        <template #default=\"{ active }\">\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_cms_element_product_description_reviews_config_tab_content %}\n            <sw-tabs-item\n                name=\"content\"\n                :title=\"$tc('sw-cms.elements.general.config.tab.content')\"\n                :active-tab=\"active\"\n            >\n                {{ $tc('sw-cms.elements.general.config.tab.content') }}\n            </sw-tabs-item>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_cms_element_product_description_reviews_config_tab_options %}\n            <sw-tabs-item\n                name=\"options\"\n                :title=\"$tc('sw-cms.elements.general.config.tab.options')\"\n                :active-tab=\"active\"\n            >\n                {{ $tc('sw-cms.elements.general.config.tab.options') }}\n            </sw-tabs-item>\n            {% endblock %}\n        </template>\n\n        <template #content=\"{ active }\">\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_cms_element_product_description_reviews_config_content %}\n            <sw-container\n                v-if=\"active === 'content'\"\n                class=\"sw-cms-el-config-product-description-reviews-config__tab-content\"\n                :columns=\"'minmax(300px, 1fr)'\"\n            >\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_element_product_description_reviews_warning %}\n                <sw-alert\n                    v-if=\"isProductPage\"\n                    class=\"sw-cms-el-config-buy-box__warning\"\n                    variant=\"info\"\n                >\n                    {{ $tc('sw-cms.elements.productDescriptionReviews.infoText.descriptionAndReviewsElement') }}\n                </sw-alert>\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_element_product_description_reviews_config_product_select %}\n                <sw-entity-single-select\n                    v-if=\"!isProductPage\"\n                    ref=\"cmsProductSelection\"\n                    v-model:value=\"element.config.product.value\"\n                    entity=\"product\"\n                    :label=\"$tc('sw-cms.elements.productBox.config.label.selection')\"\n                    :placeholder=\"$tc('sw-cms.elements.productBox.config.placeholder.selection')\"\n                    :criteria=\"productCriteria\"\n                    :context=\"productSelectContext\"\n                    show-clearable-button\n                    @update:value=\"onProductChange\"\n                >\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_entity_single_select_variant_selected_item %}\n                    <template #selection-label-property=\"{ item }\">\n                        <sw-product-variant-info\n                            :variations=\"item.variation\"\n                        >\n                            {{ item.translated.name || item.name }}\n                        </sw-product-variant-info>\n                    </template>\n                    {% endblock %}\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_entity_single_select_variant_result_item %}\n                    <template #result-item=\"{ item, index }\">\n                        <sw-select-result\n                            v-bind=\"{ item, index }\"\n                        >\n                            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                            {% block sw_entity_single_select_base_results_list_result_label %}\n                            <span class=\"sw-select-result__result-item-text\">\n                                <sw-product-variant-info :variations=\"item.variation\">\n                                    {{ item.translated.name || item.name }}\n                                </sw-product-variant-info>\n                            </span>\n                            {% endblock %}\n                        </sw-select-result>\n                    </template>\n                    {% endblock %}\n                </sw-entity-single-select>\n                {% endblock %}\n            </sw-container>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_cms_el_product_description_rating_config_options %}\n            <sw-container\n                v-if=\"active === 'options'\"\n                class=\"sw-cms-el-config-text__tab-options\"\n            >\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_el_product_description_rating_config_options_alignment %}\n                <sw-select-field\n                    v-model:value=\"element.config.alignment.value\"\n                    :label=\"$tc('sw-cms.elements.general.config.label.alignment')\"\n                    :placeholder=\"$tc('sw-cms.elements.general.config.label.alignment')\"\n                >\n                    <option value=\"flex-start\">\n                        {{ $tc('sw-cms.elements.general.config.label.verticalAlignTop') }}\n                    </option>\n                    <option value=\"center\">\n                        {{ $tc('sw-cms.elements.general.config.label.verticalAlignCenter') }}\n                    </option>\n                    <option value=\"flex-end\">\n                        {{ $tc('sw-cms.elements.general.config.label.verticalAlignBottom') }}\n                    </option>\n                </sw-select-field>\n                {% endblock %}\n            </sw-container>\n            {% endblock %}\n        </template>\n    </sw-tabs>\n    {% endblock %}\n</div>\n{% endblock %}\n","import Criteria from 'src/core/data/criteria.data';\nimport template from './sw-cms-el-config-product-description-reviews.html.twig';\nimport './sw-cms-el-config-product-description-reviews.scss';\n\nconst { Mixin } = Cicada;\n\n/**\n * @private\n * @package discovery\n */\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: ['repositoryFactory'],\n\n    emits: ['element-update'],\n\n    mixins: [\n        Mixin.getByName('cms-element'),\n    ],\n\n    computed: {\n        productRepository() {\n            return this.repositoryFactory.create('product');\n        },\n\n        productSelectContext() {\n            return {\n                ...Cicada.Context.api,\n                inheritance: true,\n            };\n        },\n\n        productCriteria() {\n            const criteria = new Criteria(1, 25);\n            criteria.addAssociation('options.group');\n\n            return criteria;\n        },\n\n        selectedProductCriteria() {\n            const criteria = new Criteria(1, 25);\n            criteria.addAssociation('properties');\n\n            return criteria;\n        },\n\n        isProductPage() {\n            return this.cmsPageState?.currentPage?.type === 'product_detail';\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.initElementConfig('product-description-reviews');\n        },\n\n        onProductChange(productId) {\n            if (!productId) {\n                this.element.config.product.value = null;\n\n                if (this.isCompatEnabled('INSTANCE_SET')) {\n                    this.$set(this.element.data, 'productId', null);\n                    this.$set(this.element.data, 'product', null);\n                } else {\n                    this.element.data.productId = null;\n                    this.element.data.product = null;\n                }\n            } else {\n                this.productRepository\n                    .get(productId, this.productSelectContext, this.selectedProductCriteria)\n                    .then((product) => {\n                        this.element.config.product.value = productId;\n\n                        if (this.isCompatEnabled('INSTANCE_SET')) {\n                            this.$set(this.element.data, 'productId', productId);\n                            this.$set(this.element.data, 'product', product);\n                        } else {\n                            this.element.data.productId = productId;\n                            this.element.data.product = product;\n                        }\n                    });\n            }\n\n            this.$emit('element-update', this.element);\n        },\n    },\n};\n"],"names":["template","Mixin","index","criteria","Criteria","_b","_a","productId","product"],"mappings":"+EAAA,MAAeA,EAAA,igHCIT,CAAE,MAAAC,CAAO,EAAG,OAMHC,EAAA,CACX,SAAAF,EAEA,aAAc,OAAO,aAErB,OAAQ,CAAC,mBAAmB,EAE5B,MAAO,CAAC,gBAAgB,EAExB,OAAQ,CACJC,EAAM,UAAU,aAAa,CAChC,EAED,SAAU,CACN,mBAAoB,CAChB,OAAO,KAAK,kBAAkB,OAAO,SAAS,CACjD,EAED,sBAAuB,CACnB,MAAO,CACH,GAAG,OAAO,QAAQ,IAClB,YAAa,EAC7B,CACS,EAED,iBAAkB,CACd,MAAME,EAAW,IAAIC,EAAS,EAAG,EAAE,EACnC,OAAAD,EAAS,eAAe,eAAe,EAEhCA,CACV,EAED,yBAA0B,CACtB,MAAMA,EAAW,IAAIC,EAAS,EAAG,EAAE,EACnC,OAAAD,EAAS,eAAe,YAAY,EAE7BA,CACV,EAED,eAAgB,SACZ,QAAOE,GAAAC,EAAA,KAAK,eAAL,YAAAA,EAAmB,cAAnB,YAAAD,EAAgC,QAAS,gBACnD,CACJ,EAED,SAAU,CACN,KAAK,iBAAgB,CACxB,EAED,QAAS,CACL,kBAAmB,CACf,KAAK,kBAAkB,6BAA6B,CACvD,EAED,gBAAgBE,EAAW,CAClBA,EAWD,KAAK,kBACA,IAAIA,EAAW,KAAK,qBAAsB,KAAK,uBAAuB,EACtE,KAAMC,GAAY,CACf,KAAK,QAAQ,OAAO,QAAQ,MAAQD,EAEhC,KAAK,gBAAgB,cAAc,GACnC,KAAK,KAAK,KAAK,QAAQ,KAAM,YAAaA,CAAS,EACnD,KAAK,KAAK,KAAK,QAAQ,KAAM,UAAWC,CAAO,IAE/C,KAAK,QAAQ,KAAK,UAAYD,EAC9B,KAAK,QAAQ,KAAK,QAAUC,EAExD,CAAqB,GAtBL,KAAK,QAAQ,OAAO,QAAQ,MAAQ,KAEhC,KAAK,gBAAgB,cAAc,GACnC,KAAK,KAAK,KAAK,QAAQ,KAAM,YAAa,IAAI,EAC9C,KAAK,KAAK,KAAK,QAAQ,KAAM,UAAW,IAAI,IAE5C,KAAK,QAAQ,KAAK,UAAY,KAC9B,KAAK,QAAQ,KAAK,QAAU,OAkBpC,KAAK,MAAM,iBAAkB,KAAK,OAAO,CAC5C,CACJ,CACL"}