import{C as r}from"./index-UoIeQ8lD.js";import"./administration-d9Z5Qnc-.js";import"./channel-Cvr-E4M4.js";import"./main-BVD2thQ1.js";import"./user-config.class-N_oi0Wh7.js";import"./store-BoTaGDaZ.js";const c='{% block sw_cms_element_image %} <div class="sw-cms-el-image" :style="horizontalAlign" > <div class="sw-cms-el-image__content" :class="displayModeClass" :style="styles" > {% block sw_cms_element_image_content %} <img :src="mediaUrl" :style="imgStyles" alt="" > {% endblock %} </div> </div> {% endblock %}',{Mixin:u,Filter:d}=Shopware,C={template:c,inject:["feature"],mixins:[u.getByName("cms-element")],computed:{displayModeClass(){return this.element.config.displayMode.value==="standard"?null:`is--${this.element.config.displayMode.value}`},styles(){return{"min-height":this.element.config.displayMode.value==="cover"&&this.element.config.minHeight.value&&this.element.config.minHeight.value!==0?this.element.config.minHeight.value:"340px"}},imgStyles(){return{"align-self":this.element.config.verticalAlign.value||null}},horizontalAlign(){var e;return{"justify-content":((e=this.element.config.horizontalAlign)==null?void 0:e.value)||null}},mediaUrl(){var a;const e=r.MEDIA.previewMountain.slice(r.MEDIA.previewMountain.lastIndexOf("/")+1),i=this.assetFilter(`administration/static/img/cms/${e}`),t=this.element.data.media,n=this.element.config.media;if(n.source==="mapped"){const s=this.getDemoValue(n.value);return s!=null&&s.url?s.url:i}if(n.source==="default"){const s=((a=n.value)==null?void 0:a.slice(n.value.lastIndexOf("/")+1))??"";return this.assetFilter(`/administration/static/img/cms/${s}`)}return t!=null&&t.id?this.element.data.media.url:t!=null&&t.url?this.assetFilter(n.url):i},assetFilter(){return d.getByName("asset")},mediaConfigValue(){var e,i,t;return(t=(i=(e=this.element)==null?void 0:e.config)==null?void 0:i.media)==null?void 0:t.value}},watch:{"cmsPageState.currentDemoEntity":{handler(){this.updateDemoValue(this.mediaConfigValue)}},mediaConfigValue(e){this.updateDemoValue(e)}},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("image"),this.initElementData("image")},updateDemoValue(e){var n,a,s,l,m,o;const i=(s=(a=(n=this.element)==null?void 0:n.data)==null?void 0:a.media)==null?void 0:s.id;((o=(m=(l=this.element)==null?void 0:l.config)==null?void 0:m.media)==null?void 0:o.source)==="static"&&i&&e!==i&&(this.element.config.media.value=i)}}};export{C as default};
