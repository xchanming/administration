{"version":3,"file":"index-DelI6sU-.js","sources":["../../../app/administration/src/app/component/base/sw-avatar/sw-avatar.html.twig","../../../app/administration/src/app/component/base/sw-avatar/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_avatar %}\n<span\n    ref=\"swAvatar\"\n    class=\"sw-avatar\"\n    :class=\"'sw-avatar__' + variant\"\n    :style=\"[avatarImage, avatarColor, avatarSize, avatarInitialsSize]\"\n    role=\"img\"\n>\n    <slot>\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_avatar_slot_imageUrl %}\n        <span\n            v-if=\"showInitials\"\n            class=\"sw-avatar__initials\"\n        >\n            {{ avatarInitials }}\n        </span>\n        {% endblock %}\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_avatar_slot_placeholder %}\n        <span v-if=\"showPlaceholder\">\n            <sw-icon name=\"regular-user\" />\n        </span>\n        {% endblock %}\n    </slot>\n</span>\n{% endblock %}\n","import template from './sw-avatar.html.twig';\nimport './sw-avatar.scss';\n\nconst { Component } = Cicada;\nconst { cloneDeep } = Cicada.Utils.object;\n\nconst colors = [\n    '#FFD700',\n    '#FFC700',\n    '#F88962',\n    '#F56C46',\n    '#FF85C2',\n    '#FF68AC',\n    '#6AD6F0',\n    '#4DC6E9',\n    '#A092F0',\n    '#8475E9',\n    '#57D9A3',\n    '#3CCA88',\n];\n\n/**\n * @package admin\n *\n * @private\n * @description The component helps adding a custom user image or initials to the administration.\n * @status ready\n * @example-type static\n * @component-example\n * <div style=\"display: flex; align-items: center;\">\n * <sw-avatar color=\"#dd4800\"\n *            size=\"48px\"\n *            name=\"John\"\n *            style=\"margin: 0 10px;\"\n *            ></sw-avatar>\n *\n * <sw-avatar size=\"48px\"\n *            imageUrl=\"https://randomuser.me/api/portraits/women/68.jpg\"></sw-avatar>\n * </div>\n *\n * <sw-avatar size=\"48px\"\n *            imageUrl=\"https://randomuser.me/api/portraits/men/68.jpg\"\n *            :sourceContext=\"user\"></sw-avatar>\n * </div>\n */\nComponent.register('sw-avatar', {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    props: {\n        color: {\n            type: String,\n            required: false,\n            default: '',\n        },\n        size: {\n            type: String,\n            required: false,\n            default: null,\n        },\n        name: {\n            type: String,\n            required: false,\n            default: '',\n        },\n        imageUrl: {\n            type: String,\n            required: false,\n            default: null,\n        },\n        placeholder: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n        sourceContext: {\n            type: Object,\n            required: false,\n            default: null,\n        },\n        variant: {\n            type: String,\n            required: false,\n            default: 'circle',\n            validator: (value) => {\n                return [\n                    'circle',\n                    'square',\n                ].includes(value);\n            },\n        },\n    },\n\n    data() {\n        return {\n            fontSize: 16,\n            lineHeight: 16,\n        };\n    },\n\n    computed: {\n        avatarSize() {\n            const size = this.size;\n\n            return {\n                width: size,\n                height: size,\n            };\n        },\n\n        avatarInitials() {\n            return this.name ? this.name[0] : '';\n        },\n\n        avatarInitialsSize() {\n            return {\n                'font-size': `${this.fontSize}px`,\n                'line-height': `${this.lineHeight}px`,\n            };\n        },\n\n        avatarImage() {\n            if (this.imageUrl) {\n                return { 'background-image': `url('${this.imageUrl}')` };\n            }\n\n            if (!this.sourceContext || !this.sourceContext.avatarMedia || !this.sourceContext.avatarMedia.url) {\n                return null;\n            }\n\n            const avatarMedia = cloneDeep(this.sourceContext.avatarMedia);\n            const thumbnailImage = avatarMedia.thumbnails.sort((a, b) => a.width - b.width)[0];\n            const previewImageUrl = thumbnailImage ? thumbnailImage.url : avatarMedia.url;\n\n            return { 'background-image': `url('${previewImageUrl}')` };\n        },\n\n        avatarColor() {\n            if (this.color.length) {\n                return {\n                    'background-color': this.color,\n                };\n            }\n\n            const nameLength = this.name ? this.name.length : 0;\n            const color = colors[nameLength % colors.length];\n\n            return {\n                'background-color': color,\n            };\n        },\n\n        hasAvatarImage() {\n            return !!this.avatarImage && !!this.avatarImage['background-image'];\n        },\n\n        showPlaceholder() {\n            return this.placeholder && !this.hasAvatarImage;\n        },\n\n        showInitials() {\n            return !this.placeholder && !this.hasAvatarImage;\n        },\n    },\n\n    watch: {\n        size() {\n            this.$nextTick(() => {\n                this.generateAvatarInitialsSize();\n            });\n        },\n    },\n\n    mounted() {\n        this.mountedComponent();\n    },\n\n    methods: {\n        mountedComponent() {\n            this.generateAvatarInitialsSize();\n        },\n\n        generateAvatarInitialsSize() {\n            const avatarSize = this.$refs.swAvatar.offsetHeight;\n\n            this.fontSize = Math.round(avatarSize * 0.4);\n            this.lineHeight = Math.round(avatarSize * 0.98);\n        },\n    },\n});\n"],"names":["template","Component","cloneDeep","colors","value","size","avatarMedia","thumbnailImage","a","b","nameLength","avatarSize"],"mappings":"AAAA,MAAeA,EAAA,2dCGT,CAAE,UAAAC,CAAW,EAAG,OAChB,CAAE,UAAAC,CAAW,EAAG,OAAO,MAAM,OAE7BC,EAAS,CACX,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,UACA,SACJ,EA0BAF,EAAU,SAAS,YAAa,CAC5B,SAAAD,EAEA,aAAc,OAAO,aAErB,MAAO,CACH,MAAO,CACH,KAAM,OACN,SAAU,GACV,QAAS,EACZ,EACD,KAAM,CACF,KAAM,OACN,SAAU,GACV,QAAS,IACZ,EACD,KAAM,CACF,KAAM,OACN,SAAU,GACV,QAAS,EACZ,EACD,SAAU,CACN,KAAM,OACN,SAAU,GACV,QAAS,IACZ,EACD,YAAa,CACT,KAAM,QACN,SAAU,GACV,QAAS,EACZ,EACD,cAAe,CACX,KAAM,OACN,SAAU,GACV,QAAS,IACZ,EACD,QAAS,CACL,KAAM,OACN,SAAU,GACV,QAAS,SACT,UAAYI,GACD,CACH,SACA,QACpB,EAAkB,SAASA,CAAK,CAEvB,CACJ,EAED,MAAO,CACH,MAAO,CACH,SAAU,GACV,WAAY,EACxB,CACK,EAED,SAAU,CACN,YAAa,CACT,MAAMC,EAAO,KAAK,KAElB,MAAO,CACH,MAAOA,EACP,OAAQA,CACxB,CACS,EAED,gBAAiB,CACb,OAAO,KAAK,KAAO,KAAK,KAAK,CAAC,EAAI,EACrC,EAED,oBAAqB,CACjB,MAAO,CACH,YAAa,GAAG,KAAK,QAAQ,KAC7B,cAAe,GAAG,KAAK,UAAU,IACjD,CACS,EAED,aAAc,CACV,GAAI,KAAK,SACL,MAAO,CAAE,mBAAoB,QAAQ,KAAK,QAAQ,MAGtD,GAAI,CAAC,KAAK,eAAiB,CAAC,KAAK,cAAc,aAAe,CAAC,KAAK,cAAc,YAAY,IAC1F,OAAO,KAGX,MAAMC,EAAcJ,EAAU,KAAK,cAAc,WAAW,EACtDK,EAAiBD,EAAY,WAAW,KAAK,CAACE,EAAGC,IAAMD,EAAE,MAAQC,EAAE,KAAK,EAAE,CAAC,EAGjF,MAAO,CAAE,mBAAoB,QAFLF,EAAiBA,EAAe,IAAMD,EAAY,GAEtB,IAAI,CAC3D,EAED,aAAc,CACV,GAAI,KAAK,MAAM,OACX,MAAO,CACH,mBAAoB,KAAK,KAC7C,EAGY,MAAMI,EAAa,KAAK,KAAO,KAAK,KAAK,OAAS,EAGlD,MAAO,CACH,mBAHUP,EAAOO,EAAaP,EAAO,MAAM,CAI3D,CACS,EAED,gBAAiB,CACb,MAAO,CAAC,CAAC,KAAK,aAAe,CAAC,CAAC,KAAK,YAAY,kBAAkB,CACrE,EAED,iBAAkB,CACd,OAAO,KAAK,aAAe,CAAC,KAAK,cACpC,EAED,cAAe,CACX,MAAO,CAAC,KAAK,aAAe,CAAC,KAAK,cACrC,CACJ,EAED,MAAO,CACH,MAAO,CACH,KAAK,UAAU,IAAM,CACjB,KAAK,2BAA0B,CAC/C,CAAa,CACJ,CACJ,EAED,SAAU,CACN,KAAK,iBAAgB,CACxB,EAED,QAAS,CACL,kBAAmB,CACf,KAAK,2BAA0B,CAClC,EAED,4BAA6B,CACzB,MAAMQ,EAAa,KAAK,MAAM,SAAS,aAEvC,KAAK,SAAW,KAAK,MAAMA,EAAa,EAAG,EAC3C,KAAK,WAAa,KAAK,MAAMA,EAAa,GAAI,CACjD,CACJ,CACL,CAAC"}