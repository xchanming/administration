{"version":3,"file":"index-ClEmtveq.js","sources":["../../../app/administration/src/module/sw-bulk-edit/page/sw-bulk-edit-product/sw-bulk-edit-product.html.twig","../../../app/administration/src/module/sw-bulk-edit/page/sw-bulk-edit-product/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_bulk_edit_product %}\n<sw-page\n    :class=\"{\n        'sw-bulk-edit-product': true,\n        'is--variant': isChild,\n    }\"\n>\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_bulk_edit_product_search_bar %}\n    <template #search-bar>\n        <sw-search-bar />\n    </template>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_bulk_edit_product_smart_bar_back %}\n    <template #smart-bar-back>\n        <router-link\n            v-if=\"isChild\"\n            class=\"smart-bar__back-btn\"\n            :to=\"{ name: 'sw.product.detail.variants', params: { id: $route.params.parentId } }\"\n            :style=\"{ 'color': $route.meta.$module?.color }\"\n        >\n            <sw-icon\n                name=\"regular-chevron-left\"\n                small\n            />\n        </router-link>\n    </template>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_bulk_edit_product_smart_bar_header %}\n    <template #smart-bar-header>\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_bulk_edit_product_smart_bar_header_title %}\n        <h2>\n            {{ isChild\n            ? $tc('sw-bulk-edit.variant.textTitle', selectedIds.length, { variantTotal: selectedIds.length })\n            : $tc('sw-bulk-edit.product.textTitle', selectedIds.length, { productTotal: selectedIds.length })\n            }}\n        </h2>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_bulk_edit_product_content_language_switch %}\n    <template #language-switch>\n        <sw-language-switch @on-change=\"onChangeLanguage\" />\n    </template>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_bulk_edit_product_content_smart_bar_actions %}\n    <template #smart-bar-actions>\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_bulk_edit_product_actions_save %}\n        <sw-button-process\n            class=\"sw-bulk-edit-product__save-action\"\n            variant=\"primary\"\n            :is-loading=\"isLoading\"\n            :process-success=\"isSaveSuccessful\"\n            :disabled=\"isLoading || !hasSelectedChanges || undefined\"\n            @click=\"openModal\"\n        >\n            {{ $tc('sw-bulk-edit.applyChanges') }}\n        </sw-button-process>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_bulk_edit_product_content %}\n    <template #content>\n        <sw-card-view v-if=\"selectedIds.length > 0 && isLoadedData\">\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_bulk_edit_product_content_inheritance_card %}\n            <sw-card\n                v-if=\"isChild\"\n                class=\"sw-bulk-edit-product__inheritance\"\n                position-identifier=\"sw-bulk-edit-product-inheritance\"\n            >\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_bulk_edit_product_content_inheritance_alert %}\n                <sw-alert variant=\"info\">\n                    <template #customIcon>\n                        <div class=\"sw-bulk-edit-product__inheritance-icon\">\n                            <sw-icon\n                                name=\"regular-link\"\n                                color=\"#7363e5\"\n                                size=\"16\"\n                            />\n                        </div>\n                    </template>\n                    <template #default>\n                        {{ $tc('sw-bulk-edit.product.alertInheritance.message') }}\n                    </template>\n                </sw-alert>\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            <sw-card\n                v-if=\"restrictedFields.length\"\n                class=\"sw-bulk-edit-product__restricted-fields\"\n                position-identifier=\"sw-bulk-edit-product-restricted-fields\"\n            >\n                <sw-alert\n                    :title=\"$tc('sw-bulk-edit.product.alertRestrictedFields.title')\"\n                    variant=\"warning\"\n                >\n                    <span v-html=\"$tc('sw-bulk-edit.product.alertRestrictedFields.message')\"></span>\n                    <ul>\n                        <li\n                            v-for=\"(restrictedField, index) in restrictedFields\"\n                            :key=\"index\"\n                        >\n                            {{ $tc(`sw-bulk-edit.product.alertRestrictedFields.${restrictedField}`) }}\n                        </li>\n                    </ul>\n                </sw-alert>\n            </sw-card>\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_bulk_edit_product_content_gereral_information_card %}\n            <sw-card\n                class=\"sw-bulk-edit-product-base__info\"\n                position-identifier=\"sw-bulk-edit-product-info\"\n                :title=\"$tc('sw-bulk-edit.product.generalInformation.cardTitle')\"\n            >\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_bulk_edit_product_content_gereral_information %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields=\"generalFormFields\"\n                    :bulk-edit-data=\"bulkEditProduct\"\n                    :entity=\"product\"\n                    @inheritance-restore=\"onInheritanceRestore\"\n                    @inheritance-remove=\"onInheritanceRemove\"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_bulk_edit_product_content_prices_card %}\n            <sw-card\n                class=\"sw-bulk-edit-product-base__prices\"\n                position-identifier=\"sw-bulk-edit-product-prices\"\n                :title=\"$tc('sw-bulk-edit.product.prices.cardTitle')\"\n            >\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_bulk_edit_product_content_prices %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields=\"pricesFormFields\"\n                    :bulk-edit-data=\"bulkEditProduct\"\n                    :entity=\"product\"\n                    @change-value=\"onChangePrices\"\n                    @inheritance-restore=\"onInheritanceRestore\"\n                    @inheritance-remove=\"onInheritanceRemove\"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_bulk_edit_product_content_advanced_prices_card %}\n            <sw-card\n                class=\"sw-bulk-edit-product-base__advanced-prices\"\n                position-identifier=\"sw-bulk-edit-product-advanced-prices\"\n                :title=\"$tc('sw-bulk-edit.product.advancedPrices.cardTitle')\"\n            >\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_bulk_edit_product_content_advanced_prices %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields=\"advancedPricesFormFields\"\n                    :bulk-edit-data=\"bulkEditProduct\"\n                    :entity=\"product\"\n                >\n                    <template #valueFieldWithBoxType=\"{ formField, entity, index }\">\n                        <sw-inheritance-switch\n                            v-if=\"isChild\"\n                            :is-inherited=\"bulkEditProduct[formField.name].isInherited\"\n                            @inheritance-restore=\"onInheritanceRestore(formField)\"\n                            @inheritance-remove=\"onInheritanceRemove(formField)\"\n                        />\n\n                        <a\n                            v-if=\"['add', 'overwrite'].includes(bulkEditProduct[formField.name].type)\"\n                            :class=\"{ 'is--disabled': !!bulkEditProduct[formField.name].isInherited }\"\n                            class=\"sw-card__quick-link\"\n                            role=\"link\"\n                            tabindex=\"0\"\n                            @click=\"displayAdvancePricesModal = true\"\n                            @keydown.enter=\"displayAdvancePricesModal = true\"\n                        >\n                            {{ $tc('sw-bulk-edit.product.advancedPrices.newAdvancedPrices', 0, { count: entity[formField.name] ? Object.keys(priceRuleGroups).length : 0 }) }}\n                            <sw-icon\n                                name=\"regular-long-arrow-right\"\n                                small\n                            />\n                        </a>\n\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_bulk_edit_product_content_advanced_prices_rule_selection %}\n                        <sw-entity-multi-select\n                            v-else-if=\"bulkEditProduct[formField.name].type === 'remove'\"\n                            class=\"sw-bulk-edit-product-base__advanced-prices-selection\"\n                            :placeholder=\"$tc('sw-bulk-edit.product.advancedPrices.selectRule')\"\n                            :criteria=\"ruleCriteria\"\n                            entity-name=\"rule\"\n                            :entity-collection=\"!!bulkEditProduct[formField.name].isInherited ? [] : entity[formField.name]\"\n                            :disabled=\"!!bulkEditProduct[formField.name].isInherited || undefined\"\n                            @update:entity-collection=\"onRuleChange\"\n                        >\n                            <template #selection-label-property=\"{ item }\">\n                                {{ item.ruleName }}\n                            </template>\n\n                            <template #result-item=\"{ item, index, labelProperty, isSelected, addItem, getKey }\">\n                                <sw-select-result\n                                    :selected=\"isSelected(item)\"\n                                    :disabled=\"!!priceRuleGroups[item.id] || undefined\"\n                                    v-bind=\"{ item, index }\"\n                                    @item-select=\"addItem\"\n                                >\n                                    {{ getKey(item,labelProperty) || getKey(item, `translated.${labelProperty}`) }}\n                                </sw-select-result>\n                            </template>\n                        </sw-entity-multi-select>\n                        {% endblock %}\n                    </template>\n                </sw-bulk-edit-change-type-field-renderer>\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_bulk_edit_product_content_advanced_prices_modal %}\n                <sw-modal\n                    v-if=\"displayAdvancePricesModal\"\n                    class=\"sw-bulk-edit-product-content-advanced-prices-modal\"\n                    variant=\"large\"\n                    :title=\"$tc('sw-bulk-edit.product.advancedPrices.cardTitle')\"\n                    @modal-close=\"displayAdvancePricesModal = false\"\n                >\n                    <sw-product-detail-context-prices\n                        :is-set-default-price=\"true\"\n                        :can-set-loading-rules=\"false\"\n                    />\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_bulk_edit_product_content_advanced_prices_modal_footer %}\n                    <template #modal-footer>\n                        <slot name=\"sw-bulk-edit-modal-cancel\">\n                            <sw-button\n                                size=\"small\"\n                                @click=\"displayAdvancePricesModal = false\"\n                            >\n                                {{ $tc('global.default.close') }}\n                            </sw-button>\n                        </slot>\n                    </template>\n                    {% endblock %}\n                </sw-modal>\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_bulk_edit_product_content_property_card %}\n            <sw-card\n                class=\"sw-bulk-edit-product-base__property\"\n                position-identifier=\"sw-bulk-edit-product-property\"\n                :title=\"$tc('sw-bulk-edit.product.property.cardTitle')\"\n            >\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_bulk_edit_product_content_property %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields=\"propertyFormFields\"\n                    :bulk-edit-data=\"bulkEditProduct\"\n                    :entity=\"product\"\n                    @inheritance-restore=\"onInheritanceRestore\"\n                    @inheritance-remove=\"onInheritanceRemove\"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_bulk_edit_product_content_deliverability_card %}\n            <sw-card\n                class=\"sw-bulk-edit-product-base__deliverability\"\n                position-identifier=\"sw-bulk-edit-product-deliverability\"\n                :title=\"$tc('sw-bulk-edit.product.deliverability.cardTitle')\"\n            >\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_bulk_edit_product_content_deliverability %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields=\"deliverabilityFormFields\"\n                    :bulk-edit-data=\"bulkEditProduct\"\n                    :entity=\"product\"\n                    @inheritance-restore=\"onInheritanceRestore\"\n                    @inheritance-remove=\"onInheritanceRemove\"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_bulk_edit_product_content_assignments_card %}\n            <sw-card\n                class=\"sw-bulk-edit-product-base__assignment\"\n                position-identifier=\"sw-bulk-edit-product-assignment\"\n                :title=\"$tc('sw-bulk-edit.product.assignment.cardTitle')\"\n            >\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_bulk_edit_product_content_assignments %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields=\"assignmentFormFields\"\n                    :bulk-edit-data=\"bulkEditProduct\"\n                    :entity=\"product\"\n                    @inheritance-restore=\"onInheritanceRestore\"\n                    @inheritance-remove=\"onInheritanceRemove\"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_bulk_edit_product_content_media_card %}\n            <sw-card\n                class=\"sw-bulk-edit-product-base__media\"\n                position-identifier=\"sw-bulk-edit-product-media\"\n                :title=\"$tc('sw-bulk-edit.product.media.cardTitle')\"\n            >\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block media %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields=\"mediaFormFields\"\n                    :bulk-edit-data=\"bulkEditProduct\"\n                    :entity=\"product\"\n                    @inheritance-restore=\"onInheritanceRestore\"\n                    @inheritance-remove=\"onInheritanceRemove\"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_bulk_edit_product_content_labelling_card %}\n            <sw-card\n                class=\"sw-bulk-edit-product-base__labelling\"\n                position-identifier=\"sw-bulk-edit-product-labelling\"\n                :title=\"$tc('sw-bulk-edit.product.labelling.cardTitle')\"\n            >\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_bulk_edit_product_content_labelling %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields=\"labellingFormFields\"\n                    :bulk-edit-data=\"bulkEditProduct\"\n                    :entity=\"product\"\n                    @inheritance-restore=\"onInheritanceRestore\"\n                    @inheritance-remove=\"onInheritanceRemove\"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_bulk_edit_product_content_seo_card %}\n            <sw-card\n                class=\"sw-bulk-edit-product-base__seo\"\n                position-identifier=\"sw-bulk-edit-product-seo\"\n                :title=\"$tc('sw-bulk-edit.product.seo.cardTitle')\"\n            >\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_bulk_edit_product_content_seo %}\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields=\"seoFormFields\"\n                    :bulk-edit-data=\"bulkEditProduct\"\n                    :entity=\"product\"\n                    @inheritance-restore=\"onInheritanceRestore\"\n                    @inheritance-remove=\"onInheritanceRemove\"\n                />\n                {% endblock %}\n            </sw-card>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_bulk_edit_product_content_meansures_packaging_card %}\n            <sw-card\n                class=\"sw-bulk-edit-product-base__measures\"\n                position-identifier=\"sw-bulk-edit-product-measures\"\n                :title=\"$tc('sw-bulk-edit.product.measuresAndPackaging.cardTitle')\"\n            >\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields=\"measuresPackagingFields\"\n                    :bulk-edit-data=\"bulkEditProduct\"\n                    :entity=\"product\"\n                    @inheritance-restore=\"onInheritanceRestore\"\n                    @inheritance-remove=\"onInheritanceRemove\"\n                />\n            </sw-card>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_bulk_edit_product_content_essential_card %}\n            <sw-card\n                class=\"sw-bulk-edit-product-base___essential\"\n                position-identifier=\"sw-bulk-edit-product-essential\"\n                :title=\"$tc('sw-bulk-edit.product.featureSets.cardTitle')\"\n            >\n                <sw-bulk-edit-change-type-field-renderer\n                    :form-fields=\"essentialCharacteristicsFormFields\"\n                    :bulk-edit-data=\"bulkEditProduct\"\n                    :entity=\"product\"\n                    @inheritance-restore=\"onInheritanceRestore\"\n                    @inheritance-remove=\"onInheritanceRemove\"\n                />\n            </sw-card>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_bulk_edit_product_content_meansures_custom_field_card %}\n            <sw-card\n                v-if=\"customFieldSets.length > 0\"\n                class=\"sw-bulk-edit-product-base__custom_fields\"\n                position-identifier=\"sw-bulk-edit-product-custom-fields\"\n                :title=\"$tc('sw-bulk-edit.product.customFields.cardTitle')\"\n            >\n                <sw-bulk-edit-custom-fields\n                    class=\"sw-bulk-edit__custom-fields\"\n                    :sets=\"customFieldSets\"\n                    :entity=\"product\"\n                    :parent-entity=\"parentProduct\"\n                    @change=\"onCustomFieldsChange\"\n                />\n            </sw-card>\n            {% endblock %}\n        </sw-card-view>\n        <sw-empty-state\n            v-if=\"!isLoading && selectedIds.length == 0\"\n            :title=\"$tc('sw-bulk-edit.product.messageEmptyTitle')\"\n            :subline=\"$tc('sw-bulk-edit.product.messageEmptySubline')\"\n        />\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_bulk_edit_product_save_modal %}\n        <router-view\n            v-slot=\"{ Component }\"\n        >\n            <component\n                :is=\"Component\"\n                :item-total=\"selectedIds.length\"\n                :is-loading=\"isLoading\"\n                :process-status=\"processStatus\"\n                @modal-close=\"closeModal\"\n                @bulk-save=\"onSave\"\n            />\n        </router-view>\n        {% endblock %}\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}\n","import template from './sw-bulk-edit-product.html.twig';\nimport './sw-bulk-edit-product.scss';\nimport swProductDetailState from '../../../sw-product/page/sw-product-detail/state';\n\nconst { Component, Context } = Cicada;\nconst { Criteria } = Cicada.Data;\nconst { types } = Cicada.Utils;\nconst { chunk } = Cicada.Utils.array;\nconst { mapState, mapGetters } = Component.getComponentHelper();\nconst { cloneDeep } = Cicada.Utils.object;\n\n/**\n * @package services-settings\n */\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: [\n        'feature',\n        'bulkEditApiFactory',\n        'repositoryFactory',\n    ],\n\n    data() {\n        return {\n            isLoading: false,\n            isLoadedData: false,\n            isSaveSuccessful: false,\n            displayAdvancePricesModal: false,\n            isDisabledListPrice: true,\n            isDisabledRegulationPrice: true,\n            bulkEditProduct: {},\n            bulkEditSelected: [],\n            taxRate: {},\n            currency: {},\n            customFieldSets: [],\n            processStatus: '',\n            rules: [],\n            parentProductFrozen: null,\n            isComponentMounted: true,\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        ...mapState('swProductDetail', [\n            'product',\n            'parentProduct',\n            'taxes',\n        ]),\n\n        ...mapGetters('swProductDetail', [\n            'defaultCurrency',\n            'defaultPrice',\n        ]),\n\n        selectedIds() {\n            return Cicada.State.get('cicadaApps').selectedIds;\n        },\n\n        customFieldSetRepository() {\n            return this.repositoryFactory.create('custom_field_set');\n        },\n\n        currencyRepository() {\n            return this.repositoryFactory.create('currency');\n        },\n\n        taxRepository() {\n            return this.repositoryFactory.create('tax');\n        },\n\n        productRepository() {\n            return this.repositoryFactory.create('product');\n        },\n\n        hasSelectedChanges() {\n            return Object.values(this.bulkEditProduct).some((field) => field.isChanged) || this.bulkEditSelected.length > 0;\n        },\n\n        customFieldSetCriteria() {\n            const criteria = new Criteria(1, null);\n\n            criteria.addFilter(Criteria.equals('relations.entityName', 'product'));\n\n            return criteria;\n        },\n\n        /** @deprecated tag:v6.7.0 - Will be removed. */\n        currencyCriteria() {\n            return new Criteria(1, 25).addSorting(Criteria.sort('name', 'ASC'));\n        },\n\n        taxCriteria() {\n            const criteria = new Criteria(1, 500);\n            criteria.addSorting(Criteria.sort('position'));\n\n            return criteria;\n        },\n\n        productCriteria() {\n            const criteria = new Criteria(1, 25);\n\n            criteria.getAssociation('media').addSorting(Criteria.sort('position', 'ASC'));\n\n            criteria.getAssociation('properties').addSorting(Criteria.sort('name', 'ASC', true));\n\n            criteria.getAssociation('prices').addSorting(Criteria.sort('quantityStart', 'ASC', true));\n\n            criteria.getAssociation('tags').addSorting(Criteria.sort('name', 'ASC'));\n\n            criteria.getAssociation('seoUrls').addFilter(Criteria.equals('isCanonical', true));\n\n            criteria\n                .getAssociation('crossSellings')\n                .addSorting(Criteria.sort('position', 'ASC'))\n                .getAssociation('assignedProducts')\n                .addSorting(Criteria.sort('position', 'ASC'))\n                .addAssociation('product')\n                .getAssociation('product')\n                .addAssociation('options.group');\n\n            criteria\n                .addAssociation('cover')\n                .addAssociation('categories')\n                .addAssociation('visibilities.salesChannel')\n                .addAssociation('options')\n                .addAssociation('configuratorSettings.option')\n                .addAssociation('unit')\n                .addAssociation('productReviews')\n                .addAssociation('seoUrls')\n                .addAssociation('mainCategories')\n                .addAssociation('options.group')\n                .addAssociation('customFieldSets')\n                .addAssociation('featureSet')\n                .addAssociation('cmsPage')\n                .addAssociation('featureSet');\n\n            criteria.getAssociation('manufacturer').addAssociation('media');\n\n            return criteria;\n        },\n\n        isChild() {\n            return this.$route.params.parentId !== 'null';\n        },\n\n        restrictedFields() {\n            let restrictedFields = [];\n            const includesDigital = this.$route.params.includesDigital;\n\n            if (includesDigital === '1' || includesDigital === '2') {\n                restrictedFields = [\n                    'isCloseout',\n                    'restockTime',\n                    'maxPurchase',\n                    'purchaseSteps',\n                    'minPurchase',\n                    'shippingFree',\n                ];\n            }\n            if (includesDigital === '1') {\n                restrictedFields.push('stock');\n            }\n\n            return restrictedFields;\n        },\n\n        generalFormFields() {\n            return [\n                {\n                    name: 'description',\n                    type: 'html',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-bulk-edit-product-description',\n                        changeLabel: this.$tc('sw-bulk-edit.product.generalInformation.description.changeLabel'),\n                        disabled: this.bulkEditProduct?.description?.isInherited,\n                    },\n                },\n                {\n                    name: 'manufacturerId',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-entity-single-select',\n                        entity: 'product_manufacturer',\n                        changeLabel: this.$tc('sw-bulk-edit.product.generalInformation.manufacturer.changeLabel'),\n                        placeholder: this.$tc(\n                            'sw-bulk-edit.product.generalInformation.manufacturer.placeholderManufacturer',\n                        ),\n                        disabled: this.bulkEditProduct?.manufacturerId?.isInherited,\n                    },\n                },\n                {\n                    name: 'active',\n                    type: 'bool',\n                    canInherit: this.isChild,\n                    config: {\n                        type: 'switch',\n                        label: this.$tc('sw-bulk-edit.product.generalInformation.active.switchLabel'),\n                        changeLabel: this.$tc('sw-bulk-edit.product.generalInformation.active.changeLabel'),\n                        disabled: this.bulkEditProduct?.active?.isInherited,\n                    },\n                },\n                {\n                    name: 'markAsTopseller',\n                    type: 'bool',\n                    canInherit: this.isChild,\n                    config: {\n                        type: 'switch',\n                        label: this.$tc('sw-bulk-edit.product.generalInformation.productPromotion.switchLabel'),\n                        changeLabel: this.$tc('sw-bulk-edit.product.generalInformation.productPromotion.changeLabel'),\n                        disabled: this.bulkEditProduct?.markAsTopseller?.isInherited,\n                    },\n                },\n            ];\n        },\n\n        pricesFormFields() {\n            const fields = [\n                {\n                    name: 'taxId',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-entity-single-select',\n                        entity: 'tax',\n                        changeLabel: this.$tc('sw-bulk-edit.product.prices.taxRate.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.prices.taxRate.placeholderTax'),\n                        disabled: this.bulkEditProduct?.taxId?.isInherited,\n                    },\n                },\n                {\n                    name: 'price',\n                    config: {\n                        componentName: 'sw-price-field',\n                        price: this.product.price,\n                        taxRate: this.taxRate,\n                        currency: this.currency,\n                        changeLabel: this.isChild\n                            ? this.$tc('sw-bulk-edit.product.prices.price.label')\n                            : this.$tc('sw-bulk-edit.product.prices.price.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.prices.price.placeholderPrice'),\n                        disabled: this.isChild ? this.bulkEditProduct?.isPriceInherited?.isInherited : false,\n                    },\n                },\n                {\n                    name: 'purchasePrices',\n                    config: {\n                        componentName: 'sw-price-field',\n                        price: this.product.purchasePrices,\n                        taxRate: this.taxRate,\n                        currency: this.currency,\n                        changeLabel: this.isChild\n                            ? this.$tc('sw-bulk-edit.product.prices.purchasePrices.label')\n                            : this.$tc('sw-bulk-edit.product.prices.purchasePrices.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.prices.purchasePrices.placeholderPurchasePrices'),\n                        disabled: this.isChild ? this.bulkEditProduct?.isPriceInherited?.isInherited : false,\n                    },\n                },\n                {\n                    name: 'listPrice',\n                    config: {\n                        componentName: 'sw-price-field',\n                        price: this.product.listPrice,\n                        taxRate: this.taxRate,\n                        currency: this.currency,\n                        changeLabel: this.isChild\n                            ? this.$tc('sw-bulk-edit.product.prices.listPrice.label')\n                            : this.$tc('sw-bulk-edit.product.prices.listPrice.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.prices.listPrice.placeholderListPrice'),\n                        disabled: this.isChild\n                            ? this.bulkEditProduct?.isPriceInherited?.isInherited\n                            : this.isDisabledListPrice,\n                    },\n                },\n                {\n                    name: 'regulationPrice',\n                    config: {\n                        componentName: 'sw-price-field',\n                        price: this.product.regulationPrice,\n                        taxRate: this.taxRate,\n                        currency: this.currency,\n                        changeLabel: this.isChild\n                            ? this.$tc('sw-bulk-edit.product.prices.regulationPrice.label')\n                            : this.$tc('sw-bulk-edit.product.prices.regulationPrice.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.prices.regulationPrice.placeholderRegulationPrice'),\n                        disabled: this.isChild\n                            ? this.bulkEditProduct?.isPriceInherited?.isInherited\n                            : this.isDisabledRegulationPrice,\n                    },\n                },\n            ];\n\n            if (this.isChild) {\n                const isPriceInherited = {\n                    name: 'isPriceInherited',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: '',\n                        changeLabel: this.$tc('sw-bulk-edit.product.prices.isPriceInherited.changeLabel'),\n                    },\n                };\n                fields.splice(1, 0, isPriceInherited);\n            }\n\n            return fields;\n        },\n\n        advancedPricesFormFields() {\n            return [\n                {\n                    name: 'prices',\n                    canInherit: this.isChild,\n                    config: {\n                        allowOverwrite: true,\n                        allowClear: true,\n                        allowAdd: true,\n                        allowRemove: true,\n                        changeLabel: this.$tc('sw-bulk-edit.product.advancedPrices.changeLabel'),\n                    },\n                },\n            ];\n        },\n\n        propertyFormFields() {\n            return [\n                {\n                    name: 'properties',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-product-properties',\n                        allowOverwrite: true,\n                        allowClear: true,\n                        allowAdd: true,\n                        allowRemove: true,\n                        changeLabel: this.$tc('sw-bulk-edit.product.property.changeLabel'),\n                        disabled: this.bulkEditProduct?.properties?.isInherited,\n                        isAssociation: false,\n                        showInheritanceSwitcher: false,\n                    },\n                },\n            ];\n        },\n\n        deliverabilityFormFields() {\n            const fields = [\n                {\n                    name: 'stock',\n                    type: 'int',\n                    canInherit: false,\n                    config: {\n                        componentName: 'sw-number-field',\n                        changeLabel: this.$tc('sw-bulk-edit.product.deliverability.stock.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.deliverability.stock.placeholderStock'),\n                        numberType: 'int',\n                        allowEmpty: true,\n                        allowOverwrite: true,\n                        allowClear: true,\n                        min: 0,\n                    },\n                },\n                {\n                    name: 'isCloseout',\n                    type: 'bool',\n                    canInherit: this.isChild,\n                    config: {\n                        type: 'switch',\n                        label: this.$tc('sw-bulk-edit.product.deliverability.isCloseout.switchLabel'),\n                        changeLabel: this.$tc('sw-bulk-edit.product.deliverability.isCloseout.changeLabel'),\n                        disabled: this.bulkEditProduct?.isCloseout?.isInherited,\n                    },\n                },\n                {\n                    name: 'deliveryTimeId',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-entity-single-select',\n                        entity: 'delivery_time',\n                        changeLabel: this.$tc('sw-bulk-edit.product.deliverability.deliveryTime.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.deliverability.deliveryTime.placeholderDeliveryTime'),\n                        disabled: this.bulkEditProduct?.deliveryTimeId?.isInherited,\n                    },\n                },\n                {\n                    name: 'restockTime',\n                    type: 'int',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-number-field',\n                        changeLabel: this.$tc('sw-bulk-edit.product.deliverability.restockTime.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.deliverability.restockTime.placeholderRestockTime'),\n                        numberType: 'int',\n                        allowEmpty: true,\n                        allowOverwrite: true,\n                        allowClear: true,\n                        min: 0,\n                        disabled: this.bulkEditProduct?.restockTime?.isInherited,\n                    },\n                },\n                {\n                    name: 'shippingFree',\n                    type: 'bool',\n                    canInherit: this.isChild,\n                    config: {\n                        type: 'switch',\n                        label: this.$tc('sw-bulk-edit.product.deliverability.freeShipping.switchLabel'),\n                        changeLabel: this.$tc('sw-bulk-edit.product.deliverability.freeShipping.changeLabel'),\n                        disabled: this.bulkEditProduct?.shippingFree?.isInherited,\n                    },\n                },\n                {\n                    name: 'minPurchase',\n                    type: 'int',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-number-field',\n                        changeLabel: this.$tc('sw-bulk-edit.product.deliverability.minOrderQuantity.changeLabel'),\n                        placeholder: this.$tc(\n                            'sw-bulk-edit.product.deliverability.minOrderQuantity.placeholderMinOrderQuantity',\n                        ),\n                        numberType: 'int',\n                        allowOverwrite: true,\n                        allowClear: true,\n                        allowEmpty: true,\n                        min: 1,\n                        disabled: this.bulkEditProduct?.minPurchase?.isInherited,\n                    },\n                },\n                {\n                    name: 'purchaseSteps',\n                    type: 'int',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-number-field',\n                        changeLabel: this.$tc('sw-bulk-edit.product.deliverability.purchaseSteps.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.deliverability.purchaseSteps.placeholderPurchaseSteps'),\n                        numberType: 'int',\n                        allowOverwrite: true,\n                        allowClear: true,\n                        allowEmpty: true,\n                        min: 1,\n                        disabled: this.bulkEditProduct?.purchaseSteps?.isInherited,\n                    },\n                },\n                {\n                    name: 'maxPurchase',\n                    type: 'int',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-number-field',\n                        changeLabel: this.$tc('sw-bulk-edit.product.deliverability.maxOrderQuantity.changeLabel'),\n                        placeholder: this.$tc(\n                            'sw-bulk-edit.product.deliverability.maxOrderQuantity.placeholderMaxOrderQuantity',\n                        ),\n                        numberType: 'int',\n                        allowOverwrite: true,\n                        allowClear: true,\n                        allowEmpty: true,\n                        min: 0,\n                        disabled: this.bulkEditProduct?.maxPurchase?.isInherited,\n                    },\n                },\n            ];\n\n            return fields.filter((field) => {\n                return !this.restrictedFields.includes(field.name);\n            });\n        },\n\n        assignmentFormFields() {\n            return [\n                {\n                    name: 'visibilities',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-bulk-edit-product-visibility',\n                        bulkEditProduct: this.bulkEditProduct,\n                        allowOverwrite: true,\n                        allowClear: true,\n                        allowAdd: true,\n                        allowRemove: true,\n                        changeLabel: this.$tc('sw-bulk-edit.product.assignment.visibilities.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.assignment.visibilities.placeholder'),\n                        disabled: this.bulkEditProduct?.visibilities?.isInherited,\n                    },\n                },\n                {\n                    name: 'categories',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-category-tree-field',\n                        categoriesCollection: this.product.categories,\n                        allowOverwrite: true,\n                        allowClear: true,\n                        allowAdd: true,\n                        allowRemove: true,\n                        changeLabel: this.$tc('sw-bulk-edit.product.assignment.categories.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.assignment.categories.placeholder'),\n                        disabled: this.bulkEditProduct?.categories?.isInherited,\n                    },\n                },\n                {\n                    name: 'tags',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-entity-tag-select',\n                        entityCollection: this.product.tags,\n                        entityName: 'tag',\n                        allowOverwrite: true,\n                        allowClear: true,\n                        allowAdd: true,\n                        allowRemove: true,\n                        changeLabel: this.$tc('sw-bulk-edit.product.assignment.tags.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.assignment.tags.placeholder'),\n                        disabled: this.bulkEditProduct?.tags?.isInherited,\n                    },\n                },\n                {\n                    name: 'searchKeywords',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-multi-tag-select',\n                        value: this.product.searchKeywords,\n                        allowOverwrite: true,\n                        allowClear: true,\n                        allowAdd: false,\n                        allowRemove: false,\n                        changeLabel: this.$tc('sw-bulk-edit.product.assignment.searchKeywords.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.assignment.searchKeywords.placeholder'),\n                        disabled: this.bulkEditProduct?.searchKeywords?.isInherited,\n                    },\n                },\n            ];\n        },\n\n        mediaFormFields() {\n            return [\n                {\n                    name: 'media',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-bulk-edit-product-media',\n                        allowOverwrite: true,\n                        allowClear: true,\n                        allowAdd: true,\n                        changeLabel: this.$tc('sw-bulk-edit.product.media.changeLabel'),\n                        disabled: this.bulkEditProduct?.media?.isInherited,\n                    },\n                },\n            ];\n        },\n\n        labellingFormFields() {\n            return [\n                {\n                    name: 'releaseDate',\n                    type: 'datetime',\n                    canInherit: this.isChild,\n                    config: {\n                        type: 'date',\n                        dateType: 'datetime-local',\n                        changeLabel: this.$tc('sw-bulk-edit.product.labelling.releaseDate.changeLabel'),\n                        disabled: this.bulkEditProduct?.releaseDate?.isInherited,\n                    },\n                },\n            ];\n        },\n\n        seoFormFields() {\n            return [\n                {\n                    name: 'metaTitle',\n                    type: 'text',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-field',\n                        type: 'text',\n                        changeLabel: this.$tc('sw-bulk-edit.product.seo.metaTitle.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.seo.metaTitle.placeholderMetaTitle'),\n                        disabled: this.bulkEditProduct?.metaTitle?.isInherited,\n                    },\n                },\n                {\n                    name: 'metaDescription',\n                    type: 'text',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-field',\n                        type: 'textarea',\n                        changeLabel: this.$tc('sw-bulk-edit.product.seo.metaDescription.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.seo.metaDescription.placeholderMetaDescription'),\n                        disabled: this.bulkEditProduct?.metaDescription?.isInherited,\n                    },\n                },\n                {\n                    name: 'keywords',\n                    type: 'text',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-field',\n                        type: 'text',\n                        changeLabel: this.$tc('sw-bulk-edit.product.seo.seoKeywords.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.seo.seoKeywords.placeholderSeoKeywords'),\n                        disabled: this.bulkEditProduct?.keywords?.isInherited,\n                    },\n                },\n            ];\n        },\n\n        measuresPackagingFields() {\n            return [\n                {\n                    name: 'width',\n                    type: 'float',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-number-field',\n                        changeLabel: this.$tc('sw-bulk-edit.product.measuresAndPackaging.widthTitle.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.measuresAndPackaging.widthTitle.placeholder'),\n                        numberType: 'float',\n                        suffixLabel: 'mm',\n                        min: 0,\n                        disabled: this.bulkEditProduct?.width?.isInherited,\n                    },\n                },\n                {\n                    name: 'height',\n                    type: 'float',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-number-field',\n                        changeLabel: this.$tc('sw-bulk-edit.product.measuresAndPackaging.heightTitle.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.measuresAndPackaging.heightTitle.placeholder'),\n                        numberType: 'float',\n                        suffixLabel: 'mm',\n                        min: 0,\n                        disabled: this.bulkEditProduct?.height?.isInherited,\n                    },\n                },\n                {\n                    name: 'length',\n                    type: 'float',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-number-field',\n                        changeLabel: this.$tc('sw-bulk-edit.product.measuresAndPackaging.lengthTitle.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.measuresAndPackaging.lengthTitle.placeholder'),\n                        numberType: 'float',\n                        suffixLabel: 'mm',\n                        min: 0,\n                        disabled: this.bulkEditProduct?.length?.isInherited,\n                    },\n                },\n                {\n                    name: 'weight',\n                    type: 'float',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-number-field',\n                        changeLabel: this.$tc('sw-bulk-edit.product.measuresAndPackaging.weightTitle.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.measuresAndPackaging.weightTitle.placeholder'),\n                        numberType: 'float',\n                        suffixLabel: 'kg',\n                        min: 0,\n                        disabled: this.bulkEditProduct?.weight?.isInherited,\n                    },\n                },\n                {\n                    name: 'purchaseUnit',\n                    type: 'float',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-number-field',\n                        numberType: 'float',\n                        min: 0,\n                        changeLabel: this.$tc('sw-bulk-edit.product.measuresAndPackaging.sellingUnitTitle.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.measuresAndPackaging.sellingUnitTitle.placeholder'),\n                        disabled: this.bulkEditProduct?.purchaseUnit?.isInherited,\n                    },\n                },\n                {\n                    name: 'unitId',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-entity-single-select',\n                        entity: 'unit',\n                        changeLabel: this.$tc('sw-bulk-edit.product.measuresAndPackaging.scaleUnitTitle.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.measuresAndPackaging.scaleUnitTitle.placeholder'),\n                        disabled: this.bulkEditProduct?.unitId?.isInherited,\n                    },\n                },\n                {\n                    name: 'packUnit',\n                    type: 'text',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-field',\n                        type: 'text',\n                        changeLabel: this.$tc('sw-bulk-edit.product.measuresAndPackaging.packUnitTitle.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.measuresAndPackaging.packUnitTitle.placeholder'),\n                        disabled: this.bulkEditProduct?.packUnit?.isInherited,\n                    },\n                },\n                {\n                    name: 'packUnitPlural',\n                    type: 'text',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-field',\n                        type: 'text',\n                        changeLabel: this.$tc('sw-bulk-edit.product.measuresAndPackaging.packUnitPluralTitle.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.measuresAndPackaging.packUnitPluralTitle.placeholder'),\n                        disabled: this.bulkEditProduct?.packUnitPlural?.isInherited,\n                    },\n                },\n                {\n                    name: 'referenceUnit',\n                    type: 'float',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-number-field',\n                        numberType: 'float',\n                        min: 0,\n                        changeLabel: this.$tc('sw-bulk-edit.product.measuresAndPackaging.basicUnitTitle.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.measuresAndPackaging.basicUnitTitle.placeholder'),\n                        disabled: this.bulkEditProduct?.referenceUnit?.isInherited,\n                    },\n                },\n            ];\n        },\n\n        essentialCharacteristicsFormFields() {\n            return [\n                {\n                    name: 'featureSetId',\n                    canInherit: this.isChild,\n                    config: {\n                        componentName: 'sw-entity-single-select',\n                        entity: 'product_feature_set',\n                        changeLabel: this.$tc('sw-bulk-edit.product.featureSets.changeLabel'),\n                        placeholder: this.$tc('sw-bulk-edit.product.featureSets.placeholder'),\n                        disabled: this.bulkEditProduct?.featureSetId?.isInherited,\n                    },\n                },\n            ];\n        },\n\n        ruleRepository() {\n            return this.repositoryFactory.create('rule');\n        },\n\n        priceRepository() {\n            if (!this.product?.prices) {\n                return null;\n            }\n\n            return this.repositoryFactory.create(this.product.prices.entity, this.product.prices.source);\n        },\n\n        ruleCriteria() {\n            const criteria = new Criteria(1, 500);\n            criteria.addFilter(\n                Criteria.multi('OR', [\n                    Criteria.contains('rule.moduleTypes.types', 'price'),\n                    Criteria.equals('rule.moduleTypes', null),\n                ]),\n            );\n\n            return criteria;\n        },\n\n        priceRuleGroups() {\n            if (!this.product.prices) {\n                return {};\n            }\n\n            return this.product.prices.reduce((r, a) => {\n                r[a.ruleId] = [\n                    ...(r[a.ruleId] || []),\n                    a,\n                ];\n                return r;\n            }, {});\n        },\n    },\n\n    watch: {\n        'bulkEditProduct.prices.type'(type) {\n            if (!this.product?.prices?.length || type !== 'remove') {\n                return;\n            }\n\n            const ids = this.product.prices?.getIds();\n            ids.forEach((id) => this.product.prices.remove(id));\n        },\n        'product.visibilities': {\n            handler(productVisibilities) {\n                if (!this.isChild) {\n                    return;\n                }\n\n                if (this.isCompatEnabled('INSTANCE_SET')) {\n                    this.$set(this.bulkEditProduct.visibilities, 'value', productVisibilities);\n                } else {\n                    this.bulkEditProduct.visibilities.value = productVisibilities;\n                }\n            },\n        },\n        'bulkEditProduct.isPriceInherited.isChanged': {\n            handler(isChanged) {\n                if (!this.isChild) {\n                    return;\n                }\n\n                if (this.isCompatEnabled('INSTANCE_SET')) {\n                    this.$set(this.bulkEditProduct.price, 'isChanged', isChanged);\n                    this.$set(this.bulkEditProduct.purchasePrices, 'isChanged', isChanged);\n                    this.$set(this.bulkEditProduct.listPrice, 'isChanged', isChanged);\n                    this.$set(this.bulkEditProduct.regulationPrice, 'isChanged', isChanged);\n                } else {\n                    this.bulkEditProduct.price.isChanged = isChanged;\n                    this.bulkEditProduct.purchasePrices.isChanged = isChanged;\n                    this.bulkEditProduct.listPrice.isChanged = isChanged;\n                    this.bulkEditProduct.regulationPrice.isChanged = isChanged;\n                }\n            },\n        },\n        'bulkEditProduct.isPriceInherited.isInherited': {\n            handler(isInherited) {\n                if (!this.isChild) {\n                    return;\n                }\n\n                if (this.isCompatEnabled('INSTANCE_SET')) {\n                    this.$set(this.bulkEditProduct.price, 'isInherited', isInherited);\n                    this.$set(this.bulkEditProduct.purchasePrices, 'isInherited', isInherited);\n                    this.$set(this.bulkEditProduct.listPrice, 'isInherited', isInherited);\n                    this.$set(this.bulkEditProduct.regulationPrice, 'isInherited', isInherited);\n                } else {\n                    this.bulkEditProduct.price.isInherited = isInherited;\n                    this.bulkEditProduct.purchasePrices.isInherited = isInherited;\n                    this.bulkEditProduct.listPrice.isInherited = isInherited;\n                    this.bulkEditProduct.regulationPrice.isInherited = isInherited;\n                }\n            },\n        },\n        'product.listPrice': {\n            deep: true,\n            handler(listPrice) {\n                if (!this.isChild) {\n                    return;\n                }\n                if (!this.bulkEditProduct?.price?.value?.length) {\n                    return;\n                }\n                if (this.bulkEditProduct?.price?.value[0]?.listPrice) {\n                    return;\n                }\n\n                if (this.isCompatEnabled('INSTANCE_SET')) {\n                    this.$set(this.bulkEditProduct.price.value[0], 'listPrice', listPrice[0]);\n                } else {\n                    this.bulkEditProduct.price.value[0].listPrice = listPrice[0];\n                }\n            },\n        },\n        'product.regulationPrice': {\n            deep: true,\n            handler(regulationPrice) {\n                if (!this.isChild) {\n                    return;\n                }\n                if (!this.bulkEditProduct?.price?.value?.length) {\n                    return;\n                }\n                if (this.bulkEditProduct?.price?.value[0]?.regulationPrice) {\n                    return;\n                }\n\n                if (this.isCompatEnabled('INSTANCE_SET')) {\n                    this.$set(this.bulkEditProduct.price.value[0], 'regulationPrice', regulationPrice[0]);\n                } else {\n                    this.bulkEditProduct.price.value[0].regulationPrice = regulationPrice[0];\n                }\n            },\n        },\n    },\n\n    beforeCreate() {\n        Cicada.State.registerModule('swProductDetail', swProductDetailState);\n    },\n\n    beforeUnmount() {\n        Cicada.State.unregisterModule('swProductDetail');\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        async createdComponent() {\n            this.setRouteMetaModule();\n            this.isLoading = true;\n\n            if (this.isChild) {\n                await this.getParentProduct();\n            }\n\n            const promises = [\n                this.loadCurrencies(),\n                this.loadTaxes(),\n                this.loadCustomFieldSets(),\n                this.loadDefaultCurrency(),\n                this.loadRules(),\n            ];\n\n            Promise.all(promises).then(() => {\n                this.loadBulkEditData();\n\n                const product = this.isChild ? this.parentProduct : this.productRepository.create();\n                Cicada.State.commit('swProductDetail/setProduct', product);\n                this.definePricesBulkEdit();\n\n                if (this.isChild) {\n                    this.setBulkEditProductValue();\n                }\n\n                this.isLoading = false;\n                this.isLoadedData = true;\n            });\n        },\n\n        setRouteMetaModule() {\n            if (this.isCompatEnabled('INSTANCE_SET')) {\n                this.$set(this.$route.meta.$module, 'color', '#57D9A3');\n                this.$set(this.$route.meta.$module, 'icon', 'regular-products');\n            } else {\n                this.$route.meta.$module.color = '#57D9A3';\n                this.$route.meta.$module.icon = 'regular-products';\n            }\n        },\n\n        setBulkEditProductValue() {\n            Object.keys(this.bulkEditProduct).forEach((key) => {\n                if (this.isCompatEnabled('INSTANCE_SET')) {\n                    this.$set(this.bulkEditProduct[key], 'value', cloneDeep(this.parentProduct?.[key]));\n                } else {\n                    this.bulkEditProduct[key].value = cloneDeep(this.parentProduct?.[key]);\n                }\n\n                if (key === 'searchKeywords') {\n                    this.setProductSearchKeywords();\n                }\n            });\n        },\n\n        getParentProduct() {\n            return this.productRepository\n                .get(this.$route.params.parentId, Cicada.Context.api, this.productCriteria)\n                .then((parentProduct) => {\n                    parentProduct.stock = null;\n                    Cicada.State.commit('swProductDetail/setParentProduct', parentProduct);\n                    this.parentProductFrozen = JSON.stringify(parentProduct);\n                })\n                .catch(() => {\n                    Cicada.State.commit('swProductDetail/setParentProduct', {});\n                });\n        },\n\n        loadDefaultCurrency() {\n            return this.currencyRepository.get(Context.app.systemCurrencyId).then((currency) => {\n                this.currency = currency;\n            });\n        },\n\n        defineBulkEditData(name, value = null, type = 'overwrite', isChanged = false) {\n            if (this.bulkEditProduct[name]) {\n                return;\n            }\n\n            if (name === 'stock') {\n                if (this.isCompatEnabled('INSTANCE_SET')) {\n                    this.$set(this.bulkEditProduct, name, {\n                        value,\n                        type,\n                        isChanged,\n                        isInherited: false,\n                    });\n                } else {\n                    this.bulkEditProduct[name] = {\n                        value,\n                        type,\n                        isChanged,\n                        isInherited: false,\n                    };\n                }\n                return;\n            }\n\n            if (this.isCompatEnabled('INSTANCE_SET')) {\n                this.$set(this.bulkEditProduct, name, {\n                    isChanged: isChanged,\n                    type: type,\n                    value: value,\n                    isInherited: this.isChild,\n                });\n            } else {\n                this.bulkEditProduct[name] = {\n                    isChanged: isChanged,\n                    type: type,\n                    value: value,\n                    isInherited: this.isChild,\n                };\n            }\n        },\n\n        loadBulkEditData() {\n            const bulkEditFormGroups = [\n                this.generalFormFields,\n                this.deliverabilityFormFields,\n                this.pricesFormFields,\n                this.advancedPricesFormFields,\n                this.propertyFormFields,\n                this.assignmentFormFields,\n                this.mediaFormFields,\n                this.labellingFormFields,\n                this.seoFormFields,\n                this.measuresPackagingFields,\n                this.essentialCharacteristicsFormFields,\n            ];\n\n            bulkEditFormGroups.forEach((bulkEditForms) => {\n                bulkEditForms.forEach((bulkEditForm) => {\n                    this.defineBulkEditData(bulkEditForm.name);\n                });\n            });\n        },\n\n        loadCustomFieldSets() {\n            return this.customFieldSetRepository.search(this.customFieldSetCriteria).then((res) => {\n                this.customFieldSets = res;\n            });\n        },\n\n        loadTaxes() {\n            return this.taxRepository.search(this.taxCriteria).then((taxes) => {\n                this.taxRate = this.isChild ? this.parentProduct?.tax : taxes[0];\n                Cicada.State.commit('swProductDetail/setTaxes', taxes);\n            });\n        },\n\n        productTaxRate() {\n            if (!this.taxes) {\n                return {};\n            }\n\n            return this.taxes.find((tax) => {\n                return tax.id === this.product.taxId;\n            });\n        },\n\n        loadCurrencies() {\n            return this.currencyRepository.search(new Criteria(1, 500)).then((res) => {\n                Cicada.State.commit('swProductDetail/setCurrencies', res);\n            });\n        },\n\n        definePricesBulkEdit() {\n            if (!this.isComponentMounted) {\n                return;\n            }\n\n            if (this.isChild && !types.isEmpty(this.parentProduct)) {\n                if (this.isCompatEnabled('INSTANCE_SET')) {\n                    this.$set(this.product, 'price', this.parentProduct.price);\n                    this.$set(this.product, 'purchasePrices', this.parentProduct.purchasePrices);\n                } else {\n                    this.product.price = this.parentProduct.price;\n                    this.product.purchasePrices = this.parentProduct.purchasePrices;\n                }\n                this.setProductPrice('listPrice');\n                this.setProductPrice('regulationPrice');\n\n                return;\n            }\n\n            this.product.price ??= [\n                {\n                    currencyId: this.currency.id,\n                    net: null,\n                    linked: true,\n                    gross: null,\n                },\n            ];\n\n            this.product.purchasePrices ??= [\n                {\n                    currencyId: this.currency.id,\n                    net: null,\n                    linked: true,\n                    gross: null,\n                },\n            ];\n\n            this.product.listPrice = [\n                {\n                    currencyId: this.currency.id,\n                    net: null,\n                    linked: true,\n                    gross: null,\n                },\n            ];\n\n            this.product.regulationPrice = [\n                {\n                    currencyId: this.currency.id,\n                    net: null,\n                    linked: true,\n                    gross: null,\n                },\n            ];\n        },\n\n        setProductPrice(price) {\n            const emptyPrice = [\n                {\n                    currencyId: this.currency.id,\n                    net: null,\n                    linked: true,\n                    gross: null,\n                },\n            ];\n\n            if (!types.isEmpty(this.parentProduct.price[0][price])) {\n                if (this.isCompatEnabled('INSTANCE_SET')) {\n                    this.$set(this.product, `${price}`, [\n                        this.parentProduct.price[0][price],\n                    ]);\n                } else {\n                    this.product[price] = [this.parentProduct.price[0][price]];\n                }\n            } else if (this.isCompatEnabled('INSTANCE_SET')) {\n                this.$set(this.product, `${price}`, emptyPrice);\n            } else {\n                this.product[price] = emptyPrice;\n            }\n        },\n\n        onChangePrices(item, value = null) {\n            if (item === 'taxId') {\n                this.taxRate = this.productTaxRate();\n                return;\n            }\n\n            if (item === 'price') {\n                this.isDisabledListPrice = !this.bulkEditProduct.price.isChanged;\n                this.isDisabledRegulationPrice = !this.bulkEditProduct.price.isChanged;\n            }\n\n            if (value && typeof value !== 'boolean') {\n                if (this.isCompatEnabled('INSTANCE_SET')) {\n                    this.$set(this.product, `${item}`, [value]);\n                } else {\n                    this.product[item] = [value];\n                }\n            }\n        },\n\n        onCustomFieldsChange(value) {\n            if (Object.keys(value).length <= 0) {\n                this.bulkEditSelected = this.bulkEditSelected.filter((change) => change.field !== 'customFields');\n                return;\n            }\n\n            const change = {\n                field: 'customFields',\n                type: 'overwrite',\n                value: value,\n            };\n\n            this.bulkEditSelected.push(change);\n        },\n\n        onProcessData() {\n            let hasListPrice = false;\n            let hasRegulationPrice = false;\n\n            Object.keys(this.bulkEditProduct).forEach((key) => {\n                const bulkEditField = cloneDeep(this.bulkEditProduct[key]);\n                if (!bulkEditField.isChanged) {\n                    return;\n                }\n\n                if (key === 'listPrice') {\n                    hasListPrice = true;\n\n                    return;\n                }\n\n                if (key === 'regulationPrice') {\n                    hasRegulationPrice = true;\n\n                    return;\n                }\n\n                let bulkEditValue = this.product[key];\n\n                if (\n                    [\n                        'minPurchase',\n                        'maxPurchase',\n                        'purchaseSteps',\n                        'restockTime',\n                    ].includes(key) &&\n                    bulkEditField.type === 'clear'\n                ) {\n                    bulkEditValue = null;\n                    bulkEditField.type = 'overwrite';\n                } else if (key === 'searchKeywords') {\n                    key = 'customSearchKeywords';\n                }\n\n                if (bulkEditField.isInherited) {\n                    bulkEditValue = null;\n                }\n\n                const change = {\n                    field: key,\n                    type: bulkEditField.type,\n                    value: bulkEditValue,\n                };\n\n                if (key === 'visibilities') {\n                    change.mappingReferenceField = 'salesChannelId';\n                } else if (key === 'media') {\n                    change.mappingReferenceField = 'mediaId';\n                } else if (key === 'prices') {\n                    change.mappingReferenceField = 'ruleId';\n                }\n\n                if (this.isChild && change.value !== null && types.isArray(change.value)) {\n                    change.value.forEach((association) => {\n                        delete association.id;\n                    });\n                }\n\n                this.bulkEditSelected.push(change);\n            });\n\n            if (hasListPrice) {\n                this.processListPrice();\n            }\n\n            if (hasRegulationPrice) {\n                this.processRegulationPrice();\n            }\n        },\n\n        processListPrice() {\n            const priceField = this.bulkEditSelected.find((dataField) => {\n                return dataField.field === 'price' && !types.isEmpty(dataField.value);\n            });\n\n            if (priceField) {\n                if (this.isCompatEnabled('INSTANCE_SET')) {\n                    this.$set(priceField.value[0], 'listPrice', this.product.listPrice[0]);\n                } else {\n                    priceField.value[0].listPrice = this.product.listPrice[0];\n                }\n            }\n        },\n\n        processRegulationPrice() {\n            const priceField = this.bulkEditSelected.find((dataField) => {\n                return dataField.field === 'price' && !types.isEmpty(dataField.value);\n            });\n\n            if (priceField) {\n                if (this.isCompatEnabled('INSTANCE_SET')) {\n                    this.$set(priceField.value[0], 'regulationPrice', this.product.regulationPrice[0]);\n                } else {\n                    priceField.value[0].regulationPrice = this.product.regulationPrice[0];\n                }\n            }\n        },\n\n        openModal() {\n            this.isComponentMounted = false;\n            this.$router.push({\n                name: 'sw.bulk.edit.product.save',\n                params: {\n                    parentId: this.$route.params.parentId,\n                },\n            });\n        },\n\n        async onSave() {\n            this.isLoading = true;\n            this.onProcessData();\n\n            const payloadChunks = chunk(this.selectedIds, 50);\n\n            const requests = payloadChunks.map((payload) => {\n                return this.bulkEditApiFactory.getHandler('product').bulkEdit(payload, this.bulkEditSelected);\n            });\n\n            this.bulkEditSelected = [];\n\n            return Promise.all(requests)\n                .then((response) => {\n                    const isSuccessful = response.every((item) => item.data);\n                    this.processStatus = isSuccessful ? 'success' : 'fail';\n                })\n                .catch(() => {\n                    this.processStatus = 'fail';\n                })\n                .finally(() => {\n                    this.isLoading = false;\n                });\n        },\n\n        closeModal() {\n            this.$router.push({ name: 'sw.bulk.edit.product' });\n        },\n\n        onChangeLanguage(languageId) {\n            Cicada.State.commit('context/setApiLanguageId', languageId);\n        },\n\n        loadRules() {\n            return this.ruleRepository.search(this.ruleCriteria).then((res) => {\n                this.rules = res;\n            });\n        },\n\n        onRuleChange(rules) {\n            if (rules.length > this.product.prices.length) {\n                const newPriceRule = this.priceRepository.create();\n\n                newPriceRule.productId = this.product.id;\n                newPriceRule.quantityStart = 1;\n                newPriceRule.quantityEnd = null;\n                newPriceRule.currencyId = this.defaultCurrency.id;\n                newPriceRule.price = [\n                    {\n                        currencyId: this.defaultCurrency.id,\n                        gross: 0,\n                        linked: this.defaultPrice.linked,\n                        net: 0,\n                        listPrice: null,\n                        regulationPrice: null,\n                    },\n                ];\n\n                if (this.defaultPrice.listPrice) {\n                    newPriceRule.price[0].listPrice = {\n                        currencyId: this.defaultCurrency.id,\n                        gross: this.defaultPrice.listPrice.gross,\n                        linked: this.defaultPrice.listPrice.linked,\n                        net: this.defaultPrice.listPrice.net,\n                    };\n                }\n\n                if (this.defaultPrice.regulationPrice) {\n                    newPriceRule.price[0].regulationPrice = {\n                        currencyId: this.defaultCurrency.id,\n                        gross: this.defaultPrice.regulationPrice.gross,\n                        linked: this.defaultPrice.regulationPrice.linked,\n                        net: this.defaultPrice.regulationPrice.net,\n                    };\n                }\n\n                rules.forEach((rule) => {\n                    if (this.product.prices.some((item) => item.ruleId === rule.ruleId)) {\n                        return;\n                    }\n\n                    newPriceRule.ruleId = rule.id;\n                    newPriceRule.ruleName = rule.name;\n\n                    this.product.prices.add(newPriceRule);\n                });\n\n                return;\n            }\n\n            this.product.prices.forEach((price) => {\n                if (rules.some((rule) => price.ruleId === rule.ruleId)) {\n                    return;\n                }\n\n                this.product.prices.remove(price.id);\n            });\n        },\n\n        onInheritanceRestore(item) {\n            const parentProductFrozen = JSON.parse(this.parentProductFrozen);\n\n            if (this.isCompatEnabled('INSTANCE_SET')) {\n                this.$set(this.bulkEditProduct[item.name], 'isInherited', true);\n                this.$set(this.bulkEditProduct[item.name], 'value', parentProductFrozen[item.name]);\n            } else {\n                this.bulkEditProduct[item.name].isInherited = true;\n                this.bulkEditProduct[item.name].value = parentProductFrozen[item.name];\n            }\n\n            if (item.name === 'taxId') {\n                this.taxRate = parentProductFrozen.tax;\n\n                if (this.isCompatEnabled('INSTANCE_SET')) {\n                    this.$set(this.product, 'taxId', parentProductFrozen.taxId);\n                } else {\n                    this.product.taxId = parentProductFrozen.taxId;\n                }\n                return;\n            }\n            if (item.name === 'isPriceInherited') {\n                if (this.isCompatEnabled('INSTANCE_SET')) {\n                    this.$set(this.product.price, 0, parentProductFrozen.price[0]);\n                    this.$set(this.product.purchasePrices, 0, parentProductFrozen.purchasePrices[0]);\n                } else {\n                    this.product.price[0] = parentProductFrozen.price[0];\n                    this.product.purchasePrices[0] = parentProductFrozen.purchasePrices[0];\n                }\n\n                const listPrice = !types.isEmpty(parentProductFrozen.price[0].listPrice)\n                    ? parentProductFrozen.price[0].listPrice\n                    : {\n                          currencyId: this.currency.id,\n                          net: null,\n                          linked: true,\n                          gross: null,\n                      };\n                if (this.isCompatEnabled('INSTANCE_SET')) {\n                    this.$set(this.product, 'listPrice', [listPrice]);\n                    this.$set(this.product.price[0], 'listPrice', listPrice);\n                } else {\n                    this.product.listPrice = [listPrice];\n                    this.product.price[0].listPrice = listPrice;\n                }\n\n                const regulationPrice = !types.isEmpty(parentProductFrozen.price[0].regulationPrice)\n                    ? parentProductFrozen.price[0].regulationPrice\n                    : {\n                          currencyId: this.currency.id,\n                          net: null,\n                          linked: true,\n                          gross: null,\n                      };\n                if (this.isCompatEnabled('INSTANCE_SET')) {\n                    this.$set(this.product, 'regulationPrice', [\n                        regulationPrice,\n                    ]);\n                    this.$set(this.product.price[0], 'regulationPrice', regulationPrice);\n                } else {\n                    this.product.regulationPrice = [regulationPrice];\n                    this.product.price[0].regulationPrice = regulationPrice;\n                }\n\n                return;\n            }\n            if (item.name === 'categories') {\n                this.setProductAssociation(item.name, parentProductFrozen);\n                return;\n            }\n            if (item.name === 'media') {\n                if (this.isCompatEnabled('INSTANCE_SET')) {\n                    this.$set(this.product, 'media', parentProductFrozen.media);\n                } else {\n                    this.product.media = parentProductFrozen.media;\n                }\n                return;\n            }\n            if (item.name === 'prices') {\n                this.setProductAssociation(item.name, parentProductFrozen);\n                return;\n            }\n            if (item.name === 'properties') {\n                this.setProductAssociation(item.name, parentProductFrozen);\n                return;\n            }\n            if (item.name === 'searchKeywords') {\n                this.setProductSearchKeywords();\n                return;\n            }\n\n            this.$set(this.product, item.name, parentProductFrozen[item.name]);\n        },\n\n        onInheritanceRemove(item) {\n            if (\n                [\n                    'properties',\n                    'prices',\n                ].includes(item.name)\n            ) {\n                this.setProductAssociation(item.name);\n            }\n\n            if (this.isCompatEnabled('INSTANCE_SET')) {\n                this.$set(this.bulkEditProduct[item.name], 'isInherited', false);\n            } else {\n                this.bulkEditProduct[item.name].isInherited = false;\n            }\n        },\n\n        setProductSearchKeywords() {\n            if (types.isEmpty(this.parentProduct?.customSearchKeywords)) {\n                if (this.isCompatEnabled('INSTANCE_SET')) {\n                    this.$set(this.bulkEditProduct.searchKeywords, 'value', []);\n                    this.$set(this.product, 'searchKeywords', []);\n                } else {\n                    this.bulkEditProduct.searchKeywords.value = [];\n                    this.product.searchKeywords = [];\n                }\n\n                return;\n            }\n\n            if (this.isCompatEnabled('INSTANCE_SET')) {\n                this.$set(this.bulkEditProduct.searchKeywords, 'value', this.parentProduct.customSearchKeywords);\n                this.$set(this.product, 'searchKeywords', this.parentProduct.customSearchKeywords);\n            } else {\n                this.bulkEditProduct.searchKeywords.value = this.parentProduct.customSearchKeywords;\n                this.product.searchKeywords = this.parentProduct.customSearchKeywords;\n            }\n        },\n\n        setProductAssociation(entityName, parentProduct = null) {\n            const ids = this.product[entityName].getIds();\n            ids.forEach((id) => this.product[entityName].remove(id));\n\n            if (!parentProduct) {\n                if (this.isCompatEnabled('INSTANCE_SET')) {\n                    this.$set(this.bulkEditProduct[entityName], 'value', []);\n                } else {\n                    this.bulkEditProduct[entityName].value = [];\n                }\n                return;\n            }\n\n            parentProduct[entityName].forEach((item) => this.product[entityName].add(item));\n        },\n    },\n};\n"],"names":["template","Component","Context","Criteria","types","chunk","mapState","mapGetters","cloneDeep","index","field","criteria","restrictedFields","includesDigital","_b","_a","_d","_c","_f","_e","_h","_g","fields","_j","_i","isPriceInherited","_l","_k","_n","_m","_p","_o","_r","_q","r","a","type","id","productVisibilities","isChanged","isInherited","listPrice","regulationPrice","swProductDetailState","promises","product","key","parentProduct","currency","name","value","bulkEditForms","bulkEditForm","res","taxes","tax","price","emptyPrice","item","change","hasListPrice","hasRegulationPrice","bulkEditField","bulkEditValue","association","priceField","dataField","requests","payload","response","isSuccessful","languageId","rules","newPriceRule","rule","parentProductFrozen","entityName"],"mappings":"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"}