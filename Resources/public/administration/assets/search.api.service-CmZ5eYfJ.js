var p=Object.defineProperty;var b=(o,e,r)=>e in o?p(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r;var n=(o,e,r)=>b(o,typeof e!="symbol"?e+"":e,r);import{a as l}from"./cicada-C31UN5lb.js";import{A as h}from"./api.service-C76VAMec.js";import"./util.service-B7bLiCAI.js";import"./channel-oRk5-XZJ.js";import"./administration-DCOj2uiN.js";import"./_baseUniq-S2dU3oH3.js";import"./_baseIteratee-CqDR5IDS.js";import"./camelCase-D7-BemT7.js";import"./string.utils-CcfYXjow.js";import"./CicadaError-DH1TZadN.js";import"./sanitizer.helper-9fM03JVT.js";import"./promotion.helper-n_Vux_0s.js";import"./order.types-BvKP5qzO.js";class P extends h{constructor(r,s,a="_admin"){super(r,s,a);n(this,"searchAbortController",null);this.name="searchService"}elastic(r,s,a,t={}){const c=this.getBasicHeaders(t);return this.searchAbortController&&!this.searchAbortController.signal.aborted&&this.searchAbortController.abort(),this.searchAbortController=new AbortController,this.httpClient.post(`${this.getApiBasePath()}/es-search`,{term:r,limit:a,entities:s},{headers:c,signal:this.searchAbortController.signal}).then(i=>h.handleResponse(i)).catch(i=>{if(i instanceof l.CanceledError)return{};throw i})}searchQuery(r={},s={}){const a=this.getBasicHeaders(s);return Object.keys(r).forEach(t=>{typeof r[t].parse=="function"&&(r[t]=r[t].parse())}),this.searchAbortController&&!this.searchAbortController.signal.aborted&&this.searchAbortController.abort(),this.searchAbortController=new AbortController,this.httpClient.post(`${this.getApiBasePath()}/search`,r,{headers:a,signal:this.searchAbortController.signal}).then(t=>h.handleResponse(t)).catch(t=>{if(t instanceof l.CanceledError)return{};throw t})}}export{P as default};
//# sourceMappingURL=search.api.service-CmZ5eYfJ.js.map
