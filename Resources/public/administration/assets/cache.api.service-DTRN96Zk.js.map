{"version":3,"file":"cache.api.service-DTRN96Zk.js","sources":["../../../app/administration/src/core/service/api/cache.api.service.js"],"sourcesContent":["/**\n * @package services-settings\n */\nclass CacheApiService {\n    constructor(httpClient, loginService) {\n        this.httpClient = httpClient;\n        this.loginService = loginService;\n        this.name = 'cacheApiService';\n    }\n\n    info() {\n        const headers = this.getHeaders();\n        return this.httpClient.get('/_action/cache_info', { headers });\n    }\n\n    index(skip = [], only = []) {\n        const headers = this.getHeaders();\n        return this.httpClient.post('/_action/index', { skip, only }, { headers });\n    }\n\n    indexProducts(ids, skip) {\n        const headers = this.getHeaders();\n        return this.httpClient.post('/_action/index-products', { skip, ids: ids }, { headers });\n    }\n\n    delayed() {\n        const headers = this.getHeaders();\n        return this.httpClient.delete('/_action/cache-delayed', { headers });\n    }\n\n    clear() {\n        const headers = this.getHeaders();\n        return this.httpClient.delete('/_action/cache', { headers }).then((response) => {\n            if (response.status === 204) {\n                return this.httpClient.delete('/_action/container_cache', {\n                    headers,\n                });\n            }\n            return Promise.reject();\n        });\n    }\n\n    cleanupOldCaches() {\n        const headers = this.getHeaders();\n        return this.httpClient.delete('/_action/cleanup', { headers });\n    }\n\n    getHeaders() {\n        return {\n            Accept: 'application/json',\n            Authorization: `Bearer ${this.loginService.getToken()}`,\n            'Content-Type': 'application/json',\n        };\n    }\n}\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default CacheApiService;\n"],"names":["CacheApiService","httpClient","loginService","headers","skip","only","ids","response"],"mappings":"AAGA,MAAMA,CAAgB,CAClB,YAAYC,EAAYC,EAAc,CAClC,KAAK,WAAaD,EAClB,KAAK,aAAeC,EACpB,KAAK,KAAO,iBACf,CAED,MAAO,CACH,MAAMC,EAAU,KAAK,aACrB,OAAO,KAAK,WAAW,IAAI,sBAAuB,CAAE,QAAAA,CAAO,CAAE,CAChE,CAED,MAAMC,EAAO,GAAIC,EAAO,CAAA,EAAI,CACxB,MAAMF,EAAU,KAAK,aACrB,OAAO,KAAK,WAAW,KAAK,iBAAkB,CAAE,KAAAC,EAAM,KAAAC,CAAM,EAAE,CAAE,QAAAF,CAAO,CAAE,CAC5E,CAED,cAAcG,EAAKF,EAAM,CACrB,MAAMD,EAAU,KAAK,aACrB,OAAO,KAAK,WAAW,KAAK,0BAA2B,CAAE,KAAAC,EAAM,IAAKE,CAAG,EAAI,CAAE,QAAAH,CAAS,CAAA,CACzF,CAED,SAAU,CACN,MAAMA,EAAU,KAAK,aACrB,OAAO,KAAK,WAAW,OAAO,yBAA0B,CAAE,QAAAA,CAAO,CAAE,CACtE,CAED,OAAQ,CACJ,MAAMA,EAAU,KAAK,aACrB,OAAO,KAAK,WAAW,OAAO,iBAAkB,CAAE,QAAAA,EAAS,EAAE,KAAMI,GAC3DA,EAAS,SAAW,IACb,KAAK,WAAW,OAAO,2BAA4B,CACtD,QAAAJ,CACpB,CAAiB,EAEE,QAAQ,QAClB,CACJ,CAED,kBAAmB,CACf,MAAMA,EAAU,KAAK,aACrB,OAAO,KAAK,WAAW,OAAO,mBAAoB,CAAE,QAAAA,CAAO,CAAE,CAChE,CAED,YAAa,CACT,MAAO,CACH,OAAQ,mBACR,cAAe,UAAU,KAAK,aAAa,SAAU,CAAA,GACrD,eAAgB,kBAC5B,CACK,CACL"}