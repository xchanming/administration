{"version":3,"file":"index-D7zH9_GD.js","sources":["../../../app/administration/src/module/sw-product/component/sw-product-basic-form/sw-product-basic-form.html.twig","../../../app/administration/src/module/sw-product/component/sw-product-basic-form/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_product_basic_form %}\n<div class=\"product-basic-form\">\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_product_basic_form_title_field %}\n    <sw-inherit-wrapper\n        v-model:value=\"product.name\"\n        :has-parent=\"!!parentProduct.id\"\n        :inherited-value=\"getInheritValue('translated', 'name')\"\n    >\n        <template #content=\"props\">\n\n            <sw-text-field\n                :map-inheritance=\"props\"\n                :value=\"props.currentValue\"\n                :disabled=\"props.isInherited || !allowEdit\"\n                :label=\"$tc('sw-product.basicForm.labelTitle')\"\n                :required=\"isTitleRequired\"\n                name=\"sw-field--product-name\"\n                :error=\"productNameError\"\n                :placeholder=\"placeholder(product, 'name', $tc('sw-product.basicForm.placeholderName'))\"\n                @update:value=\"props.updateCurrentValue\"\n            />\n\n        </template>\n    </sw-inherit-wrapper>\n    {% endblock %}\n\n    <sw-container\n        columns=\"2fr 1fr\"\n        gap=\"0px 30px\"\n    >\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_product_basic_form_manufacturer_field %}\n        <sw-inherit-wrapper\n            v-model:value=\"product.manufacturerId\"\n            :has-parent=\"!!parentProduct.id\"\n            :inherited-value=\"parentProduct.manufacturerId\"\n            :label=\"$tc('sw-product.basicForm.labelManufacturer')\"\n        >\n            <template #content=\"{ currentValue, updateCurrentValue, isInherited }\">\n\n                <sw-entity-single-select\n                    id=\"manufacturerId\"\n                    :key=\"isInherited\"\n                    :value=\"currentValue\"\n                    entity=\"product_manufacturer\"\n                    :disabled=\"isInherited || !allowEdit\"\n                    class=\"sw-select-product__select_manufacturer\"\n                    :error=\"productManufacturerIdError\"\n                    :placeholder=\"$tc('sw-product.basicForm.placeholderManufacturer')\"\n                    show-clearable-button\n                    allow-entity-creation\n                    :entity-creation-label=\"$tc('sw-product.basicForm.labelManufacturerCreation')\"\n                    @update:value=\"updateCurrentValue\"\n                />\n\n            </template>\n        </sw-inherit-wrapper>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_product_basic_form_id_field %}\n        <sw-text-field\n            v-model:value=\"product.productNumber\"\n            :error=\"productProductNumberError\"\n            :disabled=\"!allowEdit\"\n            :label=\"$tc('sw-product.basicForm.labelProductNumber')\"\n            :help-text=\"productNumberHelpText\"\n        />\n        {% endblock %}\n    </sw-container>\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_product_basic_form_description_field %}\n    <sw-inherit-wrapper\n        v-model:value=\"product.description\"\n        class=\"sw-product-basic-form__inheritance-wrapper-description\"\n        :has-parent=\"!!parentProduct.id\"\n        :inherited-value=\"getInheritValue('translated', 'description')\"\n        :label=\"$tc('sw-product.basicForm.labelDescription')\"\n    >\n        <template #content=\"{ currentValue, updateCurrentValue, isInherited }\">\n\n            <sw-text-editor\n                :key=\"isInherited\"\n                :placeholder=\"placeholder(product, 'description', $tc('sw-product.basicForm.placeholderDescriptionLong'))\"\n                :error=\"productDescriptionError\"\n                :disabled=\"isInherited || !allowEdit\"\n                :value=\"currentValue\"\n                sanitize-input\n                sanitize-field-name=\"product_translation.description\"\n                @update:value=\"updateCurrentValue\"\n            />\n\n        </template>\n    </sw-inherit-wrapper>\n    {% endblock %}\n\n    <div class=\"product-basic-form__switches\">\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_product_settings_form_mark_as_topseller_field %}\n        <sw-inherit-wrapper\n            v-show=\"showSettingsInformation\"\n            v-model:value=\"product.markAsTopseller\"\n            class=\"sw-product-basic-form__promotion-switch\"\n            :has-parent=\"!!parentProduct.id\"\n            :inherited-value=\"parentProduct.markAsTopseller\"\n        >\n            <template #content=\"props\">\n\n                <sw-switch-field\n                    :error=\"productMarkAsTopsellerError\"\n                    :map-inheritance=\"props\"\n                    :help-text=\"highlightHelpText\"\n                    :label=\"$tc('sw-product.settingsForm.labelMarkAsTopseller')\"\n                    :disabled=\"props.isInherited || !allowEdit\"\n                    :value=\"props.currentValue\"\n                    @update:value=\"props.updateCurrentValue\"\n                />\n\n            </template>\n        </sw-inherit-wrapper>\n        {% endblock %}\n\n        <sw-extension-teaser-popover\n            position-identifier=\"sw-product-generated-description-button\"\n        />\n    </div>\n</div>\n{% endblock %}\n","/*\n * @package inventory\n */\n\nimport template from './sw-product-basic-form.html.twig';\nimport './sw-product-basic-form.scss';\n\nconst { Criteria } = Cicada.Data;\nconst { Context, Mixin } = Cicada;\nconst { mapPropertyErrors, mapState } = Cicada.Component.getComponentHelper();\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: ['repositoryFactory'],\n\n    mixins: [\n        Mixin.getByName('placeholder'),\n    ],\n\n    props: {\n        allowEdit: {\n            type: Boolean,\n            required: false,\n            // eslint-disable-next-line vue/no-boolean-default\n            default: true,\n        },\n\n        showSettingsInformation: {\n            type: Boolean,\n            required: false,\n            // eslint-disable-next-line vue/no-boolean-default\n            default: true,\n        },\n    },\n\n    data() {\n        return {\n            productNumberRangeId: null,\n        };\n    },\n\n    computed: {\n        ...mapState('swProductDetail', [\n            'product',\n            'parentProduct',\n            'loading',\n        ]),\n\n        ...mapPropertyErrors('product', [\n            'name',\n            'description',\n            'productNumber',\n            'manufacturerId',\n            'active',\n            'markAsTopseller',\n        ]),\n\n        numberRangeRepository() {\n            return this.repositoryFactory.create('number_range');\n        },\n\n        isTitleRequired() {\n            return Cicada.State.getters['context/isSystemDefaultLanguage'];\n        },\n\n        productNumberRangeLink() {\n            if (!this.productNumberRangeId) {\n                return {\n                    name: 'sw.settings.number.range.index',\n                };\n            }\n\n            return {\n                name: 'sw.settings.number.range.detail',\n                params: { id: this.productNumberRangeId },\n            };\n        },\n\n        productNumberHelpText() {\n            return this.$tc('sw-product.basicForm.productNumberHelpText.label', 0, {\n                link: `<sw-internal-link\n                           :router-link=${JSON.stringify(this.productNumberRangeLink)}\n                           :inline=\"true\">\n                           ${this.$tc('sw-product.basicForm.productNumberHelpText.linkText')}\n                       </sw-internal-link>`,\n            });\n        },\n\n        highlightHelpText() {\n            const themesLink = {\n                name: 'sw.theme.manager.index',\n            };\n\n            const snippetLink = {\n                name: 'sw.settings.snippet.detail',\n                params: { key: 'listing.boxLabelTopseller' },\n            };\n\n            return this.$tc('sw-product.basicForm.highlightHelpText.label', 0, {\n                themesLink: `<sw-internal-link\n                                 :router-link=${JSON.stringify(themesLink)}\n                                 :inline=\"true\">\n                                 ${this.$tc('sw-product.basicForm.highlightHelpText.themeLinkText')}\n                             </sw-internal-link>`,\n                snippetLink: `<sw-internal-link\n                                  :router-link=${JSON.stringify(snippetLink)}\n                                  :inline=\"true\">\n                                  ${this.$tc('sw-product.basicForm.highlightHelpText.snippetLinkText')}\n                              </sw-internal-link>`,\n            });\n        },\n\n        numberRangeCriteria() {\n            const criteria = new Criteria(1, 25);\n\n            criteria.addFilter(Criteria.equals('type.technicalName', 'product'));\n            criteria.addFilter(Criteria.equals('global', true));\n\n            return criteria;\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.loadProductNumberRangeId();\n        },\n\n        updateIsTitleRequired() {\n            this.isTitleRequired = Cicada.Context.api.languageId === Cicada.Context.api.systemLanguageId;\n        },\n\n        getInheritValue(firstKey, secondKey) {\n            const p = this.parentProduct;\n\n            if (p[firstKey]) {\n                return p[firstKey].hasOwnProperty(secondKey) ? p[firstKey][secondKey] : p[firstKey];\n            }\n            return null;\n        },\n\n        loadProductNumberRangeId() {\n            return this.numberRangeRepository.searchIds(this.numberRangeCriteria, Context.api).then((numberRangeIds) => {\n                this.productNumberRangeId = numberRangeIds.data[0];\n            });\n        },\n    },\n};\n"],"names":["template","Criteria","Context","Mixin","mapPropertyErrors","mapState","index","themesLink","snippetLink","criteria","firstKey","secondKey","p","numberRangeIds"],"mappings":"AAAA,MAAeA,EAAA,q5GCOT,CAAE,SAAAC,CAAQ,EAAK,OAAO,KACtB,CAAE,QAAAC,EAAS,MAAAC,CAAO,EAAG,OACrB,CAAE,kBAAAC,EAAmB,SAAAC,CAAU,EAAG,OAAO,UAAU,mBAAkB,EAG5DC,EAAA,CACX,SAAAN,EAEA,aAAc,OAAO,aAErB,OAAQ,CAAC,mBAAmB,EAE5B,OAAQ,CACJG,EAAM,UAAU,aAAa,CAChC,EAED,MAAO,CACH,UAAW,CACP,KAAM,QACN,SAAU,GAEV,QAAS,EACZ,EAED,wBAAyB,CACrB,KAAM,QACN,SAAU,GAEV,QAAS,EACZ,CACJ,EAED,MAAO,CACH,MAAO,CACH,qBAAsB,IAClC,CACK,EAED,SAAU,CACN,GAAGE,EAAS,kBAAmB,CAC3B,UACA,gBACA,SACZ,CAAS,EAED,GAAGD,EAAkB,UAAW,CAC5B,OACA,cACA,gBACA,iBACA,SACA,iBACZ,CAAS,EAED,uBAAwB,CACpB,OAAO,KAAK,kBAAkB,OAAO,cAAc,CACtD,EAED,iBAAkB,CACd,OAAO,OAAO,MAAM,QAAQ,iCAAiC,CAChE,EAED,wBAAyB,CACrB,OAAK,KAAK,qBAMH,CACH,KAAM,kCACN,OAAQ,CAAE,GAAI,KAAK,oBAAsB,CACzD,EARuB,CACH,KAAM,gCAC1B,CAOS,EAED,uBAAwB,CACpB,OAAO,KAAK,IAAI,mDAAoD,EAAG,CACnE,KAAM;AAAA,0CACoB,KAAK,UAAU,KAAK,sBAAsB,CAAC;AAAA;AAAA,6BAExD,KAAK,IAAI,qDAAqD,CAAC;AAAA,2CAE5F,CAAa,CACJ,EAED,mBAAoB,CAChB,MAAMG,EAAa,CACf,KAAM,wBACtB,EAEkBC,EAAc,CAChB,KAAM,6BACN,OAAQ,CAAE,IAAK,2BAA6B,CAC5D,EAEY,OAAO,KAAK,IAAI,+CAAgD,EAAG,CAC/D,WAAY;AAAA,gDACoB,KAAK,UAAUD,CAAU,CAAC;AAAA;AAAA,mCAEvC,KAAK,IAAI,sDAAsD,CAAC;AAAA,kDAEnF,YAAa;AAAA,iDACoB,KAAK,UAAUC,CAAW,CAAC;AAAA;AAAA,oCAExC,KAAK,IAAI,wDAAwD,CAAC;AAAA,kDAEtG,CAAa,CACJ,EAED,qBAAsB,CAClB,MAAMC,EAAW,IAAIR,EAAS,EAAG,EAAE,EAEnC,OAAAQ,EAAS,UAAUR,EAAS,OAAO,qBAAsB,SAAS,CAAC,EACnEQ,EAAS,UAAUR,EAAS,OAAO,SAAU,EAAI,CAAC,EAE3CQ,CACV,CACJ,EAED,SAAU,CACN,KAAK,iBAAgB,CACxB,EAED,QAAS,CACL,kBAAmB,CACf,KAAK,yBAAwB,CAChC,EAED,uBAAwB,CACpB,KAAK,gBAAkB,OAAO,QAAQ,IAAI,aAAe,OAAO,QAAQ,IAAI,gBAC/E,EAED,gBAAgBC,EAAUC,EAAW,CACjC,MAAMC,EAAI,KAAK,cAEf,OAAIA,EAAEF,CAAQ,EACHE,EAAEF,CAAQ,EAAE,eAAeC,CAAS,EAAIC,EAAEF,CAAQ,EAAEC,CAAS,EAAIC,EAAEF,CAAQ,EAE/E,IACV,EAED,0BAA2B,CACvB,OAAO,KAAK,sBAAsB,UAAU,KAAK,oBAAqBR,EAAQ,GAAG,EAAE,KAAMW,GAAmB,CACxG,KAAK,qBAAuBA,EAAe,KAAK,CAAC,CACjE,CAAa,CACJ,CACJ,CACL"}