const a=`{% block sw_settings_state_machine_state_list %} <sw-card position-identifier="sw-settings-state-machine-state-list" :title="$tc('sw-settings-state-machine.state.list.stateMachineStateCardTitle')" > {% block sw_settings_state_machine_state_list_grid %} <template #grid> <sw-data-grid class="sw-settings-state-machine-state-list-grid" :is-loading="isLoading" :data-source="stateMachineStates" :columns="stateMachineStateColumns" :show-selection="false" :allow-inline-edit="acl.can('state_machine.editor')" :skeleton-item-amount="stateMachineStates.length" @inline-edit-save="onInlineEditSave" @inline-edit-cancel="onInlineEditCancel" > {% block sw_settings_state_machine_state_list_grid_actions %} <template #actions="{ item }"> {% block sw_settings_state_machine_state_list_grid_actions_edit %} <sw-context-menu-item class="sw-settings-state-machine-state__edit-action" :disabled="!acl.can('state_machine.editor')" @click="showModal(item)" > {{ $tc('global.default.edit') }} </sw-context-menu-item> {% endblock %} </template> {% endblock %} </sw-data-grid> </template> {% endblock %} {% block sw_settings_state_machine_state_list_detail %} <sw-settings-state-machine-state-detail v-if="currentStateMachineState !== null" :current-state-machine-state="currentStateMachineState" @modal-close="onModalClose" /> {% endblock %} </sw-card> {% endblock %}`,{Component:i,Mixin:s}=Shopware,{Criteria:e}=Shopware.Data,n=i.wrapComponentConfig({template:a,compatConfig:Shopware.compatConfig,inject:["repositoryFactory","acl"],mixins:[s.getByName("notification")],props:{stateMachineId:{type:String,required:!0}},data(){return{stateMachineStates:[],isLoading:!1,isSaveSuccessful:!1,currentStateMachineState:null}},computed:{stateMachineStateRepository(){return this.repositoryFactory.create("state_machine_state")},stateMachineStateCriteria(){const t=new e;return t.addFilter(e.equals("stateMachineId",this.stateMachineId)),t},stateMachineStateColumns(){return[{property:"name",dataIndex:"name",label:this.$tc("sw-settings-state-machine.state.list.grid.columnName"),width:"50%",inlineEdit:"string"},{property:"technicalName",dataIndex:"technicalName",label:this.$tc("sw-settings-state-machine.state.list.grid.columnTechnicalName"),width:"50%"}]}},watch:{stateMachineId(){this.loadStateMachineStates()}},created(){this.createdComponent()},methods:{createdComponent(){this.loadStateMachineStates()},async loadStateMachineStates(){this.isLoading=!0;try{this.stateMachineStates=await this.stateMachineStateRepository.search(this.stateMachineStateCriteria)}catch(t){this.createNotificationError({message:this.$tc(t.message)})}finally{this.isLoading=!1}},onInlineEditCancel(){this.loadStateMachineStates()},async onInlineEditSave(t){this.isLoading=!0;try{await this.stateMachineStateRepository.save(t),this.createNotificationSuccess({title:this.$tc("global.default.success"),message:this.$tc("sw-settings-state-machine.state.notification.successMessage")}),this.loadStateMachineStates()}catch{this.createNotificationError({title:this.$tc("global.default.error"),message:this.$tc("sw-settings-state-machine.state.notification.errorMessage")})}finally{this.isLoading=!1}},showModal(t){this.currentStateMachineState=t},onModalClose(){this.currentStateMachineState=null,this.loadStateMachineStates()}}});export{n as default};
