{"version":3,"file":"index-CsZ8KSFS.js","sources":["../../../app/administration/src/module/sw-extension/page/sw-extension-store-landing-page/sw-extension-store-landing-page.html.twig","../../../app/administration/src/module/sw-extension/page/sw-extension-store-landing-page/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_extension_store_landing_page %}\n<div class=\"sw-extension-store-landing-page\">\n    <div class=\"sw-extension-store-landing-page__wrapper\">\n        <div\n            v-if=\"isLoading\"\n            class=\"sw-extension-store-landing-page__wrapper-loading\"\n        >\n            <sw-loader />\n\n            <p>\n                {{ $tc('sw-extension-store.landing-page.enablingCicadaStore') }}\n                <br>\n                {{ $tc('sw-extension-store.landing-page.takeMinutes') }}\n            </p>\n        </div>\n\n        <div\n            v-else-if=\"activationStatus !== null\"\n            class=\"sw-extension-store-landing-page__wrapper-activated\"\n        >\n            <template v-if=\"activationStatus === 'error'\">\n                <sw-label\n                    appearance=\"pill\"\n                    variant=\"danger\"\n                >\n                    <sw-icon\n                        name=\"regular-times-circle\"\n                        size=\"30px\"\n                    />\n                </sw-label>\n\n                <h2>\n                    {{ error && error.title || $tc('sw-extension-store.landing-page.activationErrorTitle') }}\n                </h2>\n                <p>\n                    {{ error && error.detail || $tc('sw-extension-store.landing-page.activationErrorDescription') }}\n                </p>\n\n                <sw-button\n                    variant=\"primary\"\n                    @click=\"activateStore\"\n                >\n                    {{ $tc('sw-extension-store.landing-page.retryButton') }}\n                </sw-button>\n            </template>\n\n            <template v-else-if=\"activationStatus === 'success'\">\n                <sw-label\n                    appearance=\"pill\"\n                    variant=\"success\"\n                >\n                    <sw-icon\n                        name=\"regular-check-circle\"\n                        size=\"30px\"\n                    />\n                </sw-label>\n\n                <h2>\n                    {{ $tc('sw-extension-store.landing-page.activationSuccessTitle') }}\n                </h2>\n                <p>\n                    {{ $tc('sw-extension-store.landing-page.activationSuccessDescription') }}\n                </p>\n            </template>\n        </div>\n\n        <div\n            v-else\n            class=\"sw-extension-store-landing-page__wrapper-content\"\n        >\n            <img\n                :src=\"assetFilter('/administration/static/img/extension-store/store_illustration.svg')\"\n                alt=\"\"\n            >\n\n            <span\n                v-if=\"!insideModal\"\n                class=\"sw-extension-store-landing-page__wrapper-label\"\n            >\n                {{ $tc('sw-extension-store.landing-page.label') }}\n            </span>\n\n            <h2>\n                {{ $tc('sw-extension-store.landing-page.activationDescriptionTitleFirst') }}\n                <br>\n                {{ $tc('sw-extension-store.landing-page.activationDescriptionTitleSecond') }}\n            </h2>\n\n            <p>\n                {{ $tc('sw-extension-store.landing-page.activationDescriptionTitleDescription') }}\n            </p>\n\n            <sw-button\n                class=\"sw-extension-store-landing-page__activate_button\"\n                variant=\"primary\"\n                @click=\"activateStore\"\n            >\n                {{ $tc('sw-extension-store.landing-page.activate') }}\n            </sw-button>\n        </div>\n    </div>\n</div>\n{% endblock %}\n","import template from './sw-extension-store-landing-page.html.twig';\nimport './sw-extension-store-landing-page.scss';\n\n/**\n * @package checkout\n * @private\n */\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: ['extensionHelperService'],\n\n    props: {\n        insideModal: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n    },\n\n    data() {\n        return {\n            isLoading: false,\n            activationStatus: null,\n            error: null,\n        };\n    },\n\n    computed: {\n        extensionName() {\n            return 'SwagExtensionStore';\n        },\n\n        assetFilter() {\n            return Cicada.Filter.getByName('asset');\n        },\n    },\n\n    methods: {\n        activateStore() {\n            this.isLoading = true;\n            this.activationStatus = null;\n\n            this.extensionHelperService\n                .downloadAndActivateExtension(this.extensionName)\n                .then(() => {\n                    this.activationStatus = 'success';\n                    window.location.reload();\n                })\n                .catch((error) => {\n                    this.activationStatus = 'error';\n\n                    if (\n                        error?.response?.data &&\n                        Array.isArray(error.response.data.errors) &&\n                        error.response.data.errors[0]\n                    ) {\n                        this.error = error.response.data.errors[0];\n                    }\n\n                    Cicada.Utils.debug.error(error);\n                })\n                .finally(() => {\n                    this.isLoading = false;\n                });\n        },\n    },\n};\n"],"names":["template","index","error","_a"],"mappings":"AAAA,MAAeA,EAAA,ilECOAC,EAAA,CACX,SAAAD,EAEA,aAAc,OAAO,aAErB,OAAQ,CAAC,wBAAwB,EAEjC,MAAO,CACH,YAAa,CACT,KAAM,QACN,SAAU,GACV,QAAS,EACZ,CACJ,EAED,MAAO,CACH,MAAO,CACH,UAAW,GACX,iBAAkB,KAClB,MAAO,IACnB,CACK,EAED,SAAU,CACN,eAAgB,CACZ,MAAO,oBACV,EAED,aAAc,CACV,OAAO,OAAO,OAAO,UAAU,OAAO,CACzC,CACJ,EAED,QAAS,CACL,eAAgB,CACZ,KAAK,UAAY,GACjB,KAAK,iBAAmB,KAExB,KAAK,uBACA,6BAA6B,KAAK,aAAa,EAC/C,KAAK,IAAM,CACR,KAAK,iBAAmB,UACxB,OAAO,SAAS,QACpC,CAAiB,EACA,MAAOE,GAAU,CDnDlC,IAAAC,ECoDoB,KAAK,iBAAmB,SAGpBA,EAAAD,GAAA,YAAAA,EAAO,WAAP,MAAAC,EAAiB,MACjB,MAAM,QAAQD,EAAM,SAAS,KAAK,MAAM,GACxCA,EAAM,SAAS,KAAK,OAAO,CAAC,IAE5B,KAAK,MAAQA,EAAM,SAAS,KAAK,OAAO,CAAC,GAG7C,OAAO,MAAM,MAAM,MAAMA,CAAK,CAClD,CAAiB,EACA,QAAQ,IAAM,CACX,KAAK,UAAY,EACrC,CAAiB,CACR,CACJ,CACL"}