const o=`{% block sw_cms_element_image_slider_config %} <div class="sw-cms-el-config-image-slider"> {% block sw_cms_element_image_slider_config_tabs %} <sw-tabs position-identifier="sw-cms-element-config-image-slider" class="sw-cms-el-config-image-slider__tabs" default-item="content" > <template #default="{ active }"> {% block sw_cms_element_image_slider_config_tab_content %} <sw-tabs-item :title="$tc('sw-cms.elements.general.config.tab.content')" name="content" :active-tab="active" > {{ $tc('sw-cms.elements.general.config.tab.content') }} </sw-tabs-item> {% endblock %} {% block sw_cms_element_image_slider_config_tab_options %} <sw-tabs-item :title="$tc('sw-cms.elements.general.config.tab.settings')" name="settings" :active-tab="active" > {{ $tc('sw-cms.elements.general.config.tab.settings') }} </sw-tabs-item> {% endblock %} </template> <template #content="{ active }" > {% block sw_cms_element_image_slider_config_content %} <sw-container v-if="active === 'content'" class="sw-cms-el-config-image-slider__tab-content" > {% block sw_cms_element_image_slider_config_media_selection %} <sw-media-list-selection-v2 :entity-media-items="mediaItems" :entity="entity" :upload-tag="uploadTag" :default-folder-name="defaultFolderName" @upload-finish="onImageUpload" @item-remove="onItemRemove" @open-sidebar="onOpenMediaModal" @item-sort="onItemSort" /> {% endblock %} {% block sw_cms_element_image_slider_config_media_modal %} <sw-media-modal-v2 v-if="mediaModalIsOpen" variant="full" :caption="$tc('sw-cms.elements.general.config.caption.mediaUpload')" :entity-context="cmsPageState.entityName" :initial-folder-id="cmsPageState.defaultMediaFolderId" @media-upload-remove-image="onItemRemove" @media-modal-selection-change="onMediaSelectionChange" @modal-close="onCloseMediaModal" /> {% endblock %} </sw-container> {% endblock %} {% block sw_cms_element_image_slider_config_settings %} <sw-container v-if="active === 'settings'" class="sw-cms-el-config-image-slider__tab-settings" > <div class="sw-cms-el-config-image-slider__settings-options"> {% block sw_cms_element_image_gallery_config_settings_display_mode %} <div class="sw-cms-el-config-image-slider__setting-option"> {% block sw_cms_element_image_gallery_config_settings_display_mode_select %} <sw-select-field v-model:value="element.config.displayMode.value" class="sw-cms-el-config-image-slider__setting-display-mode" :label="$tc('sw-cms.elements.general.config.label.displayMode')" :help-text="$tc('sw-cms.elements.imageSlider.config.helpText.displayMode')" @update:value="onChangeDisplayMode" > <option value="standard"> {{ $tc('sw-cms.elements.general.config.label.displayModeStandard') }} </option> <option value="contain"> {{ $tc('sw-cms.elements.general.config.label.displayModeContain') }} </option> <option value="cover"> {{ $tc('sw-cms.elements.general.config.label.displayModeCover') }} </option> </sw-select-field> {% endblock %} {% block sw_cms_element_image_gallery_config_settings_min_height %} <sw-text-field v-model:value="element.config.minHeight.value" :label="$tc('sw-cms.elements.image.config.label.minHeight')" :placeholder="$tc('sw-cms.elements.image.config.label.minHeight')" :help-text="$tc('sw-cms.elements.image.config.label.minHeightHelpText')" :disabled="element.config.displayMode.value !== 'cover'" @update:value="onChangeMinHeight" /> {% endblock %} {% block sw_cms_element_image_gallery_config_settings_vertical_align %} <sw-select-field v-model:value="element.config.verticalAlign.value" :label="$tc('sw-cms.elements.general.config.label.verticalAlign')" :placeholder="$tc('sw-cms.elements.general.config.label.verticalAlign')" :disabled="element.config.displayMode.value === 'cover'" > <option value="flex-start"> {{ $tc('sw-cms.elements.general.config.label.verticalAlignTop') }} </option> <option value="center"> {{ $tc('sw-cms.elements.general.config.label.verticalAlignCenter') }} </option> <option value="flex-end"> {{ $tc('sw-cms.elements.general.config.label.verticalAlignBottom') }} </option> </sw-select-field> {% endblock %} </div> {% endblock %} {% block sw_cms_element_image_slider_config_settings_navigation %} <div class="sw-cms-el-config-image-slider__setting-navigations sw-cms-el-config-image-slider__setting-option"> <div class="sw-cms-el-config-image-slider__settings-navigation"> {% block sw_cms_element_image_slider_config_settings_navigation_arrow_position %} <sw-select-field v-model:value="element.config.navigationArrows.value" :label="$tc('sw-cms.elements.imageSlider.config.label.navigationArrows')" @update:value="emitUpdateEl" > <option value="none"> {{ $tc('sw-cms.elements.imageSlider.config.label.navigationPositionNone') }} </option> <option value="inside"> {{ $tc('sw-cms.elements.imageSlider.config.label.navigationPositionInside') }} </option> <option value="outside"> {{ $tc('sw-cms.elements.imageSlider.config.label.navigationPositionOutside') }} </option> </sw-select-field> {% endblock %} </div> <div class="sw-cms-el-config-image-slider__settings-navigation"> {% block sw_cms_element_image_slider_config_settings_navigation_dots_position %} <sw-select-field v-model:value="element.config.navigationDots.value" :label="$tc('sw-cms.elements.imageSlider.config.label.navigationDots')" @update:value="emitUpdateEl" > <option value="none"> {{ $tc('sw-cms.elements.imageSlider.config.label.navigationPositionNone') }} </option> <option value="inside"> {{ $tc('sw-cms.elements.imageSlider.config.label.navigationPositionInside') }} </option> <option value="outside"> {{ $tc('sw-cms.elements.imageSlider.config.label.navigationPositionOutside') }} </option> </sw-select-field> {% endblock %} </div> </div> {% endblock %} <div class="sw-cms-el-config-image-slider__setting-slide"> <sw-switch-field v-model:value="element.config.autoSlide.value" class="sw-cms-el-config-image-slider__setting-auto-slide" :label="$tc('sw-cms.elements.general.config.label.autoSlide')" :help-text="$tc('sw-cms.elements.general.config.helpText.autoSlide')" bordered @update:value="onChangeAutoSlide" /> </div> <div class="sw-cms-el-config-image-slider__setting-option"> <div class="sw-cms-el-config-image-slider__setting-delay"> <sw-number-field v-model:value="element.config.autoplayTimeout.value" class="sw-cms-el-config-image-slider__setting-delay-slide" number-type="int" :min="0" :max="3600000" :disabled="!showSlideConfig || undefined" :label="$tc('sw-cms.elements.general.config.label.autoplayTimeout')" :placeholder="$tc('sw-cms.elements.general.config.label.autoplayTimeout')" :help-text="$tc('sw-cms.elements.general.config.helpText.autoplayTimeout')" /> </div> <div class="sw-cms-el-config-image-slider__setting-speed"> <sw-number-field v-model:value="element.config.speed.value" class="sw-cms-el-config-image-slider__setting-speed-slide" number-type="int" :min="0" :max="3600000" :disabled="!showSlideConfig || undefined" :label="$tc('sw-cms.elements.general.config.label.speed')" :placeholder="$tc('sw-cms.elements.general.config.label.speed')" :help-text="$tc('sw-cms.elements.general.config.helpText.speed')" /> </div> </div> {% block sw_cms_element_image_slider_config_settings_links %} <div class="sw-cms-el-config-image-slider__settings-links sw-cms-el-config-image-slider__setting-option"> <div v-for="(sliderItem, index) in items" :key="index" class="sw-cms-el-config-image-slider__settings-link" > {% block sw_cms_element_image_slider_config_settings_link_url %} <sw-container :key="sliderItem.mediaId" class="sw-cms-el-config-image-slider__settings-link-container" > <img v-if="sliderItem.mediaUrl" class="sw-cms-el-config-image-slider__settings-link-prefix" :src="sliderItem.mediaUrl" alt="" > <sw-url-field v-model:value="sliderItem.url" class="sw-cms-el-config-image-slider__settings-link-input" :name="sliderItem.mediaUrl" :label="$tc('sw-cms.elements.image.config.label.linkTo')" :placeholder="$tc('sw-cms.elements.image.config.placeholder.enterUrl')" /> </sw-container> {% endblock %} {% block sw_cms_element_image_slider_config_settings_link_target %} <sw-switch-field v-model:value="sliderItem.newTab" class="sw-cms-el-config-image-slider__settings-link-tab" :name="sliderItem.mediaId" :label="$tc('sw-cms.elements.image.config.label.linkNewTab')" /> {% endblock %} </div> </div> {% endblock %} </div> </sw-container> {% endblock %} </template> </sw-tabs> {% endblock %} </div> {% endblock %}`,{Mixin:m}=Cicada,{moveItem:a,object:{cloneDeep:c}}=Cicada.Utils,d=Cicada.Data.Criteria,g={template:o,compatConfig:Cicada.compatConfig,inject:["repositoryFactory"],emits:["element-update"],mixins:[m.getByName("cms-element")],data(){return{mediaModalIsOpen:!1,initialFolderId:null,entity:this.element,mediaItems:[],showSlideConfig:!1}},computed:{uploadTag(){return`cms-element-media-config-${this.element.id}`},mediaRepository(){return this.repositoryFactory.create("media")},defaultFolderName(){return this.cmsPageState.pageEntityName},items(){return this.element.config&&this.element.config.sliderItems&&this.element.config.sliderItems.value?this.element.config.sliderItems.value:[]},speedDefault(){return this.cmsService.getCmsElementConfigByName("image-slider").defaultConfig.speed.value},autoplayTimeoutDefault(){return this.cmsService.getCmsElementConfigByName("image-slider").defaultConfig.autoplayTimeout.value}},created(){this.createdComponent()},methods:{async createdComponent(){var e;if(this.initElementConfig("image-slider"),(e=this.element.config.autoSlide)!=null&&e.value&&(this.showSlideConfig=!0),this.element.config.sliderItems.source!=="default"&&this.element.config.sliderItems.value.length>0){const i=this.element.config.sliderItems.value.map(l=>l.mediaId),t=new d(1,25);t.setIds(i);const s=await this.mediaRepository.search(t);this.mediaItems=i.map(l=>s.get(l)).filter(l=>l!==null),this.element.config.sliderItems.value.forEach((l,n)=>{s.get(l.mediaId)===null&&this.onItemRemove({id:l.mediaId},n)})}},onImageUpload(e){const i=this.element.config.sliderItems;i.source==="default"&&(i.value=[],i.source="static"),this.mediaItems.find(s=>s.id===e.id)&&(this.mediaItems=this.mediaItems.filter(s=>s.id!==e.id),i.value=i.value.filter(s=>s.mediaId!==e.id)),i.value.push({mediaUrl:e.url,mediaId:e.id,url:null,newTab:!1}),this.mediaItems.push(e),this.updateMediaDataValue(),this.emitUpdateEl()},onItemRemove(e,i){const t=e.id,{value:s}=this.element.config.sliderItems;this.element.config.sliderItems.value=s.filter((l,n)=>l.mediaId!==t||n!==i),this.mediaItems=this.mediaItems.filter((l,n)=>l.id!==t||n!==i),this.updateMediaDataValue(),this.emitUpdateEl()},onCloseMediaModal(){this.mediaModalIsOpen=!1},onMediaSelectionChange(e){const i=this.element.config.sliderItems;i.source==="default"&&(i.value=[],i.source="static"),e.forEach(t=>{this.element.config.sliderItems.value.push({mediaUrl:t.url,mediaId:t.id,url:null,newTab:!1})}),this.mediaItems.push(...e),this.updateMediaDataValue(),this.emitUpdateEl()},onItemSort(e,i){a(this.mediaItems,e.position,i.position),a(this.element.config.sliderItems.value,e.position,i.position),this.updateMediaDataValue(),this.emitUpdateEl()},updateMediaDataValue(){if(this.element.config.sliderItems.value){const e=c(this.element.config.sliderItems.value);if(e.forEach(i=>{this.mediaItems.forEach(t=>{i.mediaId===t.id&&(i.media=t)})}),!this.element.data){this.isCompatEnabled("INSTANCE_SET")?this.$set(this.element,"data",{sliderItems:e}):this.element.data={sliderItems:e};return}this.isCompatEnabled("INSTANCE_SET")?this.$set(this.element.data,"sliderItems",e):this.element.data.sliderItems=e}},onOpenMediaModal(){this.mediaModalIsOpen=!0},onChangeMinHeight(e){this.element.config.minHeight.value=e===null?"":e,this.$emit("element-update",this.element)},onChangeAutoSlide(e){this.showSlideConfig=e,e||(this.element.config.autoplayTimeout.value=this.autoplayTimeoutDefault,this.element.config.speed.value=this.speedDefault)},onChangeDisplayMode(e){e==="cover"&&(this.element.config.verticalAlign.value=null),this.$emit("element-update",this.element)},emitUpdateEl(){this.$emit("element-update",this.element)}}};export{g as default};
//# sourceMappingURL=index-D7IZAf6h.js.map
