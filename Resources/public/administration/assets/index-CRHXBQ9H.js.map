{"version":3,"file":"index-CRHXBQ9H.js","sources":["../../../app/administration/src/module/sw-settings-rule/view/sw-settings-rule-detail-base/sw-settings-rule-detail-base.html.twig","../../../app/administration/src/module/sw-settings-rule/view/sw-settings-rule-detail-base/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_settings_rule_detail_base %}\n<div class=\"sw-settings-rule-detail-base\">\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_rule_detail_base_content_card %}\n    <sw-card\n        position-identifier=\"sw-settings-rule-detail-base-content\"\n        :large=\"true\"\n        :is-loading=\"isLoading\"\n        :title=\"$tc('sw-settings-rule.detail.titleCard')\"\n    >\n        <template v-if=\"rule\">\n            <div style=\"display: grid; grid-template-columns: 2fr 1fr; grid-column-gap: 32px\">\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_settings_rule_detail_base_content_card_field_name %}\n                <sw-text-field\n                    v-model:value=\"rule.name\"\n                    name=\"sw-field--rule-name\"\n                    :label=\"$tc('sw-settings-rule.detail.labelName')\"\n                    :placeholder=\"$tc('sw-settings-rule.detail.placeholderName')\"\n                    :error=\"ruleNameError\"\n                    :disabled=\"!acl.can('rule.editor') || undefined\"\n                    required\n                />\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_settings_rule_detail_base_content_card_field_priority %}\n                <sw-number-field\n                    v-model:value=\"rule.priority\"\n                    name=\"sw-field--rule-priority\"\n                    :label=\"$tc('sw-settings-rule.detail.labelPriority')\"\n                    :placeholder=\"$tc('sw-settings-rule.detail.placeholderPriority')\"\n                    :error=\"rulePriorityError\"\n                    :disabled=\"!acl.can('rule.editor') || undefined\"\n                    required\n                />\n                {% endblock %}\n            </div>\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_settings_rule_detail_base_content_card_field_description %}\n            <sw-textarea-field\n                v-model:value=\"rule.description\"\n                name=\"sw-field--rule-description\"\n                :label=\"$tc('sw-settings-rule.detail.labelDescription')\"\n                :placeholder=\"$tc('sw-settings-rule.detail.placeholderDescription')\"\n                :disabled=\"!acl.can('rule.editor') || undefined\"\n            />\n            {% endblock %}\n\n            <div style=\"display: grid; grid-template-columns: 1fr 1fr; grid-column-gap: 32px\">\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_settings_rule_detail_base_content_card_field_type %}\n                <sw-multi-select\n                    v-if=\"rule\"\n                    v-model:value=\"moduleTypes\"\n                    name=\"sw-field--moduleTypes\"\n                    class=\"sw-settings-rule-detail__type-field\"\n                    value-property=\"id\"\n                    label-property=\"name\"\n                    :label=\"$tc('sw-settings-rule.detail.labelType')\"\n                    :disabled=\"!acl.can('rule.editor') || undefined\"\n                    :options=\"availableModuleTypes\"\n                >\n                    <template #selection-label-property=\"{ item }\">\n                        {{ $tc(item.name) }}\n                    </template>\n\n                    <template #result-label-property=\"{ item }\">\n                        {{ $tc(item.name) }}\n                    </template>\n                </sw-multi-select>\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_settings_rule_detail_base_content_card_field_tags %}\n                <sw-entity-tag-select\n                    v-if=\"rule\"\n                    v-model:entityCollection=\"rule.tags\"\n                    name=\"sw-field--rule-tags\"\n                    class=\"sw-settings-rule-detail__tags-field\"\n                    :label=\"$tc('global.sw-tag-field.title')\"\n                    :disabled=\"!acl.can('rule.editor') || undefined\"\n                    :placeholder=\"$tc('sw-settings-rule.detail.placeholderTags')\"\n                />\n                {% endblock %}\n            </div>\n        </template>\n        <sw-loader v-else />\n    </sw-card>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_rule_detail_base_conditions_card %}\n    <sw-card\n        class=\"sw-settings-rule-detail__condition_container\"\n        position-identifier=\"sw-settings-rule-detail-base-conditions\"\n        :large=\"true\"\n        :is-loading=\"isLoading\"\n        :title=\"$tc('sw-settings-rule.detail.ruleCard')\"\n    >\n        <template #header-right>\n            <sw-extension-teaser-popover\n                position-identifier=\"sw-settings-rule-preview-mode-switch\"\n            />\n        </template>\n\n        <sw-condition-tree\n            :initial-conditions=\"conditions\"\n            :condition-repository=\"conditionRepository\"\n            :condition-data-provider-service=\"ruleConditionDataProviderService\"\n            association-field=\"ruleId\"\n            :association-value=\"rule.id\"\n            :association-entity=\"rule\"\n            :root-condition=\"null\"\n            :disabled=\"!acl.can('rule.editor') || undefined\"\n            @conditions-changed=\"$emit('conditions-changed', $event)\"\n            @initial-loading-done=\"$emit('tree-finished-loading')\"\n        />\n    </sw-card>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_rule_detail_custom_field_sets %}\n    <sw-card\n        v-if=\"showCustomFields\"\n        position-identifier=\"sw-settings-rule-detail-base-custom-field-sets\"\n        :large=\"true\"\n        :title=\"$tc('sw-settings-custom-field.general.mainMenuItemGeneral')\"\n        :is-loading=\"isLoading\"\n    >\n        <sw-custom-field-set-renderer\n            :entity=\"rule\"\n            :disabled=\"!acl.can('rule.editor') || undefined\"\n            :sets=\"customFieldSets\"\n        />\n    </sw-card>\n    {% endblock %}\n</div>\n{% endblock %}\n","import template from './sw-settings-rule-detail-base.html.twig';\n\n/**\n * @private\n * @package services-settings\n */\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: [\n        'ruleConditionDataProviderService',\n        'acl',\n        'customFieldDataProviderService',\n    ],\n\n    emits: [\n        'conditions-changed',\n        'tree-finished-loading',\n    ],\n\n    props: {\n        rule: {\n            type: Object,\n            required: true,\n        },\n        conditions: {\n            type: Array,\n            required: false,\n            default: null,\n        },\n        conditionRepository: {\n            type: Object,\n            required: true,\n        },\n        isLoading: {\n            type: Boolean,\n            required: true,\n        },\n        ruleNameError: {\n            type: Object,\n            required: false,\n            default: null,\n        },\n        rulePriorityError: {\n            type: Object,\n            required: false,\n            default: null,\n        },\n    },\n\n    data() {\n        return {\n            currentConditions: null,\n            customFieldSets: null,\n        };\n    },\n\n    computed: {\n        availableModuleTypes() {\n            return this.ruleConditionDataProviderService.getModuleTypes();\n        },\n\n        moduleTypes: {\n            get() {\n                return this.rule?.moduleTypes?.types ?? [];\n            },\n\n            set(value) {\n                if (value.length === 0) {\n                    this.rule.moduleTypes = null;\n                    return;\n                }\n\n                this.rule.moduleTypes = { types: value };\n            },\n        },\n\n        showCustomFields() {\n            return this.rule && this.customFieldSets && this.customFieldSets.length > 0;\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.loadCustomFieldSets();\n        },\n\n        loadCustomFieldSets() {\n            this.customFieldDataProviderService.getCustomFieldSets('rule').then((sets) => {\n                this.customFieldSets = sets;\n            });\n        },\n    },\n};\n"],"names":["template","index","_a","_b","value","sets"],"mappings":"AAAA,MAAeA,EAAA,mxHCMAC,EAAA,CACX,SAAAD,EAEA,aAAc,OAAO,aAErB,OAAQ,CACJ,mCACA,MACA,gCACH,EAED,MAAO,CACH,qBACA,uBACH,EAED,MAAO,CACH,KAAM,CACF,KAAM,OACN,SAAU,EACb,EACD,WAAY,CACR,KAAM,MACN,SAAU,GACV,QAAS,IACZ,EACD,oBAAqB,CACjB,KAAM,OACN,SAAU,EACb,EACD,UAAW,CACP,KAAM,QACN,SAAU,EACb,EACD,cAAe,CACX,KAAM,OACN,SAAU,GACV,QAAS,IACZ,EACD,kBAAmB,CACf,KAAM,OACN,SAAU,GACV,QAAS,IACZ,CACJ,EAED,MAAO,CACH,MAAO,CACH,kBAAmB,KACnB,gBAAiB,IAC7B,CACK,EAED,SAAU,CACN,sBAAuB,CACnB,OAAO,KAAK,iCAAiC,gBAChD,EAED,YAAa,CACT,KAAM,CDjElB,IAAAE,EAAAC,ECkEgB,QAAOA,GAAAD,EAAA,KAAK,OAAL,YAAAA,EAAW,cAAX,YAAAC,EAAwB,QAAS,CAAA,CAC3C,EAED,IAAIC,EAAO,CACP,GAAIA,EAAM,SAAW,EAAG,CACpB,KAAK,KAAK,YAAc,KACxB,MACH,CAED,KAAK,KAAK,YAAc,CAAE,MAAOA,CAAK,CACzC,CACJ,EAED,kBAAmB,CACf,OAAO,KAAK,MAAQ,KAAK,iBAAmB,KAAK,gBAAgB,OAAS,CAC7E,CACJ,EAED,SAAU,CACN,KAAK,iBAAgB,CACxB,EAED,QAAS,CACL,kBAAmB,CACf,KAAK,oBAAmB,CAC3B,EAED,qBAAsB,CAClB,KAAK,+BAA+B,mBAAmB,MAAM,EAAE,KAAMC,GAAS,CAC1E,KAAK,gBAAkBA,CACvC,CAAa,CACJ,CACJ,CACL"}