{"version":3,"mappings":"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","names":["ApiService","PromotionCodeApiService","httpClient","loginService","apiEndpoint","headers","response","codePattern","amount","promotionId","Service","swPromotionState","state","promotion","customerIds","groupIds","isLoading","defaultSearchConfiguration","searchRankingPoint","Module","State","__vitePreload","route"],"ignoreList":[],"sources":["../../../app/administration/src/module/sw-promotion-v2/service/promotion-code.api.service.js","../../../app/administration/src/module/sw-promotion-v2/init/services.init.js","../../../app/administration/src/module/sw-promotion-v2/acl/index.js","../../../app/administration/src/module/sw-promotion-v2/page/sw-promotion-v2-detail/state.js","../../../app/administration/src/module/sw-promotion-v2/default-search-configuration.js","../../../app/administration/src/module/sw-promotion-v2/index.js"],"sourcesContent":["const ApiService = Cicada.Classes.ApiService;\n\n/**\n * Gateway for the API endpoint \"promotion codes\"\n * @package checkout\n * @class\n * @extends ApiService\n */\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default class PromotionCodeApiService extends ApiService {\n    constructor(httpClient, loginService, apiEndpoint = 'promotion') {\n        super(httpClient, loginService, apiEndpoint);\n        this.name = 'promotionCodeApiService';\n    }\n\n    /**\n     * @returns {Promise<T>}\n     */\n    generateCodeFixed() {\n        const headers = this.getBasicHeaders();\n\n        return this.httpClient\n            .get(`/_action/${this.getApiBasePath()}/codes/generate-fixed`, {\n                headers,\n            })\n            .then((response) => {\n                return ApiService.handleResponse(response);\n            });\n    }\n\n    /**\n     * @param {String} codePattern\n     * @param {Number} amount\n     *\n     * @returns {Promise<T>}\n     */\n    generateIndividualCodes(codePattern, amount = 1) {\n        const headers = this.getBasicHeaders();\n\n        return this.httpClient\n            .get(`/_action/${this.getApiBasePath()}/codes/generate-individual`, {\n                params: { codePattern, amount },\n                headers,\n            })\n            .then((response) => {\n                return ApiService.handleResponse(response);\n            });\n    }\n\n    /**\n     * @param {String} promotionId\n     * @param {Number} amount\n     *\n     * @returns {Promise<T>}\n     */\n    addIndividualCodes(promotionId, amount) {\n        const headers = this.getBasicHeaders();\n\n        return this.httpClient\n            .post(\n                `/_action/${this.getApiBasePath()}/codes/add-individual`,\n                {\n                    promotionId,\n                    amount,\n                },\n                {\n                    headers,\n                },\n            )\n            .then((response) => {\n                return ApiService.handleResponse(response);\n            });\n    }\n\n    /**\n     * @param {String} promotionId\n     * @param {String} codePattern\n     * @param {Number} amount\n     *\n     * @returns {Promise<T>}\n     */\n    replaceIndividualCodes(promotionId, codePattern, amount = 1) {\n        const headers = this.getBasicHeaders();\n\n        return this.httpClient\n            .patch(\n                `/_action/${this.getApiBasePath()}/codes/replace-individual`,\n                {\n                    promotionId,\n                    codePattern,\n                    amount,\n                },\n                {\n                    headers,\n                },\n            )\n            .then((response) => {\n                return ApiService.handleResponse(response);\n            });\n    }\n\n    /**\n     * @param {String} codePattern\n     *\n     * @returns {Promise<T>}\n     */\n    generatePreview(codePattern) {\n        const headers = this.getBasicHeaders();\n\n        return this.httpClient\n            .get(`/_action/${this.getApiBasePath()}/codes/preview`, {\n                params: { codePattern },\n                headers,\n            })\n            .then((response) => {\n                return ApiService.handleResponse(response);\n            });\n    }\n}\n","/**\n * @package checkout\n */\nimport PromotionCodeApiService from '../service/promotion-code.api.service';\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nCicada.Service().register('promotionCodeApiService', () => {\n    return new PromotionCodeApiService(Cicada.Application.getContainer('init').httpClient, Cicada.Service('loginService'));\n});\n","/**\n * @package checkout\n */\nconst { Service } = Cicada;\n\nService('privileges').addPrivilegeMappingEntry({\n    category: 'permissions',\n    parent: 'marketing',\n    key: 'promotion',\n    roles: {\n        viewer: {\n            privileges: [\n                'promotion:read',\n                'promotion_sales_channel:read',\n                'customer:read',\n                'rule:read',\n                'sales_channel:read',\n                'promotion_discount:read',\n                'promotion_discount_prices:read',\n                'promotion_individual_code:read',\n                'rule_condition:read',\n                'currency:read',\n                'promotion_discount_rule:read',\n                'promotion_setgroup:read',\n                'promotion_setgroup_rule:read',\n                'user_config:read',\n                'user_config:create',\n                'user_config:update',\n                'custom_field_set:read',\n                'custom_field:read',\n                'custom_field_set_relation:read',\n            ],\n            dependencies: [],\n        },\n        editor: {\n            privileges: [\n                'promotion:update',\n                'promotion_sales_channel:create',\n                'promotion_sales_channel:delete',\n                'promotion_persona_customer:create',\n                'promotion_persona_customer:delete',\n                'promotion_order_rule:create',\n                'promotion_order_rule:delete',\n                'promotion_persona_rule:create',\n                'promotion_persona_rule:delete',\n                'promotion_cart_rule:create',\n                'promotion_cart_rule:delete',\n                'promotion_discount:create',\n                'promotion_discount:update',\n                'promotion_discount:delete',\n                'promotion_discount_rule:create',\n                'promotion_discount_prices:create',\n                'promotion_individual_code:create',\n                'promotion_individual_code:delete',\n                'promotion_setgroup:create',\n                'promotion_setgroup_rule:create',\n                Cicada.Service('privileges').getPrivileges('rule.creator'),\n            ],\n            dependencies: [\n                'promotion.viewer',\n            ],\n        },\n        creator: {\n            privileges: [\n                'promotion:create',\n            ],\n            dependencies: [\n                'promotion.viewer',\n                'promotion.editor',\n            ],\n        },\n        deleter: {\n            privileges: [\n                'promotion:delete',\n            ],\n            dependencies: [\n                'promotion.viewer',\n            ],\n        },\n    },\n});\n","/**\n * @package checkout\n * @private\n * @deprecated tag:v6.7.0 - Will be replaced with Pinia store\n */\nexport default {\n    namespaced: true,\n\n    state() {\n        return {\n            promotion: null,\n            personaCustomerIdsAdd: null,\n            personaCustomerIdsDelete: null,\n            setGroupIdsDelete: [],\n            isLoading: false,\n        };\n    },\n\n    mutations: {\n        setPromotion(state, promotion) {\n            state.promotion = promotion;\n        },\n\n        setPersonaCustomerIdsAdd(state, customerIds) {\n            state.personaCustomerIdsAdd = customerIds;\n        },\n\n        setPersonaCustomerIdsDelete(state, customerIds) {\n            state.personaCustomerIdsDelete = customerIds;\n        },\n\n        setSetGroupIdsDelete(state, groupIds) {\n            state.setGroupIdsDelete = groupIds;\n        },\n\n        setIsLoading(state, isLoading) {\n            state.isLoading = isLoading;\n        },\n    },\n};\n","/**\n * @package checkout\n */\nimport { searchRankingPoint } from 'src/app/service/search-ranking.service';\n\nconst defaultSearchConfiguration = {\n    _searchable: false,\n    name: {\n        _searchable: true,\n        _score: searchRankingPoint.HIGH_SEARCH_RANKING,\n    },\n    code: {\n        _searchable: true,\n        _score: searchRankingPoint.HIGH_SEARCH_RANKING,\n    },\n};\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default defaultSearchConfiguration;\n","/**\n * @package checkout\n */\nimport './init/services.init';\nimport './acl';\n\nimport swPromotionState from './page/sw-promotion-v2-detail/state';\nimport defaultSearchConfiguration from './default-search-configuration';\n\nconst { Module, State } = Cicada;\nState.registerModule('swPromotionDetail', swPromotionState);\n\n/* eslint-disable max-len, sw-deprecation-rules/private-feature-declarations */\nCicada.Component.register(\n    'sw-promotion-v2-settings-trigger',\n    () => import('./component/discount/sw-promotion-v2-settings-trigger'),\n);\nCicada.Component.register(\n    'sw-promotion-v2-settings-discount-type',\n    () => import('./component/discount/sw-promotion-v2-settings-discount-type'),\n);\nCicada.Component.register(\n    'sw-promotion-v2-settings-rule-selection',\n    () => import('./component/discount/sw-promotion-v2-settings-rule-selection'),\n);\nCicada.Component.extend(\n    'sw-promotion-v2-wizard-discount-selection',\n    'sw-wizard-page',\n    () => import('./component/discount/sw-promotion-v2-wizard-discount-selection'),\n);\nCicada.Component.register(\n    'sw-promotion-v2-wizard-description',\n    () => import('./component/discount/sw-promotion-v2-wizard-description'),\n);\nCicada.Component.register(\n    'sw-promotion-v2-generate-codes-modal',\n    () => import('./component/promotion-codes/sw-promotion-v2-generate-codes-modal'),\n);\nCicada.Component.register(\n    'sw-promotion-v2-individual-codes-behavior',\n    () => import('./component/promotion-codes/sw-promotion-v2-individual-codes-behavior'),\n);\nCicada.Component.register(\n    'sw-promotion-v2-cart-condition-form',\n    () => import('./component/sw-promotion-v2-cart-condition-form'),\n);\nCicada.Component.register('sw-promotion-v2-empty-state-hero', () => import('./component/sw-promotion-v2-empty-state-hero'));\nCicada.Component.register('sw-promotion-v2-rule-select', () => import('./component/sw-promotion-v2-rule-select'));\nCicada.Component.register(\n    'sw-promotion-v2-sales-channel-select',\n    () => import('./component/sw-promotion-v2-sales-channel-select'),\n);\nCicada.Component.register('sw-promotion-discount-component', () => import('./component/sw-promotion-discount-component'));\nCicada.Component.register('sw-promotion-v2-detail', () => import('./page/sw-promotion-v2-detail'));\nCicada.Component.register('sw-promotion-v2-list', () => import('./page/sw-promotion-v2-list'));\nCicada.Component.register('sw-promotion-v2-detail-base', () => import('./view/sw-promotion-v2-detail-base'));\nCicada.Component.register('sw-promotion-v2-conditions', () => import('./view/sw-promotion-v2-conditions'));\nCicada.Component.register('sw-promotion-detail-discounts', () => import('./view/sw-promotion-detail-discounts'));\n/* eslint-enable max-len, sw-deprecation-rules/private-feature-declarations */\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nModule.register('sw-promotion-v2', {\n    type: 'core',\n    name: 'promotion-v2',\n    title: 'sw-promotion-v2.general.mainMenuItemGeneral',\n    description: 'sw-promotion-v2.general.description',\n    version: '1.0.0',\n    targetVersion: '1.0.0',\n    color: '#FFD700',\n    icon: 'regular-megaphone',\n    favicon: 'icon-module-marketing.png',\n    entity: 'promotion',\n\n    routes: {\n        index: {\n            components: {\n                default: 'sw-promotion-v2-list',\n            },\n            path: 'index',\n            meta: {\n                privilege: 'promotion.viewer',\n                appSystem: {\n                    view: 'list',\n                },\n            },\n        },\n\n        create: {\n            component: 'sw-promotion-v2-detail',\n            path: 'create',\n            redirect: {\n                name: 'sw.promotion.v2.create.base',\n            },\n            meta: {\n                privilege: 'promotion.creator',\n            },\n            children: {\n                base: {\n                    component: 'sw-promotion-v2-detail-base',\n                    path: 'base',\n                    meta: {\n                        parentPath: 'sw.promotion.v2.index',\n                        privilege: 'promotion.creator',\n                    },\n                },\n            },\n        },\n\n        detail: {\n            component: 'sw-promotion-v2-detail',\n            path: 'detail/:id?',\n            redirect: {\n                name: 'sw.promotion.v2.detail.base',\n            },\n            meta: {\n                privilege: 'promotion.viewer',\n                appSystem: {\n                    view: 'detail',\n                },\n            },\n            children: {\n                base: {\n                    component: 'sw-promotion-v2-detail-base',\n                    path: 'base',\n                    meta: {\n                        parentPath: 'sw.promotion.v2.index',\n                        privilege: 'promotion.viewer',\n                    },\n                },\n                conditions: {\n                    component: 'sw-promotion-v2-conditions',\n                    path: 'conditions',\n                    meta: {\n                        parentPath: 'sw.promotion.v2.index',\n                        privilege: 'promotion.viewer',\n                    },\n                },\n                discounts: {\n                    component: 'sw-promotion-detail-discounts',\n                    path: 'discounts',\n                    meta: {\n                        parentPath: 'sw.promotion.v2.index',\n                        privilege: 'promotion.viewer',\n                    },\n                },\n            },\n            props: {\n                default: (route) => {\n                    return {\n                        promotionId: route.params.id,\n                    };\n                },\n            },\n        },\n    },\n\n    navigation: [\n        {\n            id: 'sw-marketing',\n            label: 'global.sw-admin-menu.navigation.mainMenuItemMarketing',\n            color: '#FFD700',\n            icon: 'regular-megaphone',\n            position: 70,\n            privilege: 'promotion.viewer',\n        },\n        {\n            id: 'sw-promotion-v2',\n            path: 'sw.promotion.v2.index',\n            label: 'sw-promotion-v2.general.mainMenuItemGeneral',\n            color: '#FFD700',\n            icon: 'regular-megaphone',\n            position: 100,\n            parent: 'sw-marketing',\n            privilege: 'promotion.viewer',\n        },\n    ],\n\n    defaultSearchConfiguration,\n});\n"],"file":"assets/index-BmIp5vE6.js"}