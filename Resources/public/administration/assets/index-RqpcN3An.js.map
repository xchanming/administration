{"version":3,"file":"index-RqpcN3An.js","sources":["../../../app/administration/src/module/sw-settings-tax/component/sw-settings-tax-rule-type-individual-states/sw-settings-tax-rule-type-individual-states.html.twig","../../../app/administration/src/module/sw-settings-tax/component/sw-settings-tax-rule-type-individual-states/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_settings_tax_rule_type_individual_states %}\n<sw-entity-multi-select\n    v-if=\"individualStates && taxRule.countryId\"\n    :label=\"$tc('sw-settings-tax.taxRuleCard.labelStates')\"\n    :placeholder=\"$tc('sw-settings-tax.taxRuleCard.placeholderStates')\"\n    :criteria=\"exclusionCriteria\"\n    :entity-collection=\"individualStates\"\n    @update:entity-collection=\"onChange\"\n/>\n{% endblock %}\n","import template from './sw-settings-tax-rule-type-individual-states.html.twig';\n\n/**\n * @package checkout\n */\n\nconst { Context } = Cicada;\nconst { Criteria, EntityCollection } = Cicada.Data;\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: ['repositoryFactory'],\n\n    props: {\n        taxRule: {\n            type: Object,\n            required: true,\n        },\n    },\n\n    data() {\n        return {\n            individualStates: null,\n        };\n    },\n\n    computed: {\n        exclusionCriteria() {\n            const criteria = new Criteria(1, 25);\n            criteria.addFilter(Criteria.equals('countryId', this.taxRule.countryId));\n\n            return criteria;\n        },\n        stateRepository() {\n            return this.repositoryFactory.create('country_state');\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            if (!this.taxRule.data || !this.taxRule.data.states || !this.taxRule.data.states.length) {\n                this.taxRule.data = { states: [] };\n                this.individualStates = new EntityCollection(\n                    this.stateRepository.route,\n                    this.stateRepository.entityName,\n                    Context.api,\n                );\n            } else {\n                const criteria = new Criteria(1, 25);\n                criteria.setIds(this.taxRule.data.states);\n\n                this.stateRepository.search(criteria, Context.api).then((collection) => {\n                    this.individualStates = collection;\n                });\n            }\n        },\n\n        onChange(collection) {\n            this.individualStates = collection;\n            this.taxRule.data.states = collection.getIds();\n        },\n    },\n};\n"],"names":["template","Context","Criteria","EntityCollection","index","criteria","collection"],"mappings":"AAAA,MAAeA,EAAA,sXCMT,CAAE,QAAAC,CAAS,EAAG,OACd,CAAE,SAAAC,EAAU,iBAAAC,GAAqB,OAAO,KAG/BC,EAAA,CACX,SAAAJ,EAEA,aAAc,OAAO,aAErB,OAAQ,CAAC,mBAAmB,EAE5B,MAAO,CACH,QAAS,CACL,KAAM,OACN,SAAU,EACb,CACJ,EAED,MAAO,CACH,MAAO,CACH,iBAAkB,IAC9B,CACK,EAED,SAAU,CACN,mBAAoB,CAChB,MAAMK,EAAW,IAAIH,EAAS,EAAG,EAAE,EACnC,OAAAG,EAAS,UAAUH,EAAS,OAAO,YAAa,KAAK,QAAQ,SAAS,CAAC,EAEhEG,CACV,EACD,iBAAkB,CACd,OAAO,KAAK,kBAAkB,OAAO,eAAe,CACvD,CACJ,EAED,SAAU,CACN,KAAK,iBAAgB,CACxB,EAED,QAAS,CACL,kBAAmB,CACf,GAAI,CAAC,KAAK,QAAQ,MAAQ,CAAC,KAAK,QAAQ,KAAK,QAAU,CAAC,KAAK,QAAQ,KAAK,OAAO,OAC7E,KAAK,QAAQ,KAAO,CAAE,OAAQ,CAAE,CAAA,EAChC,KAAK,iBAAmB,IAAIF,EACxB,KAAK,gBAAgB,MACrB,KAAK,gBAAgB,WACrBF,EAAQ,GAC5B,MACmB,CACH,MAAMI,EAAW,IAAIH,EAAS,EAAG,EAAE,EACnCG,EAAS,OAAO,KAAK,QAAQ,KAAK,MAAM,EAExC,KAAK,gBAAgB,OAAOA,EAAUJ,EAAQ,GAAG,EAAE,KAAMK,GAAe,CACpE,KAAK,iBAAmBA,CAC5C,CAAiB,CACJ,CACJ,EAED,SAASA,EAAY,CACjB,KAAK,iBAAmBA,EACxB,KAAK,QAAQ,KAAK,OAASA,EAAW,OAAM,CAC/C,CACJ,CACL"}