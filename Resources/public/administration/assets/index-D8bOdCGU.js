const l=`{% block sw_avatar %} <span ref="swAvatar" class="sw-avatar" :class="'sw-avatar__' + variant" :style="[avatarImage, avatarColor, avatarSize, avatarInitialsSize]" role="img" > <slot> {% block sw_avatar_slot_imageUrl %} <span v-if="showInitials" class="sw-avatar__initials" > {{ avatarInitials }} </span> {% endblock %} {% block sw_avatar_slot_placeholder %} <span v-if="showPlaceholder"> <sw-icon name="regular-user" /> </span> {% endblock %} </slot> </span> {% endblock %}`,{Component:n}=Shopware,{cloneDeep:o}=Shopware.Utils.object,s=["#FFD700","#FFC700","#F88962","#F56C46","#FF85C2","#FF68AC","#6AD6F0","#4DC6E9","#A092F0","#8475E9","#57D9A3","#3CCA88"];n.register("sw-avatar",{template:l,props:{color:{type:String,required:!1,default:""},size:{type:String,required:!1,default:null},firstName:{type:String,required:!1,default:""},lastName:{type:String,required:!1,default:""},imageUrl:{type:String,required:!1,default:null},placeholder:{type:Boolean,required:!1,default:!1},sourceContext:{type:Object,required:!1,default:null},variant:{type:String,required:!1,default:"circle",validator:t=>["circle","square"].includes(t)}},data(){return{fontSize:16,lineHeight:16}},computed:{avatarSize(){const t=this.size;return{width:t,height:t}},avatarInitials(){const t=this.firstName?this.firstName[0]:"",a=this.lastName?this.lastName[0]:"";return t+a},avatarInitialsSize(){return{"font-size":`${this.fontSize}px`,"line-height":`${this.lineHeight}px`}},avatarImage(){if(this.imageUrl)return{"background-image":`url('${this.imageUrl}')`};if(!this.sourceContext||!this.sourceContext.avatarMedia||!this.sourceContext.avatarMedia.url)return null;const t=o(this.sourceContext.avatarMedia),a=t.thumbnails.sort((r,i)=>r.width-i.width)[0];return{"background-image":`url('${a?a.url:t.url}')`}},avatarColor(){if(this.color.length)return{"background-color":this.color};const t=this.firstName?this.firstName.length:0,a=this.lastName?this.lastName.length:0,e=t+a;return{"background-color":s[e%s.length]}},hasAvatarImage(){return!!this.avatarImage&&!!this.avatarImage["background-image"]},showPlaceholder(){return this.placeholder&&!this.hasAvatarImage},showInitials(){return!this.placeholder&&!this.hasAvatarImage}},watch:{size(){this.$nextTick(()=>{this.generateAvatarInitialsSize()})}},mounted(){this.mountedComponent()},methods:{mountedComponent(){this.generateAvatarInitialsSize()},generateAvatarInitialsSize(){const t=this.$refs.swAvatar.offsetHeight;this.fontSize=Math.round(t*.4),this.lineHeight=Math.round(t*.98)}}});
