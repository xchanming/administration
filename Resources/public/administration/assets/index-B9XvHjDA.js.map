{"version":3,"file":"index-B9XvHjDA.js","sources":["../../../app/administration/src/app/component/structure/sw-page/sw-page.html.twig","../../../app/administration/src/app/component/structure/sw-page/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_page %}\n<div\n    class=\"sw-page\"\n    :class=\"pageClasses\"\n>\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_page_head_area %}\n    <div\n        v-if=\"showHeadArea\"\n        class=\"sw-page__head-area\"\n        :style=\"headerStyles\"\n    >\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_page_search_bar %}\n        <div\n            v-if=\"showSearchBar\"\n            class=\"sw-page__search-bar\"\n        >\n            <slot name=\"search-bar\">\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_page_slot_search_bar %}\n                <sw-search-bar />\n                {% endblock %}\n            </slot>\n        </div>\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_page_top_bar_actions %}\n        <div\n            class=\"sw-page__top-bar-actions\"\n            :style=\"topBarActionStyles\"\n        >\n            <sw-app-topbar-button />\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_page_notification_center %}\n            <sw-notification-center />\n            {% endblock %}\n\n            <sw-help-center-v2 />\n        </div>\n        {% endblock %}\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_page_smart_bar %}\n        <template v-if=\"showSmartBar\">\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_page_smart_bar_divider %}\n            <div\n                v-if=\"showSmartBar && showSearchBar\"\n                class=\"sw-page__smart-bar-divider\"\n            ></div>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_page_smart_bar_back_btn %}\n            <div\n                class=\"sw-page__back-btn-container\"\n                :style=\"smartBarContentStyle\"\n            >\n                <slot name=\"smart-bar-back\">\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_page_slot_smart_bar_back %}\n                    <router-link\n                        v-if=\"parentRoute\"\n                        class=\"smart-bar__back-btn\"\n                        :aria-label=\"$tc('global.sw-page.backButton')\"\n                        :title=\"$tc('global.sw-page.backButton')\"\n                        :to=\"{ name: parentRoute }\"\n                        :style=\"{ 'color': pageColor }\"\n                    >\n                        <sw-icon\n                            name=\"regular-chevron-left\"\n                            small\n                        />\n                        <sw-icon\n                            v-if=\"module && module.icon\"\n                            :name=\"module.icon\"\n                            small\n                        />\n                    </router-link>\n                    {% endblock %}\n                </slot>\n            </div>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_page_smart_bar_content %}\n            <div\n                class=\"smart-bar__content\"\n                :style=\"smartBarContentStyle\"\n            >\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_page_smart_bar_content_header %}\n                <div class=\"smart-bar__header\">\n                    <slot name=\"smart-bar-header\">\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_page_slot_smart_bar_header %}\n                        <h2 v-if=\"module && module.title\">\n                            {{ $t(module.title) }}\n                        </h2>\n                        {% endblock %}\n                    </slot>\n                </div>\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_page_smart_bar_content_language_switch %}\n                <div class=\"smart-bar__language-switch\">\n                    <slot name=\"language-switch\">\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_page_slot_language_switch%}{% endblock %}\n                    </slot>\n                </div>\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_page_smart_bar_content_app_actions %}\n                <sw-app-actions />\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_page_smart_bar_content_actions %}\n                <div class=\"smart-bar__actions\">\n                    <slot name=\"smart-bar-actions\">\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_page_slot_smart_bar_actions %}{% endblock %}\n                    </slot>\n                </div>\n                {% endblock %}\n            </div>\n            {% endblock %}\n        </template>\n        {% endblock %}\n    </div>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_page_content %}\n    <div\n        ref=\"swPageContent\"\n        class=\"sw-page__content\"\n        :class=\"pageContentClasses\"\n    >\n        <div\n            v-if=\"hasSideContentSlot\"\n            class=\"sw-page__side-content\"\n        >\n            <div class=\"sw-page__side-content-inner\">\n                <slot name=\"side-content\">\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_page_slot_side_content %}{% endblock %}\n                </slot>\n            </div>\n        </div>\n\n        <main\n            id=\"main\"\n            class=\"sw-page__main-content\"\n            tabindex=\"-1\"\n        >\n            <div\n                class=\"sw-page__main-content-inner\"\n                v-bind=\"$attrs\"\n                v-on=\"additionalEventListeners\"\n            >\n                <slot name=\"content\">\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_page_slot_content %}{% endblock %}\n                </slot>\n            </div>\n        </main>\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_page_content_sidebar %}\n        <div\n            v-if=\"hasSidebarSlot\"\n            class=\"sw-page__sidebar\"\n        >\n            <slot name=\"sidebar\">\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_page_sidebar_slot %}{% endblock %}\n            </slot>\n        </div>\n        {% endblock %}\n    </div>\n    {% endblock %}\n\n</div>\n{% endblock %}\n","import template from './sw-page.html.twig';\nimport './sw-page.scss';\n\nconst { Component } = Cicada;\nconst { dom } = Cicada.Utils;\n\n/**\n * @package admin\n *\n * @private\n * @description\n * Container for the content of a page, including the search bar, page header, actions and the actual content.\n * @status ready\n * @example-type static\n * @component-example\n * <sw-page style=\"height: 550px; border: 1px solid #D8DDE6;\">\n *     <template #search-bar>\n *         <sw-search-bar>\n *         </sw-search-bar>\n *     </template>\n *     <template #smart-bar-header>\n *         <h2>Lorem ipsum page</h2>\n *     </template>\n *     <template #smart-bar-actions>\n *         <sw-button variant=\"primary\">\n *             Action\n *         </sw-button>\n *     </template>\n *     <template #side-content>\n *         <sw-card-view>\n *             <sw-card>\n *                 Lorem ipsum dolor sit amet, consetetur sadipscing elitr\n *             </sw-card>\n *         </sw-card-view>\n *     </template>\n *     <template #content>\n *         <sw-card-view>\n *             <sw-card title=\"Card1\" large></sw-card>\n *             <sw-card title=\"Card2\" large></sw-card>\n *         </sw-card-view>\n *     </template>\n * </sw-page>\n */\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nComponent.register('sw-page', {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    provide() {\n        if (this.isCompatEnabled('INSTANCE_EVENT_EMITTER')) {\n            return {};\n        }\n\n        return {\n            setSwPageSidebarOffset: this.setSidebarOffset,\n            removeSwPageSidebarOffset: this.removeSidebarOffset,\n        };\n    },\n\n    props: {\n        /**\n         * Toggles smart bar\n         */\n        showSmartBar: {\n            type: Boolean,\n            // eslint-disable-next-line vue/no-boolean-default\n            default: true,\n        },\n        /**\n         * Toggles search bar\n         */\n        showSearchBar: {\n            type: Boolean,\n            // eslint-disable-next-line vue/no-boolean-default\n            default: true,\n        },\n        /**\n         * Overrides the module color as the bottom-border-color of the page's smart bar\n         */\n        headerBorderColor: {\n            type: String,\n            required: false,\n            default: '',\n        },\n    },\n\n    data() {\n        return {\n            module: null,\n            parentRoute: null,\n            sidebarOffset: 0,\n            scrollbarOffset: 0,\n            hasFullWidthHeader: false,\n            languageId: '',\n        };\n    },\n\n    computed: {\n        pageColor() {\n            if (this.headerBorderColor) {\n                return this.headerBorderColor;\n            }\n\n            if (this.module?.color) {\n                return this.module.color;\n            }\n\n            return '#d8dde6';\n        },\n\n        hasSideContentSlot() {\n            return !!this.$slots['side-content'];\n        },\n\n        hasSidebarSlot() {\n            return !!this.$slots.sidebar;\n        },\n\n        showHeadArea() {\n            return this.showSearchBar || this.showSmartBar;\n        },\n\n        pageClasses() {\n            return {\n                'has--head-area': this.showHeadArea,\n            };\n        },\n\n        pageContainerClasses() {\n            return {\n                'has--smart-bar': this.showSmartBar,\n            };\n        },\n\n        pageContentClasses() {\n            return {\n                'has--smart-bar': !!this.showSmartBar,\n                'has--side-content': !!this.hasSideContentSlot,\n                'has--side-bar ': !!this.hasSidebarSlot && !this.hasSideContentSlot,\n            };\n        },\n\n        pageOffset() {\n            if (this.hasFullWidthHeader) {\n                return 0;\n            }\n            return `${this.sidebarOffset + this.scrollbarOffset}px`;\n        },\n\n        headerStyles() {\n            return {\n                'border-bottom-color': this.pageColor,\n                'padding-right': this.pageOffset,\n            };\n        },\n\n        topBarActionStyles() {\n            return {\n                'margin-right': `-${this.pageOffset}`,\n            };\n        },\n\n        additionalEventListeners() {\n            if (this.isCompatEnabled('INSTANCE_LISTENERS')) {\n                return this.$listeners;\n            }\n\n            return {};\n        },\n\n        smartBarContentStyle() {\n            const rowNumber = this.showSearchBar ? 2 : 1;\n\n            return {\n                'grid-row': rowNumber,\n            };\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    mounted() {\n        this.mountedComponent();\n    },\n\n    updated() {\n        this.updatedComponent();\n    },\n\n    beforeUnmount() {\n        Cicada.State.dispatch('error/resetApiErrors');\n        this.beforeDestroyComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            if (this.isCompatEnabled('INSTANCE_EVENT_EMITTER')) {\n                // eslint-disable-next-line vue/no-deprecated-events-api\n                this.$on('mount', this.setSidebarOffset);\n                // eslint-disable-next-line vue/no-deprecated-events-api\n                this.$on('destroy', this.removeSidebarOffset);\n            }\n\n            window.addEventListener('resize', this.readScreenWidth);\n        },\n\n        mountedComponent() {\n            this.initPage();\n            this.readScreenWidth();\n            this.setScrollbarOffset();\n        },\n\n        updatedComponent() {\n            this.setScrollbarOffset();\n        },\n\n        beforeDestroyComponent() {\n            window.removeEventListener('resize', this.readScreenWidth);\n        },\n\n        readScreenWidth() {\n            this.hasFullWidthHeader = document.body.clientWidth <= 500;\n        },\n\n        setSidebarOffset(sidebarWidth) {\n            this.sidebarOffset = sidebarWidth;\n        },\n\n        removeSidebarOffset() {\n            this.sidebarOffset = 0;\n        },\n\n        setScrollbarOffset() {\n            let contentEl = document.querySelector('.sw-card-view__content');\n\n            if (!contentEl) {\n                contentEl = document.querySelector('.sw-page__main-content-inner');\n            }\n\n            if (contentEl !== null) {\n                this.scrollbarOffset = dom.getScrollbarWidth(contentEl);\n            }\n        },\n\n        initPage() {\n            if (this.$route.meta.$module) {\n                this.module = this.$route.meta.$module;\n            }\n\n            if (this.$route.meta.parentPath) {\n                this.parentRoute = this.$route.meta.parentPath;\n            }\n        },\n    },\n});\n"],"names":["template","Component","dom","_a","sidebarWidth","contentEl"],"mappings":"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"}