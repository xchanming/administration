const r=`{% block sw_settings_number_range_detail_language_switch %} <template #language-switch> <sw-language-switch disabled /> </template> {% endblock %} {% block sw_settings_number_range_detail_content_global_product_warning %} <sw-alert v-if="isShowProductWarning" class="sw-number_range-quickinfo__alert-global-type sw-number_range-quickinfo__product-alert" variant="warning" :title="$tc('sw-settings-number-range.general.infoGlobalTypeTitle', { typeName: 'Product'}, 0)" > {{ $tc('sw-settings-number-range.general.infoGlobalType', { typeName: 'Product' }, 0) }} </sw-alert> {% endblock %} {% block sw_settings_number_range_detail_assignment_card_global_warning %} {% endblock %}`,s=Shopware.Utils,{Data:{Criteria:t}}=Shopware,i={template:r,data(){return{hasProductNumberRange:!1,isShowProductWarning:!1}},beforeRouteEnter(e,a,n){e.name.includes("sw.settings.number.range.create")&&!e.params.id&&(e.params.id=s.createId()),n()},computed:{productNumberRangeCriteria(){const e=new t(1,1);return e.addAssociation("type"),e.addFilter(t.multi("and",[t.equals("type.global",!0),t.equals("type.technicalName","product")])),e},numberRangeTypeCriteria(){const e=new t(1,25);return this.hasProductNumberRange&&e.addFilter(t.equals("global",!1)),e.addSorting(t.sort("typeName","ASC")),e},disableNumberRangeTypeSelect(){return!1}},methods:{async createdComponent(){await this.getProductNumberRanges(),Shopware.Store.get("context").isSystemDefaultLanguage||Shopware.Store.get("context").resetLanguageToDefault(),this.$route.params.id?this.numberRange=this.numberRangeRepository.create(Shopware.Context.api,this.$route.params.id):this.numberRange=this.numberRangeRepository.create(),this.numberRange.start=1,this.numberRange.global=!1,this.numberRange.pattern="",this.numberRange.isLoading=!0,this.numberRange.type=this.numberRangeTypeRepository.create(),this.numberRange.type.global=this.hasProductNumberRange,this.$super("createdComponent"),this.getPreview(),this.splitPattern(),this.onChangePattern(),this.numberRange.isLoading=!1},saveFinish(){this.isSaveSuccessful=!1,this.$router.push({name:"sw.settings.number.range.detail",params:{id:this.numberRange.id}})},onSave(){this.$super("onSave")},async getProductNumberRanges(){this.numberRangeRepository.search(this.productNumberRangeCriteria).then(e=>{this.hasProductNumberRange=!!e.total})},onChangeType(e,a){this.isShowProductWarning=a&&a.technicalName==="product",this.numberRange.global=this.isShowProductWarning,this.loadSalesChannels()}}};export{i as default};
