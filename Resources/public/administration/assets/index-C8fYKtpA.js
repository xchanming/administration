const n=`{% block sw_settings_search_searchable_content_general %} <div class="sw-settings-search__searchable-content-general"> {% block sw_settings_search_searchable_content_general_empty_state %} <sw-empty-state v-if="isEmpty" :title="$tc('sw-settings-search.generalTab.textEmptyStateSearchableContent')" :show-description="false" :has-action-slot="true" :absolute="false" > <template #icon> {% block sw_settings_search_searchable_content_general_state_image %} <img :src="assetFilter('administration/static/img/empty-states/settings-empty-state.svg')" :alt="$tc('sw-settings-search.generalTab.textEmptyStateSearchableContent')" > {% endblock %} </template> </sw-empty-state> {% endblock %} {% block sw_settings_search_searchable_content_general_grid %} <sw-entity-listing v-if="!isEmpty" ref="swSettingsSearchableContentGrid" class="sw-settings-search__searchable-content-list" :columns="columns" :repository="repository" :allow-column-edit="false" :full-page="false" :show-settings="false" :show-selection="false" :is-loading="isLoading" :items="searchConfigs" :skeleton-item-amount="searchConfigs && searchConfigs.length" :allow-inline-edit="acl.can('product_search_config.editor')" @inline-edit-save="onInlineEditSave" @inline-edit-cancel="onInlineEditCancel" > {% block sw_settings_search_searchable_content_general_field %} <template #column-field="{ item, isInlineEdit }"> <template v-if="item._isNew && isInlineEdit"> {% block sw_settings_search_searchable_content_general_field_editor %} <sw-single-select v-model:value="item.field" class="sw-settings-search-field-select" size="small" show-clearable-button :options="fieldConfigs" @update:value="onSelectField(item)" /> {% endblock %} </template> <template v-else> {% block sw_settings_search_searchable_content_general_field_label %} {{ getMatchingFields(item.field) }} {% endblock %} </template> </template> {% endblock %} {% block sw_settings_search_searchable_content_general_ranking %} <template #column-ranking="{ item, isInlineEdit }"> <template v-if="isInlineEdit"> {% block sw_settings_search_searchable_content_general_ranking_editor %} <sw-number-field v-model:value="item.ranking" number-type="int" size="small" /> {% endblock %} </template> </template> {% endblock %} {% block sw_settings_search_searchable_content_general_searchable %} <template #column-searchable="{ item, isInlineEdit }"> <template v-if="isInlineEdit"> {% block sw_settings_search_searchable_content_general_searchable_editor %} <sw-checkbox-field v-model:value="item.searchable" /> {% endblock %} </template> <template v-else> {% block sw_settings_search_searchable_content_general_searchable_label %} <sw-data-grid-column-boolean v-model:value="item.searchable" /> {% endblock %} </template> </template> {% endblock %} {% block sw_settings_search_searchable_content_general_tokenize %} <template #column-tokenize="{ item, isInlineEdit }"> <template v-if="isInlineEdit"> {% block sw_settings_search_searchable_content_general_tokenize_editor %} <sw-checkbox-field v-model:value="item.tokenize" /> {% endblock %} </template> <template v-else> {% block sw_settings_search_searchable_content_general_tokenize_label %} <sw-data-grid-column-boolean v-model:value="item.tokenize" /> {% endblock %} </template> </template> {% endblock %} {% block sw_settings_search_searchable_content_general_columns_actions %} <template #actions="{ item }"> <sw-context-menu-item class="sw-settings-search__searchable-content-list-action sw-settings-search__searchable-content-list-edit" :disabled="!acl.can('product_search_config.editor')" @click="onInlineEditItem(item)" > {{ $tc('global.default.edit') }} </sw-context-menu-item> {% block sw_settings_search_searchable_content_general_columns_actions_edit %} <sw-context-menu-item class="sw-settings-search__searchable-content-list-action sw-settings-search__searchable-content-list-reset" :disabled="!acl.can('product_search_config.editor')" @click="onResetRanking(item)" > {{ $tc('sw-settings-search.generalTab.list.textResetRanking') }} </sw-context-menu-item> {% endblock %} </template> {% endblock %} {% block sw_settings_search_searchable_content_general_pagination %} <template #pagination> <sw-pagination :page="page" :limit="limit" :total="total" auto-hide /> </template> {% endblock %} </sw-entity-listing> {% endblock %} </div> {% endblock %}`,{Mixin:a}=Shopware,i={template:n,inject:["acl"],emits:["data-load","config-save"],mixins:[a.getByName("listing"),a.getByName("notification")],props:{isEmpty:{type:Boolean,required:!0},columns:{type:Array,required:!0},repository:{type:Object,required:!0},searchConfigs:{type:Array,required:!1,default(){return null}},fieldConfigs:{type:Array,required:!0},isLoading:{type:Boolean,required:!1,default:!1}},computed:{assetFilter(){return Shopware.Filter.getByName("asset")}},methods:{getList(){},getMatchingFields(e){if(!e)return"";const s=this.fieldConfigs.find(t=>t.value===e);return s?s.label:""},onSelectField(e){const{defaultConfigs:s}=this.fieldConfigs.find(t=>t.value===e.field);this.searchConfigs.forEach(t=>(t._isNew&&(t.ranking=s.ranking,t.searchable=s.searchable,t.tokenize=s.tokenize),t))},onInlineEditSave(e){e.then(()=>{this.createNotificationSuccess({message:this.$tc("sw-settings-search.notification.saveSuccess")})}).catch(()=>{this.createNotificationError({message:this.$tc("sw-settings-search.notification.saveError")})}).finally(()=>{this.$emit("data-load")})},onInlineEditCancel(){this.$emit("data-load")},onInlineEditItem(e){this.$refs.swSettingsSearchableContentGrid.onDbClickCell(e)},onResetRanking(e){if(!e.field){this.createNotificationError({message:this.$tc("sw-settings-search.notification.saveError")}),this.$emit("data-load");return}const s=this.searchConfigs.find(t=>t.field===e.field);if(!s){this.createNotificationError({message:this.$tc("sw-settings-search.notification.saveError")});return}s.ranking=this.getConfigRankingDefault(e.field),this.$emit("config-save")},getConfigRankingDefault(e){if(!e)return 0;const s=this.fieldConfigs.find(t=>t.value===e);return s?s.defaultConfigs.ranking:0}}};export{i as default};
