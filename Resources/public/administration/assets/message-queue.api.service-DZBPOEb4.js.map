{"version":3,"file":"message-queue.api.service-DZBPOEb4.js","sources":["../../../app/administration/src/core/service/api/message-queue.api.service.ts"],"sourcesContent":["import type { AxiosInstance, CancelToken } from 'axios';\nimport ApiService from '../api.service';\nimport type { LoginService } from '../login.service';\n\n/**\n * Gateway for the API end point \"message-queue\"\n * @class\n * @extends ApiService\n * @package services-settings\n */\nclass MessageQueueApiService extends ApiService {\n    constructor(httpClient: AxiosInstance, loginService: LoginService, apiEndpoint = 'message-queue') {\n        super(httpClient, loginService, apiEndpoint);\n        this.name = 'messageQueueService';\n    }\n\n    /**\n     * Run all due scheduled tasks\n     *\n     * @returns {Promise<T>}\n     */\n    consume(receiver: string, cancelToken?: CancelToken): Promise<{ handledMessages: number }> {\n        const headers = this.getBasicHeaders();\n\n        return this.httpClient\n            .post<{ handledMessages: number }>(\n                `/_action/${this.getApiBasePath()}/consume`,\n                { receiver },\n                {\n                    headers,\n                    cancelToken,\n                },\n            )\n            .then(ApiService.handleResponse.bind(this));\n    }\n}\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default MessageQueueApiService;\n"],"names":["MessageQueueApiService","ApiService","httpClient","loginService","apiEndpoint","receiver","cancelToken","headers"],"mappings":"iHAUA,MAAMA,UAA+BC,CAAW,CAC5C,YAAYC,EAA2BC,EAA4BC,EAAc,gBAAiB,CACxF,MAAAF,EAAYC,EAAcC,CAAW,EAC3C,KAAK,KAAO,qBAChB,CAOA,QAAQC,EAAkBC,EAAiE,CACjF,MAAAC,EAAU,KAAK,kBAErB,OAAO,KAAK,WACP,KACG,YAAY,KAAK,eAAA,CAAgB,WACjC,CAAE,SAAAF,CAAS,EACX,CACI,QAAAE,EACA,YAAAD,CACJ,CAAA,EAEH,KAAKL,EAAW,eAAe,KAAK,IAAI,CAAC,CAClD,CACJ"}