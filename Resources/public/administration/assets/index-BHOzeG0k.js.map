{"version":3,"file":"index-BHOzeG0k.js","sources":["../../../app/administration/src/module/sw-cms/elements/image-slider/component/sw-cms-el-image-slider.html.twig","../../../app/administration/src/module/sw-cms/elements/image-slider/component/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_cms_element_image_slider %}\n<div\n    class=\"sw-cms-el-image-slider\"\n    :class=\"outsideNavArrows\"\n    :style=\"verticalAlignStyle\"\n>\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_cms_element_image_slider_img %}\n    <div\n        class=\"sw-cms-el-image-slider__image-box\"\n        :class=\"[displayModeClass, navDotsClass]\"\n        :style=\"styles\"\n    >\n        <video\n            v-if=\"activeMedia?.mediaType?.name === 'VIDEO'\"\n            class=\"sw-cms-el-image-slider__video\"\n            :src=\"activeMedia?.url\"\n            controls\n        >\n            {{ $tc('global.sw-media-preview-v2.fallbackVideoTagSupport') }}\n        </video>\n        <img\n            v-else\n            class=\"sw-cms-el-image-slider__image\"\n            :src=\"imgSrc\"\n            alt=\"\"\n        >\n    </div>\n    {% endblock %}\n\n    <template v-if=\"element.data !== null\">\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_element_image_slider_nav %}\n        <div class=\"sw-cms-el-image-slider__navigation\">\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_cms_element_image_slider_nav_dots %}\n            <div\n                v-if=\"element.config.navigationDots.value !== null\"\n                class=\"sw-cms-el-image-slider__navigation-dots\"\n                :class=\"navDotsClass\"\n            >\n                <div class=\"sw-cms-el-image-slider__navigation-buttons\">\n                    <template v-if=\"sliderItems?.length > 0\">\n                        <div\n                            v-for=\"(sliderItem, index) in sliderItems\"\n                            :key=\"index\"\n                            :class=\"activeButtonClass(sliderItem.media.url)\"\n                            class=\"sw-cms-el-image-slider__navigation-button\"\n                            role=\"button\"\n                            tabindex=\"0\"\n                            @click=\"setSliderItem(sliderItem.media, index)\"\n                            @keydown.enter=\"setSliderItem(sliderItem.media, index)\"\n                        ></div>\n                    </template>\n                    <template v-else>\n                        <div class=\"sw-cms-el-image-slider__navigation-button is--active\"></div>\n                        <div class=\"sw-cms-el-image-slider__navigation-button\"></div>\n                        <div class=\"sw-cms-el-image-slider__navigation-button\"></div>\n                    </template>\n                </div>\n            </div>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_cms_element_image_slider_nav_arrows %}\n            <div\n                v-if=\"element.config.navigationArrows.value !== null\"\n                class=\"sw-cms-el-image-slider__navigation-arrows\"\n                :class=\"[navArrowsClass, navDotsClass]\"\n            >\n                <sw-icon\n                    class=\"sw-cms-el-image-slider__navigation-button\"\n                    name=\"regular-chevron-left\"\n                    size=\"24\"\n                    @click=\"setSliderArrowItem(-1)\"\n                />\n                <sw-icon\n                    class=\"sw-cms-el-image-slider__navigation-button\"\n                    name=\"regular-chevron-right\"\n                    size=\"24\"\n                    @click=\"setSliderArrowItem(1)\"\n                />\n            </div>\n            {% endblock %}\n        </div>\n        {% endblock %}\n    </template>\n\n    <template v-else>\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_element_image_slider_nav_default %}\n        <div class=\"sw-cms-el-image-slider__navigation\">\n            <div class=\"sw-cms-el-image-slider__navigation-arrows is--nav-outside\">\n                <sw-icon\n                    class=\"sw-cms-el-image-slider__navigation-button\"\n                    name=\"regular-chevron-left\"\n                    size=\"24\"\n                />\n                <sw-icon\n                    class=\"sw-cms-el-image-slider__navigation-button\"\n                    name=\"regular-chevron-right\"\n                    size=\"24\"\n                />\n            </div>\n        </div>\n        {% endblock %}\n    </template>\n</div>\n{% endblock %}\n","import template from './sw-cms-el-image-slider.html.twig';\nimport './sw-cms-el-image-slider.scss';\n\nconst { Mixin, Filter } = Cicada;\n\n/**\n * @private\n * @package discovery\n */\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: ['feature'],\n\n    emits: ['active-image-change'],\n\n    mixins: [\n        Mixin.getByName('cms-element'),\n    ],\n\n    props: {\n        activeMedia: {\n            type: [\n                Object,\n                null,\n            ],\n            required: false,\n            default: null,\n        },\n    },\n\n    data() {\n        return {\n            columnCount: 7,\n            columnWidth: 90,\n            sliderPos: 0,\n            imgPath: '/administration/static/img/cms/preview_mountain_large.jpg',\n            imgSrc: '',\n        };\n    },\n\n    computed: {\n        gridAutoRows() {\n            return `grid-auto-rows: ${this.columnWidth}`;\n        },\n\n        uploadTag() {\n            return `cms-element-media-config-${this.element.id}`;\n        },\n\n        sliderItems() {\n            const sliderItemsConfig = this.element?.config?.sliderItems;\n            const sliderItemsData = this.element?.data?.sliderItems;\n\n            if (sliderItemsConfig?.source === 'mapped') {\n                return this.getDemoValue(sliderItemsConfig.value) || [];\n            }\n\n            if (sliderItemsData?.length > 0) {\n                return sliderItemsData;\n            }\n\n            return [];\n        },\n\n        displayModeClass() {\n            if (this.element.config.displayMode.value === 'standard') {\n                return null;\n            }\n\n            return `is--${this.element.config.displayMode.value}`;\n        },\n\n        styles() {\n            if (this.element.config.displayMode.value === 'cover' && this.element.config.minHeight.value !== 0) {\n                return {\n                    'min-height': this.element.config.minHeight.value,\n                };\n            }\n\n            return {};\n        },\n\n        outsideNavArrows() {\n            if (this.element.config.navigationArrows.value === 'outside') {\n                return 'has--outside-arrows';\n            }\n\n            return null;\n        },\n\n        navDotsClass() {\n            if (this.element.config.navigationDots.value) {\n                return `is--dot-${this.element.config.navigationDots.value}`;\n            }\n\n            return null;\n        },\n\n        navArrowsClass() {\n            if (this.element.config.navigationArrows.value) {\n                return `is--nav-${this.element.config.navigationArrows.value}`;\n            }\n\n            return null;\n        },\n\n        verticalAlignStyle() {\n            if (!this.element.config.verticalAlign.value) {\n                return null;\n            }\n\n            return `align-self: ${this.element.config.verticalAlign.value};`;\n        },\n\n        assetFilter() {\n            return Filter.getByName('asset');\n        },\n    },\n\n    watch: {\n        sliderItems: {\n            handler(sliderItems) {\n                if (sliderItems?.length > 0) {\n                    this.imgSrc = sliderItems[0].media.url;\n                    this.$emit('active-image-change', sliderItems[0].media);\n                } else {\n                    this.imgSrc = this.assetFilter(this.imgPath);\n                }\n            },\n            deep: true,\n        },\n\n        activeMedia() {\n            this.sliderPos = this.activeMedia.sliderIndex;\n            this.imgSrc = this.activeMedia.url;\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.initElementConfig('image-slider');\n            this.initElementData('image-slider');\n\n            if (this.sliderItems?.length > 0) {\n                this.imgSrc = this.sliderItems[0].media.url;\n                this.$emit('active-image-change', this.sliderItems[this.sliderPos].media);\n            } else {\n                this.imgSrc = this.assetFilter(this.imgPath);\n            }\n        },\n\n        setSliderItem(mediaItem, index) {\n            this.imgSrc = mediaItem.url;\n            this.sliderPos = index;\n            this.$emit('active-image-change', mediaItem, index);\n        },\n\n        activeButtonClass(url) {\n            return {\n                'is--active': this.imgSrc === url,\n            };\n        },\n\n        setSliderArrowItem(direction = 1) {\n            if (this.sliderItems.length < 2) {\n                return;\n            }\n\n            this.sliderPos += direction;\n\n            if (this.sliderPos < 0) {\n                this.sliderPos = this.sliderItems.length - 1;\n            }\n\n            if (this.sliderPos > this.sliderItems.length - 1) {\n                this.sliderPos = 0;\n            }\n\n            this.imgSrc = this.sliderItems[this.sliderPos].media.url;\n            this.$emit('active-image-change', this.sliderItems[this.sliderPos].media, this.sliderPos);\n        },\n    },\n};\n"],"names":["template","Mixin","Filter","index","_a","_b","_c","_d","sliderItemsConfig","sliderItemsData","sliderItems","mediaItem","url","direction"],"mappings":"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"}