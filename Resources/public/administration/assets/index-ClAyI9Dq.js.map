{"version":3,"file":"index-ClAyI9Dq.js","sources":["../../../app/administration/src/module/sw-bulk-edit/component/product/sw-bulk-edit-product-visibility/sw-bulk-edit-product-visibility.html.twig","../../../app/administration/src/module/sw-bulk-edit/component/product/sw-bulk-edit-product-visibility/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_bulk_edit_product_visibility %}\n<div class=\"sw-bulk-edit-product-visibility\">\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_bulk_edit_product_visibility_select %}\n    <sw-inherit-wrapper\n        ref=\"productVisibilitiesInheritance\"\n        v-model:value=\"product.visibilities\"\n        :inherited-value=\"product.visibilities\"\n        class=\"sw-product-category-form__visibility_field\"\n        :custom-remove-inheritance-function=\"visibilitiesRemoveInheritanceFunction\"\n        is-association\n    >\n        <template #content=\"{ currentValue, isInherited, updateCurrentValue }\">\n            <sw-product-visibility-select\n                ref=\"productVisibility\"\n                :key=\"isInherited\"\n                class=\"sw-product-detail__select-visibility\"\n                :entity-collection=\"currentValue\"\n                :placeholder=\"$tc('sw-product.visibility.placeholderVisibility')\"\n                :disabled=\"disabled || undefined\"\n                @update:entity-collection=\"updateCurrentValue\"\n            />\n        </template>\n    </sw-inherit-wrapper>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_bulk_edit_product_visibility_advanced %}\n    <sw-container\n        v-if=\"product.visibilities.length > 0\"\n        columns=\"1fr\"\n        justify=\"end\"\n    >\n        <a\n            class=\"sw-card__quick-link advanced-visibility\"\n            :class=\"{ 'is--disabled': disabled }\"\n            role=\"button\"\n            tabindex=\"0\"\n            @click=\"openModal\"\n            @keydown.enter=\"openModal\"\n        >\n            {{ $tc('sw-product.visibility.linkAdvancedVisibility') }} <sw-icon\n                name=\"regular-long-arrow-right\"\n                small\n            />\n        </a>\n    </sw-container>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_bulk_edit_product_visibility_advanced_modal %}\n    <sw-modal\n        v-if=\"displayVisibilityDetail\"\n        :title=\"$tc('sw-product.visibility.textHeadline')\"\n        class=\"sw-product-category-form__visibility_modal\"\n        variant=\"large\"\n        @modal-close=\"closeModal\"\n    >\n        <p>{{ $tc('sw-product.visibility.visibilityModalDescription') }}</p>\n\n        <sw-product-visibility-detail />\n\n        <template #modal-footer>\n            <sw-button\n                variant=\"primary\"\n                size=\"small\"\n                @click=\"closeModal\"\n            >\n                {{ $tc('global.default.apply') }}\n            </sw-button>\n        </template>\n    </sw-modal>\n    {% endblock %}\n</div>\n{% endblock %}\n","/**\n * @package services-settings\n */\nimport template from './sw-bulk-edit-product-visibility.html.twig';\n\nconst { Context } = Cicada;\nconst { mapState } = Cicada.Component.getComponentHelper();\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: ['repositoryFactory'],\n\n    props: {\n        bulkEditProduct: {\n            type: Object,\n            required: true,\n        },\n        disabled: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n    },\n\n    data() {\n        return {\n            displayVisibilityDetail: false,\n        };\n    },\n\n    computed: {\n        ...mapState('swProductDetail', [\n            'product',\n        ]),\n\n        productVisibilityRepository() {\n            return this.repositoryFactory.create(this.product.visibilities.entity);\n        },\n    },\n\n    methods: {\n        visibilitiesRemoveInheritanceFunction(newValue) {\n            newValue.forEach(({ productVersionId, salesChannelId, salesChannel, visibility }) => {\n                const visibilities = this.productVisibilityRepository.create(Context.api);\n\n                Object.assign(visibilities, {\n                    productId: this.product.id,\n                    productVersionId,\n                    salesChannelId,\n                    salesChannel,\n                    visibility,\n                });\n\n                this.product.visibilities.push(visibilities);\n            });\n\n            this.$refs.productVisibilitiesInheritance.forceInheritanceRemove = true;\n\n            return this.product.visibilities;\n        },\n        openModal() {\n            this.displayVisibilityDetail = true;\n        },\n\n        closeModal() {\n            this.displayVisibilityDetail = false;\n        },\n    },\n};\n"],"names":["template","Context","mapState","index","newValue","productVersionId","salesChannelId","salesChannel","visibility","visibilities"],"mappings":"AAAA,MAAeA,EAAA,yyDCKT,CAAE,QAAAC,CAAS,EAAG,OACd,CAAE,SAAAC,CAAQ,EAAK,OAAO,UAAU,mBAAkB,EAGzCC,EAAA,CACX,SAAAH,EAEA,aAAc,OAAO,aAErB,OAAQ,CAAC,mBAAmB,EAE5B,MAAO,CACH,gBAAiB,CACb,KAAM,OACN,SAAU,EACb,EACD,SAAU,CACN,KAAM,QACN,SAAU,GACV,QAAS,EACZ,CACJ,EAED,MAAO,CACH,MAAO,CACH,wBAAyB,EACrC,CACK,EAED,SAAU,CACN,GAAGE,EAAS,kBAAmB,CAC3B,SACZ,CAAS,EAED,6BAA8B,CAC1B,OAAO,KAAK,kBAAkB,OAAO,KAAK,QAAQ,aAAa,MAAM,CACxE,CACJ,EAED,QAAS,CACL,sCAAsCE,EAAU,CAC5C,OAAAA,EAAS,QAAQ,CAAC,CAAE,iBAAAC,EAAkB,eAAAC,EAAgB,aAAAC,EAAc,WAAAC,KAAiB,CACjF,MAAMC,EAAe,KAAK,4BAA4B,OAAOR,EAAQ,GAAG,EAExE,OAAO,OAAOQ,EAAc,CACxB,UAAW,KAAK,QAAQ,GACxB,iBAAAJ,EACA,eAAAC,EACA,aAAAC,EACA,WAAAC,CACpB,CAAiB,EAED,KAAK,QAAQ,aAAa,KAAKC,CAAY,CAC3D,CAAa,EAED,KAAK,MAAM,+BAA+B,uBAAyB,GAE5D,KAAK,QAAQ,YACvB,EACD,WAAY,CACR,KAAK,wBAA0B,EAClC,EAED,YAAa,CACT,KAAK,wBAA0B,EAClC,CACJ,CACL"}