{"version":3,"file":"index-CK7ot9J1.js","sources":["../../../app/administration/src/module/sw-media/component/sw-media-grid/sw-media-grid.html.twig","../../../app/administration/src/module/sw-media/component/sw-media-grid/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_media_grid %}\n<div class=\"sw-media-grid\">\n    <slot name=\"content\">\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_media_grid_slot_content %}\n        <div\n            class=\"sw-media-grid__content\"\n            :class=\"presentationClass\"\n        >\n            <slot>\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_media_grid_default_slot %}{% endblock %}\n            </slot>\n        </div>\n        {% endblock %}\n    </slot>\n</div>\n{% endblock %}\n","import template from './sw-media-grid.html.twig';\nimport './sw-media-grid.scss';\n\n/**\n * @private\n * @package discovery\n */\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    emits: ['media-grid-selection-clear'],\n\n    props: {\n        presentation: {\n            required: false,\n            type: String,\n            default: 'medium-preview',\n            validator(value) {\n                return [\n                    'small-preview',\n                    'medium-preview',\n                    'large-preview',\n                    'list-preview',\n                ].includes(value);\n            },\n        },\n    },\n\n    computed: {\n        mediaColumnDefinitions() {\n            return {\n                'grid-template-columns': `repeat(auto-fit, ${this.gridColumnWidth}px)`,\n            };\n        },\n\n        presentationClass() {\n            return `sw-media-grid__presentation--${this.presentation}`;\n        },\n\n        nonDeselectingComponents() {\n            return [\n                'sw-media-sidebar',\n                'sw-context-menu',\n                'sw-media-index__load-more',\n                'sw-media-index__options-container',\n                'sw-modal',\n            ];\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    beforeUnmount() {\n        this.beforeDestroyComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            window.addEventListener('click', this.clearSelectionOnClickOutside, false);\n        },\n\n        beforeDestroyComponent() {\n            window.removeEventListener('click', this.clearSelectionOnClickOutside);\n        },\n\n        clearSelectionOnClickOutside(event) {\n            if (!this.isEmittedFromChildren(event.target) && !this.originatesFromExcludedComponent(event)) {\n                this.emitSelectionCleared(event);\n            }\n        },\n\n        originatesFromExcludedComponent(event) {\n            const eventPathClasses = event.composedPath().reduce((classes, eventParent) => {\n                return eventParent.classList ? classes.concat(Array.from(eventParent.classList)) : classes;\n            }, []);\n\n            return this.nonDeselectingComponents.some((cssClass) => {\n                return eventPathClasses.includes(cssClass);\n            });\n        },\n\n        isEmittedFromChildren(target) {\n            return this.$children.some((child) => {\n                return child.$el === target || child.$el.contains(target);\n            });\n        },\n\n        emitSelectionCleared(originalDomEvent) {\n            this.$emit('media-grid-selection-clear', {\n                originalDomEvent,\n            });\n        },\n    },\n};\n"],"names":["template","index","value","event","eventPathClasses","classes","eventParent","cssClass","target","child","originalDomEvent"],"mappings":"AAAA,MAAeA,EAAA,8SCOAC,EAAA,CACX,SAAAD,EAEA,aAAc,OAAO,aAErB,MAAO,CAAC,4BAA4B,EAEpC,MAAO,CACH,aAAc,CACV,SAAU,GACV,KAAM,OACN,QAAS,iBACT,UAAUE,EAAO,CACb,MAAO,CACH,gBACA,iBACA,gBACA,cACpB,EAAkB,SAASA,CAAK,CACnB,CACJ,CACJ,EAED,SAAU,CACN,wBAAyB,CACrB,MAAO,CACH,wBAAyB,oBAAoB,KAAK,eAAe,KACjF,CACS,EAED,mBAAoB,CAChB,MAAO,gCAAgC,KAAK,YAAY,EAC3D,EAED,0BAA2B,CACvB,MAAO,CACH,mBACA,kBACA,4BACA,oCACA,UAChB,CACS,CACJ,EAED,SAAU,CACN,KAAK,iBAAgB,CACxB,EAED,eAAgB,CACZ,KAAK,uBAAsB,CAC9B,EAED,QAAS,CACL,kBAAmB,CACf,OAAO,iBAAiB,QAAS,KAAK,6BAA8B,EAAK,CAC5E,EAED,wBAAyB,CACrB,OAAO,oBAAoB,QAAS,KAAK,4BAA4B,CACxE,EAED,6BAA6BC,EAAO,CAC5B,CAAC,KAAK,sBAAsBA,EAAM,MAAM,GAAK,CAAC,KAAK,gCAAgCA,CAAK,GACxF,KAAK,qBAAqBA,CAAK,CAEtC,EAED,gCAAgCA,EAAO,CACnC,MAAMC,EAAmBD,EAAM,aAAY,EAAG,OAAO,CAACE,EAASC,IACpDA,EAAY,UAAYD,EAAQ,OAAO,MAAM,KAAKC,EAAY,SAAS,CAAC,EAAID,EACpF,CAAE,CAAA,EAEL,OAAO,KAAK,yBAAyB,KAAME,GAChCH,EAAiB,SAASG,CAAQ,CAC5C,CACJ,EAED,sBAAsBC,EAAQ,CAC1B,OAAO,KAAK,UAAU,KAAMC,GACjBA,EAAM,MAAQD,GAAUC,EAAM,IAAI,SAASD,CAAM,CAC3D,CACJ,EAED,qBAAqBE,EAAkB,CACnC,KAAK,MAAM,6BAA8B,CACrC,iBAAAA,CAChB,CAAa,CACJ,CACJ,CACL"}