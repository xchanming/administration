{"version":3,"file":"index-DwtKetZz.js","sources":["../../../app/administration/src/module/sw-import-export/component/sw-import-export-activity-log-info-modal/sw-import-export-activity-log-info-modal.html.twig","../../../app/administration/src/module/sw-import-export/component/sw-import-export-activity-log-info-modal/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_import_export_activity_log_info_modal %}\n<sw-modal\n    v-if=\"logEntity\"\n    class=\"sw-import-export-activity-log-info-modal\"\n    variant=\"small\"\n    :title=\"$tc('sw-import-export.activity.logInfo.modalTitle')\"\n    @modal-close=\"$emit('log-close')\"\n>\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_import_export_activity_log_info_modal_description %}\n    <dl class=\"sw-import-export-activity-log-info-modal__description-list\">\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_import_export_activity_log_info_modal_description_name %}\n        <div class=\"sw-import-export-activity-log-info-modal__list-item sw-import-export-activity-log-info-modal__item-file-name\">\n            <dt>{{ $tc('sw-import-export.activity.logInfo.labelFilename') }}</dt>\n            <dd>{{ logEntity.file.originalName }}</dd>\n        </div>\n        {% endblock %}\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_import_export_activity_log_info_modal_description_profile %}\n        <div class=\"sw-import-export-activity-log-info-modal__list-item sw-import-export-activity-log-info-modal__item-profile\">\n            <dt>{{ $tc('sw-import-export.activity.logInfo.labelProfile') }}</dt>\n            <dd>{{ logEntity.profile.label }}</dd>\n        </div>\n        {% endblock %}\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_import_export_activity_log_info_modal_description_records %}\n        <div class=\"sw-import-export-activity-log-info-modal__list-item sw-import-export-activity-log-info-modal__item-records\">\n            <dt>{{ $tc('sw-import-export.activity.logInfo.labelExportRecords') }}</dt>\n            <dd>{{ logEntity.records }}</dd>\n        </div>\n        {% endblock %}\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_import_export_activity_log_info_modal_description_size %}\n        <div class=\"sw-import-export-activity-log-info-modal__list-item sw-import-export-activity-log-info-modal__item-size\">\n            <dt>{{ $tc('sw-import-export.activity.logInfo.labelSize') }}</dt>\n            <dd>{{ calculateFileSize(logEntity.file.size) }}</dd>\n        </div>\n        {% endblock %}\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_import_export_activity_log_info_modal_description_date %}\n        <div class=\"sw-import-export-activity-log-info-modal__list-item sw-import-export-activity-log-info-modal__item-date\">\n            <dt>{{ $tc('sw-import-export.activity.logInfo.labelDate') }}</dt>\n            <dd>{{ dateFilter(logEntity.createdAt, { hour: '2-digit', minute: '2-digit' }) }}</dd>\n        </div>\n        {% endblock %}\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_import_export_activity_log_info_modal_description_user %}\n        <div class=\"sw-import-export-activity-log-info-modal__list-item sw-import-export-activity-log-info-modal__item-user\">\n            <dt>{{ $tc('sw-import-export.activity.logInfo.labelUser') }}</dt>\n            <dd>{{ logEntity.username }}</dd>\n        </div>\n        {% endblock %}\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_import_export_activity_log_info_modal_description_state %}\n        <div\n            class=\"sw-import-export-activity-log-info-modal__list-item sw-import-export-activity-log-info-modal__item-state\"\n            :class=\"stateClass\"\n        >\n            <dt>{{ $tc('sw-import-export.activity.logInfo.labelState') }}</dt>\n            <dd>\n                <sw-color-badge\n                    v-if=\"logEntity.state === 'failed'\"\n                    class=\"sw-import-export-activity-log-info-modal__color-badge\"\n                    variant=\"error\"\n                    rounded\n                />\n                <sw-color-badge\n                    v-else-if=\"logEntity.state === 'succeeded'\"\n                    class=\"sw-import-export-activity-log-info-modal__color-badge\"\n                    variant=\"success\"\n                    rounded\n                />\n                <sw-color-badge\n                    v-else\n                    class=\"sw-import-export-activity-log-info-modal__color-badge\"\n                    rounded\n                />\n                {{ getStateLabel(logEntity.state) }}\n            </dd>\n        </div>\n        {% endblock %}\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_import_export_activity_log_info_modal_description_type %}\n        <div class=\"sw-import-export-activity-log-info-modal__list-item sw-import-export-activity-log-info-modal__item-type\">\n            <dt>{{ $tc('sw-import-export.activity.logInfo.labelType') }}</dt>\n            <dd>{{ typeText }}</dd>\n        </div>\n        {% endblock %}\n    </dl>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_import_export_activity_log_info_modal_download %}\n    <sw-button\n        class=\"sw-import-export-activity-log-info-modal__download-button\"\n        size=\"small\"\n        :disabled=\"(logEntity.activity === 'export' && logEntity.state !== 'succeeded') || undefined\"\n        @click=\"openDownload(logEntity.fileId)\"\n    >\n        {{ $tc('sw-import-export.activity.logInfo.labelDownloadFile') }}\n    </sw-button>\n    {% endblock %}\n</sw-modal>\n{% endblock %}\n","/**\n * @package services-settings\n */\nimport template from './sw-import-export-activity-log-info-modal.html.twig';\nimport './sw-import-export-activity-log-info-modal.scss';\n\nconst { Mixin } = Cicada;\nconst { format } = Cicada.Utils;\n\n/**\n * @private\n */\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: ['importExport'],\n\n    emits: ['log-close'],\n\n    mixins: [\n        Mixin.getByName('notification'),\n    ],\n\n    props: {\n        logEntity: {\n            type: Object,\n            required: false,\n            default() {\n                return {};\n            },\n        },\n    },\n\n    computed: {\n        typeText() {\n            return this.$tc(`sw-import-export.activity.logInfo.${this.logEntity.activity}Label`);\n        },\n\n        stateClass() {\n            return {\n                'sw-import-export-activity-log-info-modal__item-state--processing': this.logEntity.state === 'progress',\n            };\n        },\n\n        dateFilter() {\n            return Cicada.Filter.getByName('date');\n        },\n    },\n\n    methods: {\n        calculateFileSize(size) {\n            return format.fileSize(size);\n        },\n\n        async openDownload(id) {\n            return window.open(await this.importExport.getDownloadUrl(id), '_blank');\n        },\n\n        getStateLabel(state) {\n            const translationKey = `sw-import-export.activity.status.${state}`;\n\n            return this.$te(translationKey) ? this.$tc(translationKey) : state;\n        },\n    },\n};\n"],"names":["template","Mixin","format","index","size","id","state","translationKey"],"mappings":"AAAA,MAAeA,EAAA,ivHCMT,CAAE,MAAAC,CAAO,EAAG,OACZ,CAAE,OAAAC,CAAM,EAAK,OAAO,MAKXC,EAAA,CACX,SAAAH,EAEA,aAAc,OAAO,aAErB,OAAQ,CAAC,cAAc,EAEvB,MAAO,CAAC,WAAW,EAEnB,OAAQ,CACJC,EAAM,UAAU,cAAc,CACjC,EAED,MAAO,CACH,UAAW,CACP,KAAM,OACN,SAAU,GACV,SAAU,CACN,MAAO,EACV,CACJ,CACJ,EAED,SAAU,CACN,UAAW,CACP,OAAO,KAAK,IAAI,qCAAqC,KAAK,UAAU,QAAQ,OAAO,CACtF,EAED,YAAa,CACT,MAAO,CACH,mEAAoE,KAAK,UAAU,QAAU,UAC7G,CACS,EAED,YAAa,CACT,OAAO,OAAO,OAAO,UAAU,MAAM,CACxC,CACJ,EAED,QAAS,CACL,kBAAkBG,EAAM,CACpB,OAAOF,EAAO,SAASE,CAAI,CAC9B,EAED,MAAM,aAAaC,EAAI,CACnB,OAAO,OAAO,KAAK,MAAM,KAAK,aAAa,eAAeA,CAAE,EAAG,QAAQ,CAC1E,EAED,cAAcC,EAAO,CACjB,MAAMC,EAAiB,oCAAoCD,CAAK,GAEhE,OAAO,KAAK,IAAIC,CAAc,EAAI,KAAK,IAAIA,CAAc,EAAID,CAChE,CACJ,CACL"}