{"version":3,"file":"index-BBzwjjU1.js","sources":["../../../app/administration/src/module/sw-product/view/sw-product-detail-seo/sw-product-detail-seo.html.twig","../../../app/administration/src/module/sw-product/view/sw-product-detail-seo/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_product_detail_seo %}\n<div v-if=\"isLoading\">\n    <sw-skeleton variant=\"detail-bold\" />\n    <sw-skeleton />\n</div>\n\n<div v-else>\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_product_detail_seo_general %}\n    <sw-card\n        position-identifier=\"sw-product-detail-seo\"\n        :title=\"$tc('sw-product.seo.cardTitleSeo')\"\n    >\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_product_detail_seo_general_content %}\n        <sw-product-seo-form\n            ref=\"seoForm\"\n            :allow-edit=\"acl.can('product.editor')\"\n        />\n        {% endblock %}\n    </sw-card>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_product_detail_seo_urls %}\n    <sw-seo-url\n        v-if=\"product.seoUrls\"\n        :has-default-template=\"false\"\n        :disabled=\"!acl.can('product.editor')\"\n        :urls=\"product.seoUrls\"\n        @on-change-sales-channel=\"onChangeSalesChannel\"\n    >\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_product_detail_seo_urls_content %}\n        <template #seo-additional=\"props\">\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_product_detail_seo_urls_content_seo_additional %}\n            <sw-inherit-wrapper\n                v-if=\"product.mainCategories\"\n                v-model:value=\"productMainCategory\"\n                :has-parent=\"!!parentProduct.id && !!props.currentSalesChannelId && product.categories.length === 0\"\n                :label=\"$tc('sw-seo-url.labelMainCategory')\"\n                :inherited-value=\"parentMainCategory\"\n            >\n\n                <template #content=\"{ currentValue, isInherited }\">\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_product_detail_seo_urls_content_seo_additional_edit %}\n                    <sw-seo-main-category\n                        :current-sales-channel-id=\"props.currentSalesChannelId\"\n                        :categories=\"categories\"\n                        :main-categories=\"isInherited ? parentProduct.mainCategories : product.mainCategories\"\n                        :overwrite-label=\"true\"\n                        :allow-edit=\"acl.can('product.editor') && !isInherited\"\n                        @main-category-add=\"onAddMainCategory\"\n                    />\n                    {% endblock %}\n                </template>\n\n            </sw-inherit-wrapper>\n            {% endblock %}\n        </template>\n        {% endblock %}\n    </sw-seo-url>\n    {% endblock %}\n</div>\n{% endblock %}\n","/*\n * @package inventory\n */\n\nimport template from './sw-product-detail-seo.html.twig';\n\nconst { Component } = Cicada;\nconst { mapState, mapGetters } = Component.getComponentHelper();\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: [\n        'feature',\n        'acl',\n    ],\n\n    data() {\n        return {\n            currentSalesChannelId: undefined,\n        };\n    },\n\n    computed: {\n        ...mapState('swProductDetail', [\n            'product',\n            'parentProduct',\n        ]),\n\n        ...mapGetters('swProductDetail', [\n            'isLoading',\n        ]),\n\n        categories() {\n            if (this.product.categories.length > 0) {\n                return this.product.categories;\n            }\n\n            return this.parentProduct.categories ?? [];\n        },\n\n        parentMainCategory() {\n            if (this.parentProduct.mainCategories && this.currentSalesChannelId) {\n                return this.parentProduct.mainCategories.find((category) => {\n                    return category.salesChannelId === this.currentSalesChannelId;\n                });\n            }\n\n            return null;\n        },\n\n        productMainCategory: {\n            get() {\n                return this.product.mainCategories.find((category) => {\n                    return category.salesChannelId === this.currentSalesChannelId;\n                });\n            },\n            set(newMainCategory) {\n                if (this.product.mainCategories && !newMainCategory) {\n                    this.product.mainCategories = this.product.mainCategories.filter((category) => {\n                        return category.salesChannelId !== this.currentSalesChannelId;\n                    });\n\n                    return;\n                }\n\n                this.product.mainCategories.push(newMainCategory);\n            },\n        },\n    },\n\n    methods: {\n        onAddMainCategory(mainCategory) {\n            if (this.product.mainCategories) {\n                this.product.mainCategories.push(mainCategory);\n            }\n        },\n        onChangeSalesChannel(currentSalesChannelId) {\n            this.currentSalesChannelId = currentSalesChannelId;\n        },\n    },\n};\n"],"names":["template","Component","mapState","mapGetters","index","category","newMainCategory","mainCategory","currentSalesChannelId"],"mappings":"AAAA,MAAeA,EAAA,inDCMT,CAAE,UAAAC,CAAW,EAAG,OAChB,CAAE,SAAAC,EAAU,WAAAC,CAAU,EAAKF,EAAU,mBAAkB,EAG9CG,EAAA,CACX,SAAAJ,EAEA,aAAc,OAAO,aAErB,OAAQ,CACJ,UACA,KACH,EAED,MAAO,CACH,MAAO,CACH,sBAAuB,MACnC,CACK,EAED,SAAU,CACN,GAAGE,EAAS,kBAAmB,CAC3B,UACA,eACZ,CAAS,EAED,GAAGC,EAAW,kBAAmB,CAC7B,WACZ,CAAS,EAED,YAAa,CACT,OAAI,KAAK,QAAQ,WAAW,OAAS,EAC1B,KAAK,QAAQ,WAGjB,KAAK,cAAc,YAAc,EAC3C,EAED,oBAAqB,CACjB,OAAI,KAAK,cAAc,gBAAkB,KAAK,sBACnC,KAAK,cAAc,eAAe,KAAME,GACpCA,EAAS,iBAAmB,KAAK,qBAC3C,EAGE,IACV,EAED,oBAAqB,CACjB,KAAM,CACF,OAAO,KAAK,QAAQ,eAAe,KAAMA,GAC9BA,EAAS,iBAAmB,KAAK,qBAC3C,CACJ,EACD,IAAIC,EAAiB,CACjB,GAAI,KAAK,QAAQ,gBAAkB,CAACA,EAAiB,CACjD,KAAK,QAAQ,eAAiB,KAAK,QAAQ,eAAe,OAAQD,GACvDA,EAAS,iBAAmB,KAAK,qBAC3C,EAED,MACH,CAED,KAAK,QAAQ,eAAe,KAAKC,CAAe,CACnD,CACJ,CACJ,EAED,QAAS,CACL,kBAAkBC,EAAc,CACxB,KAAK,QAAQ,gBACb,KAAK,QAAQ,eAAe,KAAKA,CAAY,CAEpD,EACD,qBAAqBC,EAAuB,CACxC,KAAK,sBAAwBA,CAChC,CACJ,CACL"}