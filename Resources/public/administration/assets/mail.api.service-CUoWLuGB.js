import{A as l}from"./api.service-DUFBkRAb.js";import"./channel-Cvr-E4M4.js";class P extends l{constructor(t,a,e="mail-template"){super(t,a,e),this.name="mailService"}getBasicHeaders(t){const a={...Shopware.Context.api,...t};let e={};return self!=null&&self.Shopware&&typeof a.languageId=="string"&&(e={"sw-language-id":a.languageId}),super.getBasicHeaders(e)}sendMailTemplate(t,a,e,n,s,r=!1,i=[],p=null,h=null,g=null,m={}){var d,o,u,c;const H=`/_action/${this.getApiBasePath()}/send`;return this.httpClient.post(H,{contentHtml:e.contentHtml??((d=e.translated)==null?void 0:d.contentHtml),contentPlain:e.contentPlain??((o=e.translated)==null?void 0:o.contentPlain),mailTemplateData:p??e.mailTemplateType.templateData,recipients:{[t]:a},salesChannelId:s,mediaIds:n.getIds(),subject:e.subject??((u=e.translated)==null?void 0:u.subject),senderMail:e.senderMail,senderName:e.senderName??((c=e.translated)==null?void 0:c.senderName),documentIds:i,testMode:r,mailTemplateTypeId:h,mailTemplateId:g},{headers:this.getBasicHeaders(m)}).then(f=>l.handleResponse(f))}testMailTemplate(t,a,e,n,s,r,i=[]){return this.sendMailTemplate(t,t,a,e,n,!0,i,null,s,r)}buildRenderPreview(t,a){const e=`/_action/${this.getApiBasePath()}/build`;return this.httpClient.post(e,{mailTemplateType:t,mailTemplate:a},{headers:this.getBasicHeaders()}).then(n=>l.handleResponse(n))}}export{P as default};
