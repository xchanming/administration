{"version":3,"file":"index-CkEttCoS.js","sources":["../../../app/administration/src/app/component/form/select/base/sw-multi-tag-select/sw-multi-tag-select.html.twig","../../../app/administration/src/app/component/form/select/base/sw-multi-tag-select/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_multi_tag_select %}\n<sw-select-base\n    class=\"sw-multi-tag-select\"\n    :is-loading=\"isLoading\"\n    :error=\"errorObject\"\n    :disabled=\"disabled\"\n    v-bind=\"$attrs\"\n    v-on=\"listeners\"\n    @select-expanded=\"setDropDown(true)\"\n    @select-collapsed=\"setDropDown(false)\"\n>\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_multi_tag_select_base %}\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_multi_tag_select_base_selection %}\n    <template #sw-select-selection=\"{ identification, error, disabled, size, expand, collapse }\">\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_multi_tag_select_base_selection_slot %}\n        <sw-select-selection-list\n            ref=\"selectionList\"\n            :selections=\"visibleValues\"\n            :invisible-count=\"invisibleValueCount\"\n            :disabled=\"disabled\"\n            label-property=\"value\"\n            value-property=\"value\"\n            v-bind=\"{ size, placeholder, searchTerm }\"\n            @total-count-click=\"expandValueLimit\"\n            @item-remove=\"remove\"\n            @last-item-delete=\"removeLastItem\"\n            @search-term-change=\"onSearchTermChange\"\n            @key-down-enter=\"onSelectionListKeyDownEnter\"\n        >\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_multi_tag_select_base_selection_list %}\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_multi_tag_select_base_selection_list_label %}\n            <template #label-property=\"{ item, index, labelProperty, valueProperty }\">\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_multi_tag_select_base_selection_list_label_inner %}\n                <slot\n                    name=\"selection-label-property\"\n                    v-bind=\"{ item, index, labelProperty, valueProperty}\"\n                >\n                    {{ getKey(item, labelProperty) }}\n                </slot>\n                {% endblock %}\n            </template>\n            {% endblock %}\n            {% endblock %}\n        </sw-select-selection-list>\n        {% endblock %}\n    </template>\n    {% endblock %}\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_multi_tag_select_validation %}\n    <template #results-list>\n        <div\n            v-if=\"hasFocus\"\n            class=\"sw-multi-tag-select-validation sw-select-result-list\"\n        >\n            <sw-popover\n                class=\"sw-select-result-list-popover\"\n                popover-class=\"sw-multi-tag-select-validation-popover\"\n                :z-index=\"1100\"\n                :resize-width=\"true\"\n            >\n                <div class=\"sw-select-result-list__content\">\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_multi_tag_select_validation_valid %}\n                    <!-- eslint-disable-next-line vuejs-accessibility/click-events-have-key-events, vuejs-accessibility/no-static-element-interactions -->\n                    <div\n                        v-if=\"inputIsValid\"\n                        class=\"sw-multi-tag-select-valid\"\n                        @click=\"addItem\"\n                    >\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_multi_tag_select_validation_valid_message %}\n                        <slot name=\"message-add-data\">\n                            <span>{{ $tc('global.sw-multi-tag-select.addData') }}</span>\n                        </slot>\n                        {% endblock %}\n                    </div>\n                    {% endblock %}\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_multi_tag_select_validation_invalid %}\n                    <div\n                        v-else\n                        class=\"sw-multi-tag-select-invalid\"\n                    >\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_multi_tag_select_validation_invalid_message %}\n                        <slot name=\"message-enter-valid-data\">\n                            <span>{{ $tc('global.sw-multi-tag-select.enterValidData') }}</span>\n                        </slot>\n                        {% endblock %}\n                    </div>\n                    {% endblock %}\n                </div>\n            </sw-popover>\n        </div>\n    </template>\n    {% endblock %}\n\n    <template #label>\n        <slot name=\"label\"></slot>\n    </template>\n\n    <template #hint>\n        <slot name=\"hint\"></slot>\n    </template>\n</sw-select-base>\n{% endblock %}\n","import template from './sw-multi-tag-select.html.twig';\nimport './sw-multi-tag-select.scss';\n\nconst { Component, Mixin } = Cicada;\nconst { get } = Cicada.Utils;\n\n/**\n * @package admin\n *\n * @private\n * @status ready\n * @description Renders a multi select field for data of any kind. This component uses the sw-field base\n * components. This adds the base properties such as <code>helpText</code>, <code>error</code>, <code>disabled</code> etc.\n * @example-type static\n * @component-example\n * <sw-multi-tag-select\n *     :value=\"['lorem', 'ipsum', 'dolor', 'sit', 'amet']\"\n * ></sw-multi-tag-select>\n */\nComponent.register('sw-multi-tag-select', {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inheritAttrs: false,\n\n    inject: ['feature'],\n\n    emits: [\n        'add-item-is-valid',\n        'update:value',\n        'display-values-expand',\n    ],\n\n    mixins: [\n        Mixin.getByName('remove-api-error'),\n    ],\n\n    props: {\n        value: {\n            type: Array,\n            required: true,\n        },\n\n        valueLimit: {\n            type: Number,\n            required: false,\n            default: 5,\n        },\n\n        placeholder: {\n            type: String,\n            required: false,\n            default: '',\n        },\n\n        isLoading: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n\n        validMessage: {\n            type: String,\n            required: false,\n            default: '',\n        },\n\n        invalidMessage: {\n            type: String,\n            required: false,\n            default: '',\n        },\n\n        validate: {\n            type: Function,\n            required: false,\n            default: (searchTerm) => searchTerm.length > 0,\n        },\n\n        disabled: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n    },\n\n    data() {\n        return {\n            searchTerm: '',\n            hasFocus: false,\n            limit: this.valueLimit,\n        };\n    },\n\n    computed: {\n        /**\n         * @deprecated tag:v6.7.0 - Will be removed\n         */\n        // eslint-disable-next-line vue/return-in-computed-property\n        objectValues() {},\n\n        errorObject() {\n            return null;\n        },\n\n        inputIsValid() {\n            return this.validate(this.searchTerm);\n        },\n\n        visibleValues() {\n            if (!this.value || this.value.length <= 0) {\n                return [];\n            }\n\n            return this.value.map((entry) => ({ value: entry })).slice(0, this.limit);\n        },\n\n        totalValuesCount() {\n            if (this.value.length) {\n                return this.value.length;\n            }\n\n            return 0;\n        },\n\n        invisibleValueCount() {\n            if (!this.value) {\n                return 0;\n            }\n\n            return Math.max(0, this.totalValuesCount - this.limit);\n        },\n\n        listeners() {\n            // eslint-disable-next-line @typescript-eslint/no-unsafe-call,@typescript-eslint/no-unsafe-member-access\n            if (this.isCompatEnabled('INSTANCE_LISTENERS')) {\n                return this.$listeners;\n            }\n\n            return {};\n        },\n    },\n\n    methods: {\n        onSelectionListKeyDownEnter() {\n            this.addItem();\n        },\n\n        addItem() {\n            this.$emit('add-item-is-valid', this.inputIsValid);\n\n            if (!this.inputIsValid) {\n                return;\n            }\n\n            this.$emit('update:value', [\n                ...this.value,\n                this.searchTerm,\n            ]);\n            this.searchTerm = '';\n        },\n\n        remove({ value }) {\n            this.$emit(\n                'update:value',\n                this.value.filter((entry) => entry !== value),\n            );\n        },\n\n        removeLastItem() {\n            if (!this.value.length) {\n                return;\n            }\n\n            if (this.invisibleValueCount > 0) {\n                this.expandValueLimit();\n                return;\n            }\n\n            this.$emit('update:value', this.value.slice(0, -1));\n        },\n\n        onSearchTermChange(term) {\n            this.searchTerm = term;\n        },\n\n        /* istanbul ignore next */\n        getKey: get,\n\n        setDropDown(open = true) {\n            this.$refs.selectionList.focus();\n            this.hasFocus = open;\n\n            if (open) {\n                return;\n            }\n\n            this.addItem();\n        },\n\n        expandValueLimit() {\n            this.$emit('display-values-expand');\n\n            this.limit += this.limit;\n        },\n    },\n});\n"],"names":["template","Component","Mixin","get","searchTerm","entry","value","term","open"],"mappings":"AAAA,MAAeA,EAAA,iiFCGT,CAAE,UAAAC,EAAW,MAAAC,CAAO,EAAG,OACvB,CAAE,IAAAC,CAAG,EAAK,OAAO,MAevBF,EAAU,SAAS,sBAAuB,CACtC,SAAAD,EAEA,aAAc,OAAO,aAErB,aAAc,GAEd,OAAQ,CAAC,SAAS,EAElB,MAAO,CACH,oBACA,eACA,uBACH,EAED,OAAQ,CACJE,EAAM,UAAU,kBAAkB,CACrC,EAED,MAAO,CACH,MAAO,CACH,KAAM,MACN,SAAU,EACb,EAED,WAAY,CACR,KAAM,OACN,SAAU,GACV,QAAS,CACZ,EAED,YAAa,CACT,KAAM,OACN,SAAU,GACV,QAAS,EACZ,EAED,UAAW,CACP,KAAM,QACN,SAAU,GACV,QAAS,EACZ,EAED,aAAc,CACV,KAAM,OACN,SAAU,GACV,QAAS,EACZ,EAED,eAAgB,CACZ,KAAM,OACN,SAAU,GACV,QAAS,EACZ,EAED,SAAU,CACN,KAAM,SACN,SAAU,GACV,QAAUE,GAAeA,EAAW,OAAS,CAChD,EAED,SAAU,CACN,KAAM,QACN,SAAU,GACV,QAAS,EACZ,CACJ,EAED,MAAO,CACH,MAAO,CACH,WAAY,GACZ,SAAU,GACV,MAAO,KAAK,UACxB,CACK,EAED,SAAU,CAKN,cAAe,CAAE,EAEjB,aAAc,CACV,OAAO,IACV,EAED,cAAe,CACX,OAAO,KAAK,SAAS,KAAK,UAAU,CACvC,EAED,eAAgB,CACZ,MAAI,CAAC,KAAK,OAAS,KAAK,MAAM,QAAU,EAC7B,GAGJ,KAAK,MAAM,IAAKC,IAAW,CAAE,MAAOA,CAAO,EAAC,EAAE,MAAM,EAAG,KAAK,KAAK,CAC3E,EAED,kBAAmB,CACf,OAAI,KAAK,MAAM,OACJ,KAAK,MAAM,OAGf,CACV,EAED,qBAAsB,CAClB,OAAK,KAAK,MAIH,KAAK,IAAI,EAAG,KAAK,iBAAmB,KAAK,KAAK,EAH1C,CAId,EAED,WAAY,CAER,OAAI,KAAK,gBAAgB,oBAAoB,EAClC,KAAK,WAGT,EACV,CACJ,EAED,QAAS,CACL,6BAA8B,CAC1B,KAAK,QAAO,CACf,EAED,SAAU,CACN,KAAK,MAAM,oBAAqB,KAAK,YAAY,EAE5C,KAAK,eAIV,KAAK,MAAM,eAAgB,CACvB,GAAG,KAAK,MACR,KAAK,UACrB,CAAa,EACD,KAAK,WAAa,GACrB,EAED,OAAO,CAAE,MAAAC,GAAS,CACd,KAAK,MACD,eACA,KAAK,MAAM,OAAQD,GAAUA,IAAUC,CAAK,CAC5D,CACS,EAED,gBAAiB,CACb,GAAK,KAAK,MAAM,OAIhB,IAAI,KAAK,oBAAsB,EAAG,CAC9B,KAAK,iBAAgB,EACrB,MACH,CAED,KAAK,MAAM,eAAgB,KAAK,MAAM,MAAM,EAAG,EAAE,CAAC,EACrD,EAED,mBAAmBC,EAAM,CACrB,KAAK,WAAaA,CACrB,EAGD,OAAQJ,EAER,YAAYK,EAAO,GAAM,CACrB,KAAK,MAAM,cAAc,QACzB,KAAK,SAAWA,EAEZ,CAAAA,GAIJ,KAAK,QAAO,CACf,EAED,kBAAmB,CACf,KAAK,MAAM,uBAAuB,EAElC,KAAK,OAAS,KAAK,KACtB,CACJ,CACL,CAAC"}