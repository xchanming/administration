{"version":3,"file":"index-BGxFbp_y.js","sources":["../../../app/administration/src/module/sw-first-run-wizard/view/sw-first-run-wizard-plugins/sw-first-run-wizard-plugins.html.twig","../../../app/administration/src/module/sw-first-run-wizard/view/sw-first-run-wizard-plugins/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_first_run_wizard_plugins %}\n<div class=\"sw-first-run-wizard-plugins\">\n    <h3 class=\"recommended-plugins__headline\">\n        {{ $tc('sw-first-run-wizard.recommendedPlugins.headline') }}\n    </h3>\n    <p\n        class=\"recommended-plugins__description\"\n        v-html=\"$tc('sw-first-run-wizard.recommendedPlugins.message')\"\n    ></p>\n\n    <div class=\"select-region\">\n        <p>{{ $tc('sw-first-run-wizard.recommendedPlugins.availableInRegion') }}</p>\n        <div class=\"regions\">\n            <sw-label\n                v-for=\"region in regions\"\n                :key=\"region.name\"\n                :variant=\"regionVariant(region)\"\n                size=\"medium\"\n                :ghost=\"false\"\n                :caps=\"false\"\n                appearance=\"pill\"\n                class=\"sw-label-region\"\n                @selected=\"onSelectRegion(region)\"\n            >\n                {{ region.label }}\n            </sw-label>\n        </div>\n    </div>\n\n    <div\n        v-if=\"categories.length\"\n        class=\"select-category\"\n    >\n        <p>{{ $tc('sw-first-run-wizard.recommendedPlugins.category') }}</p>\n        <div class=\"categories\">\n            <sw-label\n                v-for=\"category in categories\"\n                :key=\"category.name\"\n                :variant=\"categoryVariant(category)\"\n                size=\"medium\"\n                :ghost=\"false\"\n                :caps=\"false\"\n                appearance=\"pill\"\n                class=\"sw-label-category\"\n                @selected=\"onSelectCategory(category)\"\n            >\n                {{ category.label }}\n            </sw-label>\n        </div>\n    </div>\n\n    <sw-loader\n        v-show=\"isLoading\"\n        size=\"48px\"\n    />\n\n    <h3\n        v-show=\"showCategoryLead\"\n        class=\"recommended-plugins__headline\"\n    >\n        {{ $tc('sw-first-run-wizard.recommendedPlugins.topRecommendations') }}\n    </h3>\n\n    <div\n        v-show=\"showCategoryLead\"\n        class=\"plugins-category-lead\"\n    >\n        <sw-plugin-card\n            v-for=\"plugin in categoryLead\"\n            :key=\"plugin.name\"\n            :plugin=\"plugin\"\n            @on-plugin-installed=\"reloadRecommendations\"\n            @extension-activated=\"$emit('extension-activated', $event)\"\n        />\n    </div>\n\n    <hr\n        v-if=\"showSpacer\"\n        class=\"spacer\"\n    >\n\n    <h3\n        v-show=\"showNotCategoryLead\"\n        class=\"recommended-plugins__headline\"\n    >\n        {{ $tc('sw-first-run-wizard.recommendedPlugins.otherRecommendations') }}\n    </h3>\n\n    <div\n        v-show=\"showNotCategoryLead\"\n        class=\"plugins-not-category-lead\"\n    >\n        <sw-container\n            v-if=\"plugins\"\n            columns=\"1fr 1fr\"\n            gap=\"24px 0\"\n        >\n            <sw-plugin-card\n                v-for=\"plugin in notCategoryLead\"\n                :key=\"plugin.name\"\n                :plugin=\"plugin\"\n                :show-description=\"false\"\n                @on-plugin-installed=\"reloadRecommendations\"\n                @extension-activated=\"$emit('extension-activated', $event)\"\n            />\n        </sw-container>\n    </div>\n\n</div>\n{% endblock %}\n","import template from './sw-first-run-wizard-plugins.html.twig';\nimport './sw-first-run-wizard-plugins.scss';\n\n/**\n * @package checkout\n */\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: ['recommendationsService'],\n\n    emits: [\n        'extension-activated',\n        'frw-set-title',\n        'buttons-update',\n        'loading-finished',\n    ],\n\n    data() {\n        return {\n            plugins: [],\n            regions: [],\n            categories: [],\n            selectedRegion: null,\n            selectedCategory: null,\n            isLoading: false,\n        };\n    },\n\n    computed: {\n        categoryLead() {\n            return this.plugins.filter((plugin) => {\n                return plugin.isCategoryLead;\n            });\n        },\n\n        notCategoryLead() {\n            return this.plugins.filter((plugin) => {\n                return !plugin.isCategoryLead;\n            });\n        },\n\n        showSpacer() {\n            return this.categoryLead.length > 0 && this.notCategoryLead.length > 0;\n        },\n\n        showCategoryLead() {\n            return this.categoryLead.length > 0;\n        },\n\n        showNotCategoryLead() {\n            return this.notCategoryLead.length > 0;\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.updateButtons();\n            this.setTitle();\n            this.getRecommendationRegions();\n        },\n\n        setTitle() {\n            this.$emit('frw-set-title', this.$tc('sw-first-run-wizard.recommendedPlugins.modalTitle'));\n        },\n\n        updateButtons() {\n            const buttonConfig = [\n                {\n                    key: 'back',\n                    label: this.$tc('sw-first-run-wizard.general.buttonBack'),\n                    position: 'left',\n                    variant: null,\n                    action: 'sw.first.run.wizard.index.paypal.info',\n                    disabled: false,\n                },\n                {\n                    key: 'next',\n                    label: this.$tc('sw-first-run-wizard.general.buttonNext'),\n                    position: 'right',\n                    variant: 'primary',\n                    action: 'sw.first.run.wizard.index.cicada.account',\n                    disabled: false,\n                },\n            ];\n\n            this.$emit('buttons-update', buttonConfig);\n        },\n\n        regionVariant({ name }) {\n            return this.selectedRegion && this.selectedRegion.name === name ? 'info' : 'neutral';\n        },\n\n        categoryVariant({ name }) {\n            return this.selectedCategory && this.selectedCategory.name === name ? 'info' : 'neutral';\n        },\n\n        onSelectRegion(region) {\n            this.selectedRegion = region;\n            this.categories = region.categories;\n\n            this.selectedCategory = null;\n            this.plugins = [];\n        },\n\n        onSelectCategory(category) {\n            this.selectedCategory = category;\n\n            this.getRecommendations();\n        },\n\n        getRecommendations() {\n            const region = this.selectedRegion.name;\n            const category = this.selectedCategory.name;\n\n            this.isLoading = true;\n\n            this.recommendationsService\n                .getRecommendations({\n                    region,\n                    category,\n                })\n                .then((response) => {\n                    this.plugins = response.items;\n                })\n                .finally(() => {\n                    this.isLoading = false;\n                });\n        },\n\n        getRecommendationRegions() {\n            this.isLoading = true;\n\n            this.recommendationsService\n                .getRecommendationRegions()\n                .then((response) => {\n                    this.regions = response.items;\n                })\n                .finally(() => {\n                    this.isLoading = false;\n                    this.$emit('loading-finished');\n                });\n        },\n\n        reloadRecommendations() {\n            this.getRecommendations();\n        },\n    },\n};\n"],"names":["template","index","plugin","buttonConfig","name","region","category","response"],"mappings":"AAAA,MAAeA,EAAA,ymECOAC,EAAA,CACX,SAAAD,EAEA,aAAc,OAAO,aAErB,OAAQ,CAAC,wBAAwB,EAEjC,MAAO,CACH,sBACA,gBACA,iBACA,kBACH,EAED,MAAO,CACH,MAAO,CACH,QAAS,CAAE,EACX,QAAS,CAAE,EACX,WAAY,CAAE,EACd,eAAgB,KAChB,iBAAkB,KAClB,UAAW,EACvB,CACK,EAED,SAAU,CACN,cAAe,CACX,OAAO,KAAK,QAAQ,OAAQE,GACjBA,EAAO,cACjB,CACJ,EAED,iBAAkB,CACd,OAAO,KAAK,QAAQ,OAAQA,GACjB,CAACA,EAAO,cAClB,CACJ,EAED,YAAa,CACT,OAAO,KAAK,aAAa,OAAS,GAAK,KAAK,gBAAgB,OAAS,CACxE,EAED,kBAAmB,CACf,OAAO,KAAK,aAAa,OAAS,CACrC,EAED,qBAAsB,CAClB,OAAO,KAAK,gBAAgB,OAAS,CACxC,CACJ,EAED,SAAU,CACN,KAAK,iBAAgB,CACxB,EAED,QAAS,CACL,kBAAmB,CACf,KAAK,cAAa,EAClB,KAAK,SAAQ,EACb,KAAK,yBAAwB,CAChC,EAED,UAAW,CACP,KAAK,MAAM,gBAAiB,KAAK,IAAI,mDAAmD,CAAC,CAC5F,EAED,eAAgB,CACZ,MAAMC,EAAe,CACjB,CACI,IAAK,OACL,MAAO,KAAK,IAAI,wCAAwC,EACxD,SAAU,OACV,QAAS,KACT,OAAQ,wCACR,SAAU,EACb,EACD,CACI,IAAK,OACL,MAAO,KAAK,IAAI,wCAAwC,EACxD,SAAU,QACV,QAAS,UACT,OAAQ,2CACR,SAAU,EACb,CACjB,EAEY,KAAK,MAAM,iBAAkBA,CAAY,CAC5C,EAED,cAAc,CAAE,KAAAC,GAAQ,CACpB,OAAO,KAAK,gBAAkB,KAAK,eAAe,OAASA,EAAO,OAAS,SAC9E,EAED,gBAAgB,CAAE,KAAAA,GAAQ,CACtB,OAAO,KAAK,kBAAoB,KAAK,iBAAiB,OAASA,EAAO,OAAS,SAClF,EAED,eAAeC,EAAQ,CACnB,KAAK,eAAiBA,EACtB,KAAK,WAAaA,EAAO,WAEzB,KAAK,iBAAmB,KACxB,KAAK,QAAU,EAClB,EAED,iBAAiBC,EAAU,CACvB,KAAK,iBAAmBA,EAExB,KAAK,mBAAkB,CAC1B,EAED,oBAAqB,CACjB,MAAMD,EAAS,KAAK,eAAe,KAC7BC,EAAW,KAAK,iBAAiB,KAEvC,KAAK,UAAY,GAEjB,KAAK,uBACA,mBAAmB,CAChB,OAAAD,EACA,SAAAC,CACpB,CAAiB,EACA,KAAMC,GAAa,CAChB,KAAK,QAAUA,EAAS,KAC5C,CAAiB,EACA,QAAQ,IAAM,CACX,KAAK,UAAY,EACrC,CAAiB,CACR,EAED,0BAA2B,CACvB,KAAK,UAAY,GAEjB,KAAK,uBACA,yBAA0B,EAC1B,KAAMA,GAAa,CAChB,KAAK,QAAUA,EAAS,KAC5C,CAAiB,EACA,QAAQ,IAAM,CACX,KAAK,UAAY,GACjB,KAAK,MAAM,kBAAkB,CACjD,CAAiB,CACR,EAED,uBAAwB,CACpB,KAAK,mBAAkB,CAC1B,CACJ,CACL"}