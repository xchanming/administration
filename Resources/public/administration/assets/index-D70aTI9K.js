const t=`{% block sw_settings_user_detail_content_confirm_password_modal %} <sw-modal :title="$tc('sw-users-permissions.users.user-detail.passwordConfirmation.titleConfirmPasswordModal')" variant="small" @modal-close="onCloseConfirmPasswordModal" > {% block sw_settings_user_detail_content_confirm_password_modal_input__confirm_password %} <sw-password-field v-model:value="confirmPassword" class="sw-settings-user-detail__confirm-password" name="sw-field--confirm-password" :password-toggle-able="true" autocomplete="current-password" :label="$tc('sw-users-permissions.users.user-detail.passwordConfirmation.labelConfirmPassword')" :placeholder="$tc('sw-users-permissions.users.user-detail.passwordConfirmation.placeholderConfirmPassword')" @keypress.enter="onSubmitConfirmPassword" /> {% endblock %} {% block sw_settings_user_detail_content_confirm_password_modal_footer %} <template #modal-footer> {% block sw_settings_user_detail_content_confirm_password_modal_actions_cancel %} <sw-button size="small" @click="onCloseConfirmPasswordModal" > {{ $tc('global.default.cancel') }} </sw-button> {% endblock %} {% block sw_settings_user_detail_content_confirm_password_modal_actions_change %} <sw-button variant="primary" :disabled="!confirmPassword" size="small" @click="onSubmitConfirmPassword" > {{ $tc('sw-users-permissions.users.user-detail.passwordConfirmation.labelButtonConfirm') }} </sw-button> {% endblock %} </template> {% endblock %} </sw-modal> {% endblock %}`,{Component:r,Mixin:i}=Shopware;r.register("sw-verify-user-modal",{template:t,inject:["loginService"],emits:["verified","close"],mixins:[i.getByName("notification")],data(){return{confirmPassword:""}},created(){this.createdComponent()},methods:{createdComponent(){},onSubmitConfirmPassword(){return this.loginService.verifyUserToken(this.confirmPassword).then(s=>{const o={...Shopware.Context.api};o.authToken.access=s;const e={...this.loginService.getBearerAuthentication(),access:s};this.loginService.setBearerAuthentication(e),this.$emit("verified",o)}).catch(()=>{this.createNotificationError({title:this.$tc("sw-users-permissions.users.user-detail.passwordConfirmation.notificationPasswordErrorTitle"),message:this.$tc("sw-users-permissions.users.user-detail.passwordConfirmation.notificationPasswordErrorMessage")})}).finally(()=>{this.confirmPassword="",this.$emit("close")})},onCloseConfirmPasswordModal(){this.confirmPassword="",this.$emit("close")}}});
