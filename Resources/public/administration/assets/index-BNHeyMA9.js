const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/index-DapT5RFP.js","assets/index-vJogZcTv.css","assets/index-DThFLs1p.js","assets/index-BI4t3aL8.css","assets/index-CsRiy1L2.js","assets/index-DypM4NMT.css","assets/index-DsEfQssK.js","assets/index-BdBPEWT1.css","assets/index-BBDCJyuo.js","assets/index-D__zrz53.css","assets/index-DzsyeOHZ.js","assets/index-DuR1D8xH.css","assets/index-CJX92WWT.js","assets/index-Dn3IyJjL.css","assets/index-C2gpCmE7.js","assets/index-C0Nudq03.css","assets/index-BtpGYlm-.js","assets/channel-Cvr-E4M4.js","assets/_baseIteratee-BDDcCv4P.js","assets/index-cTs8Xd50.css","assets/index-DjlhdPuK.js","assets/index-DkIRDQVo.css","assets/index-LzsMSSiF.js","assets/index-CJR0Ppml.css","assets/index-CclK7UHp.js","assets/index-DFNEoT1x.css","assets/index-Ba-lelP-.js","assets/index-DXVHCZlC.css","assets/index-BrSImyFI.js","assets/main-BVD2thQ1.js","assets/administration-d9Z5Qnc-.js","assets/administration-W4Hd5vBj.css","assets/main-mYCLmm7W.css","assets/index-D3NPGJRM.css","assets/index-BTb6O1C1.js","assets/index-DsQ8IFpZ.css","assets/index-DorcX9ML.js","assets/index-BEeNkrOD.css","assets/index-BJzIvhGu.js","assets/index-D2VrCiYy.css","assets/index-DHFTYLu7.js","assets/index-DMOSxY7w.css"])))=>i.map(i=>d[i]);
import{_ as l}from"./administration-d9Z5Qnc-.js";const p=Object.freeze({ADD_TAG:"action.add.tag",ADD_ORDER_TAG:"action.add.order.tag",ADD_CUSTOMER_TAG:"action.add.customer.tag",REMOVE_TAG:"action.remove.tag",REMOVE_ORDER_TAG:"action.remove.order.tag",REMOVE_CUSTOMER_TAG:"action.remove.customer.tag",SET_ORDER_STATE:"action.set.order.state",GENERATE_DOCUMENT:"action.generate.document",GRANT_DOWNLOAD_ACCESS:"action.grant.download.access",MAIL_SEND:"action.mail.send",STOP_FLOW:"action.stop.flow",SET_ORDER_CUSTOM_FIELD:"action.set.order.custom.field",SET_CUSTOMER_CUSTOM_FIELD:"action.set.customer.custom.field",SET_CUSTOMER_GROUP_CUSTOM_FIELD:"action.set.customer.group.custom.field",CHANGE_CUSTOMER_GROUP:"action.change.customer.group",CHANGE_CUSTOMER_STATUS:"action.change.customer.status",ADD_CUSTOMER_AFFILIATE_AND_CAMPAIGN_CODE:"action.add.customer.affiliate.and.campaign.code",ADD_ORDER_AFFILIATE_AND_CAMPAIGN_CODE:"action.add.order.affiliate.and.campaign.code",APP_FLOW_ACTION:"action.app.flow"}),E=Object.freeze({ADD_TAG:"action.add.entity.tag",REMOVE_TAG:"action.remove.entity.tag",SET_CUSTOM_FIELD:"action.set.entity.custom.field",ADD_AFFILIATE_AND_CAMPAIGN_CODE:"action.add.entity.affiliate.and.campaign.code"}),h="general",A="tag",g="customer",S="order",v=Object.freeze({[p.ADD_ORDER_TAG]:A,[p.ADD_CUSTOMER_TAG]:A,[p.REMOVE_ORDER_TAG]:A,[p.REMOVE_CUSTOMER_TAG]:A,[p.CHANGE_CUSTOMER_GROUP]:g,[p.CHANGE_CUSTOMER_STATUS]:g,[p.SET_CUSTOMER_CUSTOM_FIELD]:g,[p.SET_CUSTOMER_GROUP_CUSTOM_FIELD]:g,[p.ADD_CUSTOMER_AFFILIATE_AND_CAMPAIGN_CODE]:g,[p.ADD_ORDER_AFFILIATE_AND_CAMPAIGN_CODE]:S,[p.SET_ORDER_CUSTOM_FIELD]:S,[p.GRANT_DOWNLOAD_ACCESS]:S,[p.GENERATE_DOCUMENT]:h,[p.MAIL_SEND]:h,[p.STOP_FLOW]:h}),{Utils:R,EntityDefinition:D}=Shopware,{capitalizeString:T,camelCase:I,snakeCase:C}=Shopware.Utils.string;class ${constructor(){this.$actionNames={...p},this.$actionGroupsMapping={...v},this.$icon={addEntityTag:"regular-tag",mailSend:"regular-envelope",removeEntityTag:"regular-tag",stopFlow:"regular-times-circle",changeCustomerStatus:"regular-user",changeCustomerGroup:"regular-users",generateDocument:"regular-file-text",setOrderState:"regular-shopping-bag-alt",grantDownloadAccess:"regular-file-signature",setEntityCustomField:"regular-file-signature",addEntityAffiliateAndCampaignCode:"regular-file-signature"},this.$labelSnippet={stopFlow:"sw-flow.actions.stopFlow",mailSend:"sw-flow.actions.mailSend",addEntityTag:"sw-flow.actions.addTag",removeEntityTag:"sw-flow.actions.removeTag",setOrderState:"sw-flow.actions.setOrderState",generateDocument:"sw-flow.actions.generateDocument",grantDownloadAccess:"sw-flow.actions.grantDownloadAccess",changeCustomerGroup:"sw-flow.actions.changeCustomerGroup",changeCustomerStatus:"sw-flow.actions.changeCustomerStatus",setEntityCustomField:"sw-flow.actions.changeCustomFieldContent",addEntityAffiliateAndCampaignCode:"sw-flow.actions.addAffiliateAndCampaignCode"},this.$descriptionCallbacks={[this.$actionNames.MAIL_SEND]:e=>this.getMailSendDescription(e),[this.$actionNames.STOP_FLOW]:e=>this.getStopFlowActionDescription(e),[this.$actionNames.SET_ORDER_STATE]:e=>this.getSetOrderStateDescription(e),[this.$actionNames.GENERATE_DOCUMENT]:e=>this.getGenerateDocumentDescription(e),[this.$actionNames.CHANGE_CUSTOMER_GROUP]:e=>this.getCustomerGroupDescription(e),[this.$actionNames.GRANT_DOWNLOAD_ACCESS]:e=>this.getDownloadAccessDescription(e),[this.$actionNames.SET_CUSTOMER_CUSTOM_FIELD]:e=>this.getCustomFieldDescription(e),[this.$actionNames.CHANGE_CUSTOMER_STATUS]:e=>this.getCustomerStatusDescription(e),[this.$actionNames.ADD_ORDER_AFFILIATE_AND_CAMPAIGN_CODE]:e=>this.getAffiliateAndCampaignCodeDescription(e),[this.$actionNames.ADD_CUSTOMER_AFFILIATE_AND_CAMPAIGN_CODE]:e=>this.getAffiliateAndCampaignCodeDescription(e)},this.$entityAction={[this.$actionNames.ADD_ORDER_TAG]:"order",[this.$actionNames.REMOVE_ORDER_TAG]:"order",[this.$actionNames.ADD_CUSTOMER_TAG]:"customer",[this.$actionNames.SET_ORDER_CUSTOM_FIELD]:"order",[this.$actionNames.REMOVE_CUSTOMER_TAG]:"customer",[this.$actionNames.SET_CUSTOMER_CUSTOM_FIELD]:"customer",[this.$actionNames.ADD_ORDER_AFFILIATE_AND_CAMPAIGN_CODE]:"order",[this.$actionNames.SET_CUSTOMER_GROUP_CUSTOM_FIELD]:"customer_group",[this.$actionNames.ADD_CUSTOMER_AFFILIATE_AND_CAMPAIGN_CODE]:"customer"},this.$groups={TAG:A,ORDER:S,GENERAL:h,CUSTOMER:g}}addDescriptionCallbacks(e){Object.assign(this.$descriptionCallbacks,e)}getDescriptionCallbacks(){return this.$descriptionCallbacks}addIcons(e){return Object.assign(this.$icon,e)}addLabels(e){return Object.assign(this.$labelSnippet,e)}getActionName(e){return this.$actionNames[e]}addActionNames(e){return Object.assign(this.$actionNames,e)}addGroups(e){return Object.assign(this.$groups,e)}getGroup(e){return this.$groups[e]}getGroups(){return Object.values(this.$groups)}getActionGroupMapping(e){return this.$actionGroupsMapping[e]}addActionGroupMapping(e){return Object.assign(this.$actionGroupsMapping,e)}isKeyOfActionName(e){return e in this.$entityAction}isKeyOfActionLabel(e){return e in this.$labelSnippet}isKeyOfActionDescription(e){return e in this.$descriptionCallbacks}isKeyOfEntityIcon(e){return e in this.$icon}getActionTitle(e){if(!e)return null;let t="";return(this.mapActionType(e)??e).split(".").forEach((o,i)=>{if(i){if(i===1){t=o;return}t+=T(o)}}),{value:e,icon:this.isKeyOfEntityIcon(t)?this.$icon[t]:"regular-question-circle-s",label:this.isKeyOfActionLabel(t)?this.$labelSnippet[t]:"sw-flow.actions.unknownLabel"}}mapActionType(e){let t=this.$entityAction[e];return t===void 0?null:(t=t.replace("_","."),e.replace(t,"entity"))}getEntityNameByAction(e){return this.$entityAction[e]}getDescription(e){const t=[];return Object.entries(e).forEach(([n,o])=>{let i=o;R.types.isPlainObject(o)&&(i=Object.values(o).join(", "));const a=`<span>${n}:</span> <span>${i}</span></br>`;t.push(`<p class="${n.toLowerCase().replace(/ /g,"_")}">${a}</p>`)}),t.join("")}convertConfig(e,t){const n={};return Object.entries(e).forEach(([i,a])=>{if(!this.isKeyOfActionLabel(i))return;const r=t.$tc(this.$labelSnippet[i]);r&&Object.assign(n,{[r]:a})}),n}getActionDescriptions(e,t,n){var r;const o={data:e,sequence:t,translator:n};if(!t.actionName)return"";if((r=e.appActions)==null?void 0:r.find(c=>c.name===t.actionName))return this.getAppFlowActionDescription(o);if(this.isKeyOfActionDescription(t.actionName)&&typeof this.$descriptionCallbacks[t.actionName]=="function")return this.$descriptionCallbacks[t.actionName](o);const a=this.convertConfig(t.config,n);return this.getDescription(a)}getAppFlowActionDescription(e){const{sequence:{config:t}}=e,n={...t};let o="";return Object.entries(n).forEach(([i,a])=>{if(Array.isArray(a)&&a.length>1){let r="";a.forEach(c=>{const u=this.formatValuePreview(e,i,c);r=`${r}- ${u.toString()}<br/>`}),o=`${o}${this.convertLabelPreview(e,i)}:<br/> ${r}`}else{const r=this.formatValuePreview(e,i,a);o=`${o}${this.convertLabelPreview(e,i)}: ${r.toString()}<br/>`}}),o}formatValuePreview(e,t,n){var u;const{data:{appActions:o},sequence:{actionName:i}}=e,a=this.configValuesToString(n),r=o.find(d=>d.name===i);if(r===void 0)return a;const c=(u=r.config)==null?void 0:u.find(d=>d.name===t);if(c===void 0)return a;if(["password"].includes(c.type))return a==null?void 0:a.replace(/([^;])/g,"*");if(["single-select","multi-select"].includes(c.type)){const d=c.options.find(_=>_.value===a);return d===void 0?a:d.label[e.translator.currentLocale]??c.label["en-GB"]??a}return["datetime","date","time"].includes(c.type)?new Date(a):["colorpicker"].includes(c.type)?`<span class="sw-color-badge is--default" style="background: ${a};"></span> ${a}`:a}convertLabelPreview(e,t){var r;const{data:{appActions:n},sequence:{actionName:o}}=e,i=n.find(c=>c.name===o);if(i===void 0)return t;const a=(r=i.config)==null?void 0:r.find(c=>c.name===t);return a===void 0?t:a.label[e.translator.currentLocale]??a.label["en-GB"]??t}getActionModalName(e){return e?this.mapActionType(e)===E.ADD_TAG||this.mapActionType(e)===E.REMOVE_TAG?"sw-flow-tag-modal":this.mapActionType(e)===E.SET_CUSTOM_FIELD?"sw-flow-set-entity-custom-field-modal":this.mapActionType(e)===E.ADD_AFFILIATE_AND_CAMPAIGN_CODE?"sw-flow-affiliate-and-campaign-code-modal":this.mapActionType(e)===p.GRANT_DOWNLOAD_ACCESS?"sw-flow-grant-download-access-modal":`${e.replace(/\./g,"-").replace("action","sw-flow")}-modal`:""}getStopFlowActionDescription(e){return e.translator.$tc("sw-flow.actions.textStopFlowDescription")}getCustomerStatusDescription(e){const{sequence:{config:t},translator:n}=e;return t.active?n.$tc("sw-flow.modals.customerStatus.active"):n.$tc("sw-flow.modals.customerStatus.inactive")}getAffiliateAndCampaignCodeDescription(e){var i,a,r,c,u;const{translator:t,sequence:{config:n}}=e;let o=t.$tc("sw-flow.actions.labelTo",{entity:T(n==null?void 0:n.entity)},0);return((i=n==null?void 0:n.affiliateCode)!=null&&i.upsert||((a=n==null?void 0:n.affiliateCode)==null?void 0:a.value)!=null)&&(o=`${o}<br>${t.$tc("sw-flow.actions.labelAffiliateCode",{affiliateCode:n.affiliateCode.value||""},0)}`),((r=n.campaignCode)!=null&&r.upsert||((c=n==null?void 0:n.campaignCode)==null?void 0:c.value)!=null)&&(o=`${o}<br>${t.$tc("sw-flow.actions.labelCampaignCode",{campaignCode:((u=n==null?void 0:n.campaignCode)==null?void 0:u.value)||""},0)}`),o}getCustomerGroupDescription(e){var i;const{data:t,sequence:{config:n}}=e,o=t.customerGroups.find(a=>a.id===n.customerGroupId);return(i=o==null?void 0:o.translated)==null?void 0:i.name}getCustomFieldDescription(e){const{data:{customFieldSets:t,customFields:n},sequence:{config:o},translator:i}=e,a=t.find(c=>c.id===o.customFieldSetId),r=n.find(c=>c.id===o.customFieldId);return!a||!r||typeof r.config!="object"||!r.config||!r.config.hasOwnProperty("label")||!r.config.label?"":`${i.$tc("sw-flow.actions.labelCustomFieldSet",{customFieldSet:i.getInlineSnippet(r.config.label)||a.name},0)}<br>${i.$tc("sw-flow.actions.labelCustomField",{customField:i.getInlineSnippet(r.config.label)||r.name},0)}<br>${i.$tc("sw-flow.actions.labelCustomFieldOption",{customFieldOption:o.optionLabel},0)}`}getSetOrderStateDescription(e){var r,c,u;const{data:{stateMachineState:t},sequence:{config:n},translator:o}=e,i=[];if(n.order){const d=t.find(f=>{var m;return f.technicalName===n.order&&((m=f.stateMachine)==null?void 0:m.technicalName)==="order.state"}),_=((r=d==null?void 0:d.translated)==null?void 0:r.name)||"";i.push(`${o.$tc("sw-flow.modals.status.labelOrderStatus")}: ${_}`)}if(n.order_delivery){const d=t.find(f=>{var m;return f.technicalName===n.order_delivery&&((m=f.stateMachine)==null?void 0:m.technicalName)==="order_delivery.state"}),_=((c=d==null?void 0:d.translated)==null?void 0:c.name)||"";i.push(`
                ${o.$tc("sw-flow.modals.status.labelDeliveryStatus")}: ${_}
            `)}if(n.order_transaction){const d=t.find(f=>{var m;return f.technicalName===n.order_transaction&&((m=f.stateMachine)==null?void 0:m.technicalName)==="order_transaction.state"}),_=((u=d==null?void 0:d.translated)==null?void 0:u.name)||"";i.push(`${o.$tc("sw-flow.modals.status.labelPaymentStatus")}: ${_}`)}const a=n.force_transition?o.$tc("global.default.yes"):o.$tc("global.default.no");return i.push(`${o.$tc("sw-flow.modals.status.forceTransition")}: ${a}`),i.join("<br>")}getGenerateDocumentDescription(e){var i;const{sequence:{config:t},data:n}=e;t.documentType&&Object.assign(t,{documentType:[t]});const o=(i=t.documentTypes)==null?void 0:i.map(a=>{var r,c;return((c=(r=n.documentTypes.find(u=>u.technicalName===a.documentType))==null?void 0:r.translated)==null?void 0:c.name)||""});return o?this.convertTagString(o):""}convertTagString(e){return e.toString().replace(/,/g,", ")}getMailSendDescription(e){var c;const{data:t,sequence:{config:n},translator:o}=e,i=t.mailTemplates.find(u=>u.id===n.mailTemplateId);let a=o.$tc("sw-flow.actions.labelTemplate",{template:(c=i==null?void 0:i.mailTemplateType)==null?void 0:c.name},0),r=i==null?void 0:i.description;return r&&(r=r.length>60?`${r.substring(0,60)}...`:r,a=`${a}<br>${o.$tc("sw-flow.actions.labelDescription",{description:r},0)}`),a}getDownloadAccessDescription(e){const{sequence:{config:t},translator:n}=e;return t.value?n.$tc("sw-flow.actions.downloadAccessLabel.granted"):n.$tc("sw-flow.actions.downloadAccessLabel.revoked")}getAvailableEntities(e,t,n,o=[]){const i=[];return this.getEntities(e,t,n).forEach(r=>{if(!D.has(C(r)))return;const c=D.get(C(r)).properties;o.every(d=>c.hasOwnProperty(d))&&i.push({label:this.convertEntityName(I(r)),value:r})}),i}convertEntityName(e){if(!e)return"";const t=e.replace(/([A-Z])/g," $1");return T(t)}getEntities(e,t,n){const o=[];return t.forEach(i=>{if(!this.isKeyOfActionName(i.name)||this.mapActionType(i.name)===null||this.mapActionType(i.name)!==this.mapActionType(e))return;i.requirements.some(r=>n.includes(r))&&o.push(this.$entityAction[i.name])}),o}flattenNodeList(e,t){t.push(e),e.children.length!==0&&e.children.forEach(n=>{this.flattenNodeList(n,t)})}configValuesToString(e){return e===null?"null":typeof e=="string"||typeof e=="number"||typeof e=="boolean"?e.toString():Array.isArray(e)?`[${e.map(t=>this.configValuesToString(t)).join(", ")}]`:typeof e=="object"?`{${Object.keys(e).map(t=>`${t}: ${this.configValuesToString(e[t])}`).join(", ")}}`:""}rearrangeArrayObjects(e){const t=e.reduce((i,a)=>(i[a.id]=a,i[a.id].children=[],i),{}),n=[];e.forEach(i=>{i.parentId?t[i.parentId].children.push(i):n.push(i)});const o=[];return n.forEach(i=>{this.flattenNodeList(i,o)}),o.forEach(i=>(i.children=[],i)),o}}const{Application:N}=Shopware;N.addServiceProvider("flowBuilderService",()=>new $);Shopware.Service("privileges").addPrivilegeMappingEntry({category:"permissions",parent:"settings",key:"flow",roles:{viewer:{privileges:["flow:read","flow_sequence:read","rule:read","mail_template:read","mail_template_type:read","document_type:read","state_machine:read","state_machine_state:read","tag:read"],dependencies:[]},editor:{privileges:["flow:update","flow_sequence:update","flow_sequence:create","flow_sequence:delete","tag:create",Shopware.Service("privileges").getPrivileges("rule.creator"),Shopware.Service("privileges").getPrivileges("mail_templates.creator")],dependencies:["flow.viewer"]},creator:{privileges:["flow:create"],dependencies:["flow.viewer","flow.editor"]},deleter:{privileges:["flow:delete"],dependencies:["flow.viewer"]}}});const{Service:w}=Shopware,{EntityCollection:O}=Shopware.Data,{types:b}=Shopware.Utils;Shopware.Store.register("swFlow",{state:()=>({flow:{eventName:"",sequences:[]},originFlow:{},triggerEvent:{},triggerEvents:[],triggerActions:[],invalidSequences:[],stateMachineState:[],documentTypes:[],mailTemplates:[],customFieldSets:[],customFields:[],customerGroups:[],restrictedRules:[],appActions:[],originAvailableActions:[]}),getters:{getSelectedAppAction(s){return e=>{var t;return(t=s.appActions)==null?void 0:t.find(n=>n.name===e)}},sequences(s){return s.flow.sequences},hasFlowChanged(s){const e={...s.flow,sequences:Array.from(s.flow.sequences).filter(t=>t.actionName||t.ruleId?Object.assign(t,{}):!1)};return!b.isEqual(s.originFlow,e)},isSequenceEmpty(s){var t;if(!((t=s.flow.sequences)!=null&&t.length))return!0;const e=s.flow.sequences[0];return!e.actionName&&!e.ruleId},availableActions(s){if(!s.triggerEvent||!s.triggerActions)return[];const e=[];return s.triggerActions.forEach(t=>{var i;if(!((i=t.requirements)!=null&&i.length)){e.push(t.name);return}if(!t.requirements.some(a=>{var r,c;return(c=(r=s.triggerEvent)==null?void 0:r.aware)==null?void 0:c.includes(a)}))return;const o=w("flowBuilderService").mapActionType(t.name);o&&e.find(r=>w("flowBuilderService").mapActionType(r)===o)!==void 0||e.push(t.name)}),e},mailTemplateIds(s){var e;return((e=s.flow.sequences)==null?void 0:e.filter(t=>t.actionName===w("flowBuilderService").getActionName("MAIL_SEND")).map(t=>{var n;return(n=t.config)==null?void 0:n.mailTemplateId}))??[]},customFieldSetIds(s){var t;const e=w("flowBuilderService");return((t=s.flow.sequences)==null?void 0:t.filter(n=>n.actionName===e.getActionName("SET_CUSTOMER_CUSTOM_FIELD")||n.actionName===e.getActionName("SET_ORDER_CUSTOM_FIELD")||n.actionName===e.getActionName("SET_CUSTOMER_GROUP_CUSTOM_FIELD")).map(n=>{var o;return(o=n.config)==null?void 0:o.customFieldSetId}))??[]},customFieldIds(s){var t;const e=w("flowBuilderService");return((t=s.flow.sequences)==null?void 0:t.filter(n=>n.actionName===e.getActionName("SET_CUSTOMER_CUSTOM_FIELD")||n.actionName===e.getActionName("SET_ORDER_CUSTOM_FIELD")||n.actionName===e.getActionName("SET_CUSTOMER_GROUP_CUSTOM_FIELD")).map(n=>{var o;return(o=n.config)==null?void 0:o.customFieldId}))??[]},actionGroups(){return w("flowBuilderService").getGroups()},hasAvailableAction:s=>e=>{const n=(()=>{const o=[];return!s.triggerEvent||!s.triggerActions?[]:(s.triggerActions.forEach(i=>{var r;if(!((r=i.requirements)!=null&&r.length)){o.push(i.name);return}!i.requirements.some(c=>{var u,d;return(d=(u=s.triggerEvent)==null?void 0:u.aware)==null?void 0:d.includes(c)})||o.includes(i.name)||o.push(i.name)}),o)})();return(n==null?void 0:n.some(o=>o===e))??!1}},actions:{setAppActions(s){this.appActions.push(...s)},setFlow(s){this.flow=s,s.config&&(this.flow.description=s.config.description,this.flow.sequences=s.config.sequences,this.flow.eventName=s.config.eventName)},setOriginFlow(s){var e;this.originFlow={...s,sequences:(e=s.sequences)==null?void 0:e.map(t=>({...t}))}},setEventName(s){this.flow.eventName=s},setSequences(s){this.flow.sequences=s},addSequence(s){var e;if(this.flow.sequences instanceof O){this.flow.sequences.add(s);return}(e=this.flow.sequences)==null||e.push(s)},removeSequences(s){s.forEach(e=>{var t,n;this.flow.sequences instanceof O?(t=this.flow.sequences)==null||t.remove(e):this.flow.sequences=(n=this.flow.sequences)==null?void 0:n.filter(o=>o.id!==e)})},updateSequence(s){const e=this.flow.sequences;if(!e)return;const t=e.findIndex(i=>i.id===s.id),n=e[t];if(!n)return;const o=Object.assign(n,s);this.flow.sequences=new O(e.source,e.entity,Shopware.Context.api,null,[...e.slice(0,t),o,...e.slice(t+1)])},removeCurrentFlow(){this.flow={eventName:"",sequences:[]}},removeInvalidSequences(){this.invalidSequences=[]},removeTriggerEvent(){this.triggerEvent={}},resetFlowState(){this.removeCurrentFlow(),this.removeInvalidSequences(),this.removeTriggerEvent()},setRestrictedRules(s){w("ruleConditionDataProviderService").getRestrictedRules(`flowTrigger.${s}`).then(e=>{this.setRestrictedRules(e==null?void 0:e[0])})},fetchTriggerActions(){w("businessEventService").getBusinessEvents().then(s=>{this.triggerEvents=s}).catch(()=>{this.triggerEvents=[]})}}});const{Module:y}=Shopware;Shopware.Component.register("sw-flow-index",()=>l(()=>import("./index-DapT5RFP.js"),__vite__mapDeps([0,1])));Shopware.Component.register("sw-flow-detail",()=>l(()=>import("./index-DThFLs1p.js"),__vite__mapDeps([2,3])));Shopware.Component.register("sw-flow-detail-flow",()=>l(()=>import("./index-CsRiy1L2.js"),__vite__mapDeps([4,5])));Shopware.Component.register("sw-flow-sequence-modal",()=>l(()=>import("./index-D1m8XpJ_.js"),[]));Shopware.Component.register("sw-flow-detail-general",()=>l(()=>import("./index-DsEfQssK.js"),__vite__mapDeps([6,7])));Shopware.Component.register("sw-flow-list",()=>l(()=>import("./index-BBDCJyuo.js"),__vite__mapDeps([8,9])));Shopware.Component.register("sw-flow-list-flow-templates",()=>l(()=>import("./index-DzsyeOHZ.js"),__vite__mapDeps([10,11])));Shopware.Component.register("sw-flow-trigger",()=>l(()=>import("./index-CJX92WWT.js"),__vite__mapDeps([12,13])));Shopware.Component.register("sw-flow-sequence",()=>l(()=>import("./index-C2gpCmE7.js"),__vite__mapDeps([14,15])));Shopware.Component.register("sw-flow-sequence-action",()=>l(()=>import("./index-BtpGYlm-.js"),__vite__mapDeps([16,17,18,19])));Shopware.Component.register("sw-flow-sequence-condition",()=>l(()=>import("./index-DjlhdPuK.js"),__vite__mapDeps([20,21])));Shopware.Component.register("sw-flow-sequence-selector",()=>l(()=>import("./index-LzsMSSiF.js"),__vite__mapDeps([22,23])));Shopware.Component.register("sw-flow-sequence-action-error",()=>l(()=>import("./index-CclK7UHp.js"),__vite__mapDeps([24,25])));Shopware.Component.register("sw-flow-rule-modal",()=>l(()=>import("./index-Ba-lelP-.js"),__vite__mapDeps([26,27])));Shopware.Component.register("sw-flow-tag-modal",()=>l(()=>import("./index-eyCAsYyY.js"),[]));Shopware.Component.register("sw-flow-set-order-state-modal",()=>l(()=>import("./index-De51DkJ8.js"),[]));Shopware.Component.register("sw-flow-generate-document-modal",()=>l(()=>import("./index-D_ctQDva.js"),[]));Shopware.Component.register("sw-flow-grant-download-access-modal",()=>l(()=>import("./index-C3vg4ZJ5.js"),[]));Shopware.Component.register("sw-flow-mail-send-modal",()=>l(()=>import("./index-BrSImyFI.js"),__vite__mapDeps([28,29,17,30,31,32,33])));Shopware.Component.register("sw-flow-create-mail-template-modal",()=>l(()=>import("./index-BTb6O1C1.js"),__vite__mapDeps([34,35])));Shopware.Component.register("sw-flow-event-change-confirm-modal",()=>l(()=>import("./index-DorcX9ML.js"),__vite__mapDeps([36,37])));Shopware.Component.register("sw-flow-change-customer-group-modal",()=>l(()=>import("./index-BhdFXBLg.js"),[]));Shopware.Component.register("sw-flow-change-customer-status-modal",()=>l(()=>import("./index-QJA33Xwi.js"),[]));Shopware.Component.register("sw-flow-set-entity-custom-field-modal",()=>l(()=>import("./index-BJzIvhGu.js"),__vite__mapDeps([38,39])));Shopware.Component.register("sw-flow-affiliate-and-campaign-code-modal",()=>l(()=>import("./index-k669MLna.js"),[]));Shopware.Component.register("sw-flow-app-action-modal",()=>l(()=>import("./index-DHFTYLu7.js"),__vite__mapDeps([40,41])));Shopware.Component.register("sw-flow-leave-page-modal",()=>l(()=>import("./index-DtbFuNZe.js"),[]));y.register("sw-flow",{type:"core",name:"flow",title:"sw-flow.general.mainMenuItemGeneral",description:"sw-flow.general.descriptionTextModule",version:"1.0.0",targetVersion:"1.0.0",color:"#9AA8B5",icon:"regular-cog",favicon:"icon-module-settings.png",entity:"flow",routes:{index:{component:"sw-flow-index",path:"index",meta:{parentPath:"sw.settings.index",privilege:"flow.viewer"},redirect:{name:"sw.flow.index.flows"},children:{flows:{component:"sw-flow-list",path:"flows",meta:{parentPath:"sw.settings.index",privilege:"flow.viewer"}},templates:{component:"sw-flow-list-flow-templates",path:"templates",meta:{parentPath:"sw.settings.index",privilege:"flow.viewer"}}}},detail:{component:"sw-flow-detail",path:"detail/:id",meta:{parentPath:"sw.flow.index",privilege:"flow.viewer"},props:{default(s){return{flowId:s.params.id}}},redirect:{name:"sw.flow.detail.general"},children:{general:{component:"sw-flow-detail-general",path:"general",meta:{parentPath:"sw.flow.index",privilege:"flow.viewer"}},flow:{component:"sw-flow-detail-flow",path:"flow",meta:{parentPath:"sw.flow.index",privilege:"flow.viewer"}}}},create:{component:"sw-flow-detail",path:"create/:flowTemplateId?",meta:{parentPath:"sw.flow.index",privilege:"flow.creator"},redirect:{name:"sw.flow.create.general"},children:{general:{component:"sw-flow-detail-general",path:"general",meta:{parentPath:"sw.flow.index",privilege:"flow.viewer"}},flow:{component:"sw-flow-detail-flow",path:"flow",meta:{parentPath:"sw.flow.index",privilege:"flow.viewer"}}}}},settingsItem:{group:"automation",to:"sw.flow.index",icon:"regular-flow",privilege:"flow.viewer"}});
