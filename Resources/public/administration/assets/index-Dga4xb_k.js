const n=`{% block sw_select_result_list %} <div class="sw-select-result-list"> <sw-popover class="sw-select-result-list-popover" :popover-class="popoverClass" :z-index="1100" :resize-width="popoverResizeWidth" :popover-config-extension="{ stopScrollPropagation: true }" > <div ref="popoverContent" class="sw-select-result-list__content" :class="{ 'sw-select-result-list__content_empty': isLoading && (!options || options.length <= 0) }" @scroll="onScroll" > <slot name="before-item-list"></slot> <ul class="sw-select-result-list__item-list"> <template v-for="(item, index) in options"> <slot name="result-item" v-bind="{ item, index }" ></slot> </template> </ul> <slot name="after-item-list"></slot> <div v-if="!isLoading && options && options.length < 1" class="sw-select-result-list__empty" > {% block sw_select_result_list_empty_icon %} <sw-icon name="regular-search" size="20px" /> {% endblock %} {% block sw_select_result_list_empty_text %} {{ emptyMessageText }} {% endblock %} </div> </div> </sw-popover> </div> {% endblock %}`,{Component:l}=Cicada;l.register("sw-select-result-list",{template:n,compatConfig:Cicada.compatConfig,provide(){return{setActiveItemIndex:this.setActiveItemIndex}},inject:["feature"],emits:["item-select","active-item-change","outside-click","paginate","item-select-by-keyboard"],props:{options:{type:Array,required:!1,default(){return[]}},emptyMessage:{type:String,required:!1,default:null},focusEl:{type:[HTMLDocument,HTMLElement],required:!1,default(){return document}},isLoading:{type:Boolean,required:!1,default:!1},popoverClasses:{type:Array,required:!1,default(){return[]}},popoverResizeWidth:{type:Boolean,required:!1,default:!0}},data(){return{activeItemIndex:-1}},computed:{emptyMessageText(){return this.emptyMessage||this.$tc("global.sw-select-result-list.messageNoResults")},popoverClass(){return[...this.popoverClasses,"sw-select-result-list-popover-wrapper"]}},created(){this.createdComponent()},beforeUnmount(){this.beforeDestroyedComponent()},methods:{createdComponent(){this.addEventListeners()},mountedComponent(){},beforeDestroyedComponent(){this.removeEventListeners()},setActiveItemIndex(e){this.activeItemIndex=e,this.emitActiveItemIndex()},addEventListeners(){document.addEventListener("keydown",this.navigate),document.addEventListener("click",this.checkOutsideClick),Cicada.Utils.EventBus.on("item-select",this.onItemSelect)},removeEventListeners(){document.removeEventListener("keydown",this.navigate),document.removeEventListener("click",this.checkOutsideClick),Cicada.Utils.EventBus.off("item-select",this.onItemSelect)},onItemSelect(e){this.$emit("item-select",e)},emitActiveItemIndex(e=!1){this.$emit("active-item-change",this.activeItemIndex,{shouldFocus:e}),Cicada.Utils.EventBus.emit("active-item-change",this.activeItemIndex,{shouldFocus:e})},checkOutsideClick(e){var s;e.stopPropagation();const o=(s=this.$refs.popoverContent)==null?void 0:s.contains(e.target),t=this.$el.contains(e.target),i=this.$parent.$parent.$el.contains(e.target);o||t||i||this.$emit("outside-click")},navigate({key:e}){if(e=e.toUpperCase(),e==="ARROWDOWN"){this.navigateNext();return}if(e==="ARROWUP"){this.navigatePrevious();return}e==="ENTER"&&this.emitClicked()},navigateNext(){if(this.activeItemIndex>=this.options.length-1){this.$emit("paginate");return}this.activeItemIndex+=1,this.emitActiveItemIndex({shouldFocus:!0}),this.updateScrollPosition()},navigatePrevious(){this.activeItemIndex===-1?this.activeItemIndex=this.options.length-1:this.activeItemIndex>0&&(this.activeItemIndex-=1),this.emitActiveItemIndex({shouldFocus:!0}),this.updateScrollPosition()},updateScrollPosition(){this.$nextTick(()=>{const e=document.querySelector(".sw-select-result-list__content"),o=e.querySelector(".is--active"),t=o.offsetHeight,i=o.offsetTop,s=e.scrollTop;i!==0&&(e.offsetHeight+s<i+t&&(e.scrollTop+=t),s!==0&&i-s-t<=0&&(e.scrollTop-=t))})},emitClicked(){this.$emit("item-select-by-keyboard",this.activeItemIndex),Cicada.Utils.EventBus.emit("item-select-by-keyboard",this.activeItemIndex)},onScroll(e){this.getBottomDistance(e.target)>0||this.$emit("paginate")},getBottomDistance(e){return e.scrollHeight-e.clientHeight-e.scrollTop}}});
//# sourceMappingURL=index-Dga4xb_k.js.map
