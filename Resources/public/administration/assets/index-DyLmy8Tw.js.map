{"version":3,"file":"index-DyLmy8Tw.js","sources":["../../../app/administration/src/app/component/base/sw-modal/sw-modal.html.twig","../../../app/administration/src/app/component/base/sw-modal/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_modal %}\n<transition\n    name=\"sw-modal-fade\"\n    v-bind=\"$attrs\"\n    appear\n>\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_modal_element %}\n    <!-- eslint-disable-next-line vuejs-accessibility/no-static-element-interactions -->\n    <div\n        class=\"sw-modal\"\n        :class=\"modalClasses\"\n        @mousedown=\"closeModalOnClickOutside\"\n        @keyup.esc=\"closeModalOnEscapeKey\"\n    >\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_modal_dialog %}\n        <div\n            ref=\"dialog\"\n            class=\"sw-modal__dialog\"\n            :class=\"modalDialogClasses\"\n            :style=\"{ maxWidth: size }\"\n            role=\"dialog\"\n            aria-labelledby=\"modalTitleEl\"\n            tabindex=\"-1\"\n        >\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_modal_header %}\n            <header\n                v-if=\"showHeader\"\n                class=\"sw-modal__header\"\n            >\n                <slot name=\"modal-header\">\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_modal_slot_header %}\n\n                    <div class=\"sw-modal__titles\">\n                        <slot name=\"modal-title\">\n                            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                            {% block sw_modal_close %}\n                            <h4\n                                id=\"modalTitleEl\"\n                                class=\"sw-modal__title\"\n                            >\n                                {{ title }}\n                            </h4>\n                            {% endblock %}\n                        </slot>\n\n                        <h5\n                            v-if=\"subtitle\"\n                            class=\"sw-modal__subtitle\"\n                        >\n                            {{ subtitle }}\n                        </h5>\n                    </div>\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_modal_close_button %}\n                    <button\n                        v-if=\"closable\"\n                        class=\"sw-modal__close\"\n                        :title=\"$tc('global.sw-modal.labelClose')\"\n                        :aria-label=\"$tc('global.sw-modal.labelClose')\"\n                        @click.prevent=\"closeModal\"\n                    >\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_modal_close_icon %}\n                        <sw-icon name=\"regular-times-s\" />\n                        {% endblock %}\n                    </button>\n                    {% endblock %}\n                    {% endblock %}\n                </slot>\n            </header>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_modal_body %}\n            <slot name=\"body\">\n                <div\n                    class=\"sw-modal__body\"\n                    :class=\"modalBodyClasses\"\n                >\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_modal_loader %}\n                    <slot name=\"modal-loader\">\n                        <sw-loader v-if=\"isLoading\" />\n                    </slot>\n                    {% endblock %}\n                    <slot>\n                        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                        {% block sw_modal_slot_default %}{% endblock %}\n                    </slot>\n                </div>\n            </slot>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_modal_footer %}\n            <footer\n                v-if=\"showFooter && hasFooterSlot\"\n                class=\"sw-modal__footer\"\n            >\n                <slot name=\"modal-footer\">\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_modal_slot_footer %}{% endblock %}\n                </slot>\n            </footer>\n            {% endblock %}\n        </div>\n        {% endblock %}\n    </div>\n    {% endblock %}\n</transition>\n{% endblock %}\n","import template from './sw-modal.html.twig';\nimport './sw-modal.scss';\n\nconst { Component } = Cicada;\nconst utils = Cicada.Utils;\n\n/**\n * @package admin\n *\n * @private\n * @description Modal box component which can be displayed in different variants and sizes\n * @status ready\n * @example-type static\n * @component-example\n * <sw-modal title=\"Modal box title\" selector=\".example .panel--content\" style=\"height: 400px\">\n *     Lorem Ipsum\n * </sw-modal>\n */\nComponent.register('sw-modal', {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inheritAttrs: false,\n\n    inject: ['shortcutService'],\n\n    emits: ['modal-close'],\n\n    props: {\n        title: {\n            type: String,\n            default: '',\n        },\n\n        subtitle: {\n            type: String,\n            default: null,\n            required: false,\n        },\n\n        size: {\n            type: String,\n            default: '',\n        },\n\n        variant: {\n            type: String,\n            required: false,\n            default: 'default',\n            validValues: [\n                'default',\n                'small',\n                'large',\n                'full',\n            ],\n            validator(value) {\n                if (!value.length) {\n                    return true;\n                }\n                return [\n                    'default',\n                    'small',\n                    'large',\n                    'full',\n                ].includes(value);\n            },\n        },\n\n        isLoading: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n\n        selector: {\n            type: String,\n            required: false,\n            default: 'body',\n        },\n\n        showHeader: {\n            type: Boolean,\n            required: false,\n            // eslint-disable-next-line vue/no-boolean-default\n            default: true,\n        },\n\n        showFooter: {\n            type: Boolean,\n            required: false,\n            // eslint-disable-next-line vue/no-boolean-default\n            default: true,\n        },\n\n        closable: {\n            type: Boolean,\n            required: false,\n            // eslint-disable-next-line vue/no-boolean-default\n            default: true,\n        },\n    },\n\n    data() {\n        return {\n            id: utils.createId(),\n        };\n    },\n\n    computed: {\n        modalClasses() {\n            return {\n                [`sw-modal--${this.variant}`]: this.variant && !this.size,\n                'sw-modal--has-sidebar': this.showHelpSidebar,\n            };\n        },\n\n        modalDialogClasses() {\n            return [\n                `sw-modal--${this.id}`,\n                { 'has--header': this.showHeader },\n            ];\n        },\n\n        modalBodyClasses() {\n            return {\n                'has--no-footer': !this.showFooter,\n            };\n        },\n\n        hasFooterSlot() {\n            return !!this.$slots['modal-footer'];\n        },\n\n        showHelpSidebar() {\n            return Cicada.State.get('adminHelpCenter').showHelpSidebar;\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    mounted() {\n        this.mountedComponent();\n    },\n\n    beforeUnmount() {\n        this.beforeDestroyComponent();\n    },\n\n    unmounted() {\n        this.destroyedComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.shortcutService.stopEventListener();\n        },\n\n        mountedComponent() {\n            const targetEl = document.querySelector(this.selector);\n            targetEl.appendChild(this.$el);\n\n            this.setFocusToModal();\n        },\n\n        beforeDestroyComponent() {\n            window.setTimeout(() => {\n                this.$el.remove();\n            }, 400); // use timeout to wait for modal leave transition\n        },\n\n        destroyedComponent() {\n            this.shortcutService.startEventListener();\n        },\n\n        setFocusToModal() {\n            this.$el?.querySelector?.('.sw-modal__dialog').focus();\n        },\n\n        closeModalOnClickOutside(domEvent) {\n            if (!this.closable) {\n                return;\n            }\n\n            if (!this.$refs.dialog || !this.$refs.dialog.contains(domEvent.target)) {\n                this.closeModal();\n            }\n        },\n\n        closeModal() {\n            this.$emit('modal-close');\n        },\n\n        closeModalOnEscapeKey(event) {\n            if (!event.target.classList.contains('sw-modal__dialog') || event.target !== document.activeElement) {\n                return;\n            }\n\n            if (event.key === 'Escape' || event.keyCode === 27) {\n                this.closeModal();\n            }\n        },\n    },\n});\n"],"names":["template","Component","utils","value","_a","_b","domEvent","event"],"mappings":"AAAA,MAAeA,EAAA,mtDCGT,CAAE,UAAAC,CAAW,EAAG,OAChBC,EAAQ,OAAO,MAcrBD,EAAU,SAAS,WAAY,CAC3B,SAAAD,EAEA,aAAc,OAAO,aAErB,aAAc,GAEd,OAAQ,CAAC,iBAAiB,EAE1B,MAAO,CAAC,aAAa,EAErB,MAAO,CACH,MAAO,CACH,KAAM,OACN,QAAS,EACZ,EAED,SAAU,CACN,KAAM,OACN,QAAS,KACT,SAAU,EACb,EAED,KAAM,CACF,KAAM,OACN,QAAS,EACZ,EAED,QAAS,CACL,KAAM,OACN,SAAU,GACV,QAAS,UACT,YAAa,CACT,UACA,QACA,QACA,MACH,EACD,UAAUG,EAAO,CACb,OAAKA,EAAM,OAGJ,CACH,UACA,QACA,QACA,MACpB,EAAkB,SAASA,CAAK,EAPL,EAQd,CACJ,EAED,UAAW,CACP,KAAM,QACN,SAAU,GACV,QAAS,EACZ,EAED,SAAU,CACN,KAAM,OACN,SAAU,GACV,QAAS,MACZ,EAED,WAAY,CACR,KAAM,QACN,SAAU,GAEV,QAAS,EACZ,EAED,WAAY,CACR,KAAM,QACN,SAAU,GAEV,QAAS,EACZ,EAED,SAAU,CACN,KAAM,QACN,SAAU,GAEV,QAAS,EACZ,CACJ,EAED,MAAO,CACH,MAAO,CACH,GAAID,EAAM,SAAU,CAChC,CACK,EAED,SAAU,CACN,cAAe,CACX,MAAO,CACH,CAAC,aAAa,KAAK,OAAO,EAAE,EAAG,KAAK,SAAW,CAAC,KAAK,KACrD,wBAAyB,KAAK,eAC9C,CACS,EAED,oBAAqB,CACjB,MAAO,CACH,aAAa,KAAK,EAAE,GACpB,CAAE,cAAe,KAAK,UAAY,CAClD,CACS,EAED,kBAAmB,CACf,MAAO,CACH,iBAAkB,CAAC,KAAK,UACxC,CACS,EAED,eAAgB,CACZ,MAAO,CAAC,CAAC,KAAK,OAAO,cAAc,CACtC,EAED,iBAAkB,CACd,OAAO,OAAO,MAAM,IAAI,iBAAiB,EAAE,eAC9C,CACJ,EAED,SAAU,CACN,KAAK,iBAAgB,CACxB,EAED,SAAU,CACN,KAAK,iBAAgB,CACxB,EAED,eAAgB,CACZ,KAAK,uBAAsB,CAC9B,EAED,WAAY,CACR,KAAK,mBAAkB,CAC1B,EAED,QAAS,CACL,kBAAmB,CACf,KAAK,gBAAgB,mBACxB,EAED,kBAAmB,CACE,SAAS,cAAc,KAAK,QAAQ,EAC5C,YAAY,KAAK,GAAG,EAE7B,KAAK,gBAAe,CACvB,EAED,wBAAyB,CACrB,OAAO,WAAW,IAAM,CACpB,KAAK,IAAI,QACZ,EAAE,GAAG,CACT,EAED,oBAAqB,CACjB,KAAK,gBAAgB,oBACxB,EAED,iBAAkB,CDjL1B,IAAAE,EAAAC,GCkLYA,GAAAD,EAAA,KAAK,MAAL,YAAAA,EAAU,gBAAV,MAAAC,EAAA,KAAAD,EAA0B,qBAAqB,OAClD,EAED,yBAAyBE,EAAU,CAC1B,KAAK,WAIN,CAAC,KAAK,MAAM,QAAU,CAAC,KAAK,MAAM,OAAO,SAASA,EAAS,MAAM,IACjE,KAAK,WAAU,CAEtB,EAED,YAAa,CACT,KAAK,MAAM,aAAa,CAC3B,EAED,sBAAsBC,EAAO,CACrB,CAACA,EAAM,OAAO,UAAU,SAAS,kBAAkB,GAAKA,EAAM,SAAW,SAAS,gBAIlFA,EAAM,MAAQ,UAAYA,EAAM,UAAY,KAC5C,KAAK,WAAU,CAEtB,CACJ,CACL,CAAC"}