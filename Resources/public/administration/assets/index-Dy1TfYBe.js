const e=`{% block sw_settings_cache_modal %} <sw-modal v-if="open" variant="small" :title="$t('sw-settings-cache.modal.title')" @modal-close="closeModal"> {{ $tc('sw-settings-cache.modal.message') }} <template #modal-footer> <sw-button @click="closeModal" size="small"> {{ $tc('global.default.cancel') }} </sw-button> <sw-button @click="clearCache" variant="primary" ref="button" size="small"> {{ $tc('sw-settings-cache.modal.actions.clear') }} </sw-button> </template> </sw-modal> {% endblock %}`,{Mixin:a}=Cicada,c={template:e,compatConfig:Cicada.compatConfig,shortcuts:{"SYSTEMKEY+c":"openModal"},inject:["cacheApiService","acl"],mixins:[a.getByName("notification")],data(){return{open:!1}},watch:{open(){this.open&&this.$nextTick(()=>{this.$refs.button.$el.focus()})}},created(){this.createdComponent()},methods:{createdComponent(){document.addEventListener("keydown",t=>{(t.key==="Alt"||t.key==="c"&&t.altKey)&&t.preventDefault()})},openModal(){this.acl.can("system.clear_cache")&&(this.open=!0)},closeModal(){this.open=!1},clearCache(){this.createNotificationInfo({message:this.$tc("sw-settings-cache.notifications.clearCache.started")}),this.cacheApiService.clear().then(()=>{this.createNotificationSuccess({message:this.$tc("sw-settings-cache.notifications.clearCache.success")})}).catch(()=>{this.createNotificationError({message:this.$tc("sw-settings-cache.notifications.clearCache.error")})}),this.open=!1}}};export{c as default};
//# sourceMappingURL=index-Dy1TfYBe.js.map
