const e=`{% block sw_media_url_form %} <sw-modal v-if="variant === 'modal'" class="sw-media-url-form" variant="small" :title="$tc('global.sw-media-url-form.title')" v-on="listeners" > {% block sw_media_url_form_input %} <sw-text-field v-model:value="url" class="sw-media-url-form__url-input" label="URL" :error="invalidUrlError" :placeholder="$tc('global.sw-media-url-form.example')" name="sw-field--url" /> <sw-text-field v-if="missingFileExtension" v-model:value="extensionFromInput" class="sw-media-url-form__extension-input" :label="$tc('global.sw-media-url-form.labelFileExtension')" validation="required" placeholder="jpg" :help-text="$tc('global.sw-media-url-form.missingFileExtension')" /> {% endblock %} {% block sw_media_url_form_footer %} <template #modal-footer> {% block sw_media_url_form_cancel_button %} <sw-button size="small" @click="closeModal" > {{ $tc('global.default.cancel') }} </sw-button> {% endblock %} {% block sw_media_url_form_submit_button %} <sw-button class="sw-media-url-form__submit-button" variant="primary" size="small" :disabled="!isValid" @click.prevent="emitUrl" > {{ $tc('global.sw-media-url-form.upload') }} </sw-button> {% endblock %} </template> {% endblock %} </sw-modal> <div v-else-if="variant === 'inline'"> {% block sw_media_url_form_input_inline %} <sw-text-field v-model:value="url" class="sw-media-url-form__url-input" label="URL" :error="invalidUrlError" :placeholder="$tc('global.sw-media-url-form.example')" name="sw-field--url" /> <sw-text-field v-if="missingFileExtension" v-model:value="extensionFromInput" class="sw-media-url-form__extension-input" :label="$tc('global.sw-media-url-form.labelFileExtension')" validation="required" placeholder="jpg" :help-text="$tc('global.sw-media-url-form.missingFileExtension')" /> {% endblock %} <sw-button class="sw-media-url-form__submit-button" :disabled="!isValid" size="small" variant="primary" @click="emitUrl" > {{ $tc('global.sw-media-url-form.upload') }} </sw-button> </div> {% endblock %}`,i={template:e,compatConfig:Cicada.compatConfig,emits:["media-url-form-submit","modal-close"],props:{variant:{type:String,required:!0,validValues:["modal","inline"],validator(l){return["modal","inline"].includes(l)},default:"inline"}},data(){return{url:"",extensionFromUrl:"",extensionFromInput:""}},computed:{urlObject(){try{return new URL(this.url)}catch{return this.extensionFromUrl="",null}},hasInvalidInput(){return this.urlObject===null&&this.url!==""},invalidUrlError(){return this.hasInvalidInput?{code:"INVALID_MEDIA_URL"}:null},missingFileExtension(){return this.urlObject!==null&&!this.extensionFromUrl},fileExtension(){return this.extensionFromUrl||this.extensionFromInput},isValid(){return this.urlObject!==null&&this.fileExtension},listeners(){return this.isCompatEnabled("INSTANCE_LISTENERS")?this.$listeners:{}}},watch:{urlObject(){if(this.urlObject===null){this.extensionFromUrl="";return}const l=this.urlObject.pathname.split("/").pop();if(l.split(".").length===1){this.extensionFromUrl="";return}this.extensionFromUrl=l.split(".").pop()}},methods:{emitUrl(l){this.isValid&&(this.$emit("media-url-form-submit",{originalDomEvent:l,url:this.urlObject,fileExtension:this.fileExtension}),this.variant==="modal"&&this.closeModal())},closeModal(){this.$emit("modal-close")}}};export{i as default};
//# sourceMappingURL=index-D9DghCN6.js.map
