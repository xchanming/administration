{"version":3,"file":"index-CuH5M_gl.js","sources":["../../../app/administration/src/module/sw-flow/component/modals/sw-flow-grant-download-access-modal/sw-flow-grant-download-access-modal.html.twig","../../../app/administration/src/module/sw-flow/component/modals/sw-flow-grant-download-access-modal/index.js"],"sourcesContent":["<sw-modal\n    class=\"sw-flow-grant-download-access-modal\"\n    :title=\"$tc('sw-flow.modals.downloadAccess.titleSetDownloadAccess')\"\n    :closable=\"false\"\n    @modal-close=\"onClose\"\n>\n    <div class=\"sw-flow-grant-download-access-modal__content\">\n        <sw-single-select\n            v-model:value=\"value\"\n            name=\"sw-field--value\"\n            class=\"sw-flow-grant-download-access-modal__value-field\"\n            required\n            :label=\"$tc('sw-flow.modals.downloadAccess.labelValueField')\"\n            :placeholder=\"$tc('sw-flow.modals.downloadAccess.placeholderValueField')\"\n            :error=\"valueError\"\n            :options=\"valueOptions\"\n        />\n    </div>\n\n    <template #modal-footer>\n        <sw-button\n            class=\"sw-flow-grant-download-access-modal__cancel-button\"\n            size=\"small\"\n            @click=\"onClose\"\n        >\n            {{ $tc('global.default.cancel') }}\n        </sw-button>\n\n        <sw-button\n            class=\"sw-flow-grant-download-access-modal__save-button\"\n            variant=\"primary\"\n            size=\"small\"\n            @click=\"onSave\"\n        >\n            {{ $tc('sw-flow.modals.buttonSaveAction') }}\n        </sw-button>\n    </template>\n</sw-modal>\n","import template from './sw-flow-grant-download-access-modal.html.twig';\n\nconst { Component, Mixin } = Cicada;\nconst { CicadaError } = Cicada.Classes;\nconst { mapState } = Component.getComponentHelper();\n\n/**\n * @private\n * @package services-settings\n */\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    emits: [\n        'process-finish',\n        'modal-close',\n    ],\n\n    mixins: [\n        Mixin.getByName('placeholder'),\n        Mixin.getByName('notification'),\n    ],\n\n    props: {\n        sequence: {\n            type: Object,\n            required: true,\n        },\n        action: {\n            type: String,\n            required: false,\n            default: null,\n        },\n    },\n\n    data() {\n        return {\n            value: null,\n            valueError: null,\n        };\n    },\n\n    computed: {\n        valueOptions() {\n            return [\n                {\n                    value: true,\n                    label: `${this.$tc('sw-flow.modals.downloadAccess.options.grant')}`,\n                },\n                {\n                    value: false,\n                    label: `${this.$tc('sw-flow.modals.downloadAccess.options.revoke')}`,\n                },\n            ];\n        },\n\n        ...mapState('swFlowState', [\n            'triggerEvent',\n            'triggerActions',\n        ]),\n    },\n\n    watch: {\n        value(value) {\n            if (value && this.valueError) {\n                this.valueError = null;\n            }\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            const { config } = this.sequence;\n\n            this.value = config?.value;\n        },\n\n        getConfig() {\n            return {\n                value: this.value,\n            };\n        },\n\n        fieldError(field) {\n            if (typeof field !== 'boolean') {\n                return new CicadaError({\n                    code: 'c1051bb4-d103-4f74-8988-acbcafc7fdc3',\n                });\n            }\n\n            return null;\n        },\n\n        onSave() {\n            this.valueError = this.fieldError(this.value);\n            if (this.valueError) {\n                return;\n            }\n\n            const config = this.getConfig();\n            const data = {\n                ...this.sequence,\n                config,\n            };\n            this.$emit('process-finish', data);\n            this.onClose();\n        },\n\n        onClose() {\n            this.valueError = null;\n            this.$emit('modal-close');\n        },\n    },\n};\n"],"names":["template","Component","Mixin","CicadaError","mapState","index","value","config","field","data"],"mappings":"AAAA,MAAeA,EAAA,w5BCET,CAAE,UAAAC,EAAW,MAAAC,CAAO,EAAG,OACvB,CAAE,YAAAC,CAAW,EAAK,OAAO,QACzB,CAAE,SAAAC,CAAU,EAAGH,EAAU,qBAMhBI,EAAA,CACX,SAAAL,EAEA,aAAc,OAAO,aAErB,MAAO,CACH,iBACA,aACH,EAED,OAAQ,CACJE,EAAM,UAAU,aAAa,EAC7BA,EAAM,UAAU,cAAc,CACjC,EAED,MAAO,CACH,SAAU,CACN,KAAM,OACN,SAAU,EACb,EACD,OAAQ,CACJ,KAAM,OACN,SAAU,GACV,QAAS,IACZ,CACJ,EAED,MAAO,CACH,MAAO,CACH,MAAO,KACP,WAAY,IACxB,CACK,EAED,SAAU,CACN,cAAe,CACX,MAAO,CACH,CACI,MAAO,GACP,MAAO,GAAG,KAAK,IAAI,6CAA6C,CAAC,EACpE,EACD,CACI,MAAO,GACP,MAAO,GAAG,KAAK,IAAI,8CAA8C,CAAC,EACrE,CACjB,CACS,EAED,GAAGE,EAAS,cAAe,CACvB,eACA,gBACZ,CAAS,CACJ,EAED,MAAO,CACH,MAAME,EAAO,CACLA,GAAS,KAAK,aACd,KAAK,WAAa,KAEzB,CACJ,EAED,SAAU,CACN,KAAK,iBAAgB,CACxB,EAED,QAAS,CACL,kBAAmB,CACf,KAAM,CAAE,OAAAC,CAAM,EAAK,KAAK,SAExB,KAAK,MAAQA,GAAA,YAAAA,EAAQ,KACxB,EAED,WAAY,CACR,MAAO,CACH,MAAO,KAAK,KAC5B,CACS,EAED,WAAWC,EAAO,CACd,OAAI,OAAOA,GAAU,UACV,IAAIL,EAAY,CACnB,KAAM,sCAC1B,CAAiB,EAGE,IACV,EAED,QAAS,CAEL,GADA,KAAK,WAAa,KAAK,WAAW,KAAK,KAAK,EACxC,KAAK,WACL,OAGJ,MAAMI,EAAS,KAAK,YACdE,EAAO,CACT,GAAG,KAAK,SACR,OAAAF,CAChB,EACY,KAAK,MAAM,iBAAkBE,CAAI,EACjC,KAAK,QAAO,CACf,EAED,SAAU,CACN,KAAK,WAAa,KAClB,KAAK,MAAM,aAAa,CAC3B,CACJ,CACL"}