const i=`{% block sw_media_modal_replace %} <sw-modal class="sw-media-modal-replace" size="420px" :title="$tc('global.sw-media-modal-replace.titleModal')" @modal-close="emitCloseReplaceModal" > <sw-upload-listener :upload-tag="itemToReplace.id" @media-upload-add="onNewUpload" /> <sw-media-replace class="sw-media-modal-replace__upload" :item-to-replace="itemToReplace" :upload-tag="itemToReplace.id" variant="regular" /> <sw-alert v-if="newFileExtension" class="sw-media-modal-replace__file-extension-warning" variant="warning" > {{ $tc('global.sw-media-modal-replace.warningFileExtension', { extension: newFileExtension }, 0) }} </sw-alert> {% block sw_media_modal_replace_modal_footer %} <template #modal-footer> {% block sw_media_modal_replace_cancel_button %} <sw-button size="small" @click="emitCloseReplaceModal" > {{ $tc('global.default.cancel') }} </sw-button> {% endblock %} {% block sw_media_modal_replace_replace_button %} <sw-button class="sw-media-replace__replace-media-action" size="small" variant="primary" :disabled="!isUploadDataSet" @click="replaceMediaItem" > {{ $tc('global.sw-media-modal-replace.buttonReplace') }} </sw-button> {% endblock %} </template> {% endblock %} </sw-modal> {% endblock %}`,{Mixin:t}=Shopware,o={template:i,inject:["mediaService","repositoryFactory"],emits:["media-replace-modal-close","media-replace-modal-item-replaced"],mixins:[t.getByName("notification")],props:{itemToReplace:{type:Object,required:!1,default:null}},data(){return{uploadTag:null,isUploadDataSet:!1,newFileExtension:""}},methods:{onNewUpload({data:e}){this.isUploadDataSet=!0;const a=e[0].extension,l=this.itemToReplace.fileExtension;a!==l&&(this.newFileExtension=a)},emitCloseReplaceModal(){this.$emit("media-replace-modal-close")},async replaceMediaItem(){this.itemToReplace.isLoading=!0;const e=this.itemToReplace.fileName;await this.mediaService.runUploads(this.itemToReplace.id),await this.mediaService.renameMedia(this.itemToReplace.id,e),this.itemToReplace.isLoading=!1,this.$emit("media-replace-modal-item-replaced")}}};export{o as default};
