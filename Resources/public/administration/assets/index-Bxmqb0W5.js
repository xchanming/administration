const d=`{% block sw_condition_value_content %} <div class="sw-condition-line-item-custom-field sw-condition__condition-value"> {% block sw_condition_line_item_custom_field_field %} <sw-entity-single-select ref="selectedField" v-model:value="selectedField" name="sw-field--selectedField" entity="custom_field" :criteria="customFieldCriteria" :placeholder="$tc('global.sw-condition.condition.lineItemCustomField.field.customFieldSelect.placeholder')" :disabled="disabled || undefined" size="medium" show-clearable-button @update:value="onFieldChange" > <template #selection-label-property="{ item }"> {{ getInlineSnippet(item.config.label) || item.name }} </template> <template #result-item="{ item, index, isSelected, setValue }"> <sw-select-result v-tooltip="getTooltipConfig(item)" :disabled="!item.allowCartExpose" :selected="isSelected(item)" v-bind="{ item, index }" @item-select="setValue" > {{ getInlineSnippet(item.config.label) || item.name }} <template #description> {% block sw_condition_line_item_custom_field_field_description %} {{ truncateFilter((getInlineSnippet(item.customFieldSet.config.label) || item.customFieldSet.name), 20) }} {% endblock %} </template> </sw-select-result> </template> </sw-entity-single-select> {% endblock %} {% block sw_condition_line_item_custom_field_operator %} <sw-condition-operator-select v-if="renderedField" name="sw-field--operator" v-bind="{ operators, condition }" :disabled="disabled || undefined" /> {% endblock %} {% block sw_condition_line_item_custom_field_value %} <sw-form-field-renderer v-if="renderedField" name="sw-field--renderedFieldValue" size="medium" :value="renderedFieldValue" :config="renderedField.config" :disabled="disabled || undefined" @update:value="renderedFieldValue = $event" /> {% endblock %} </div> {% endblock %}`,{Component:i,Mixin:o}=Shopware,{mapPropertyErrors:s}=i.getComponentHelper(),{Criteria:t}=Shopware.Data,{Filter:r}=Shopware;i.extend("sw-condition-line-item-custom-field","sw-condition-base-line-item",{template:d,inject:["repositoryFactory"],mixins:[o.getByName("sw-inline-snippet")],computed:{customFieldCriteria(){const e=new t(1,25);return e.addAssociation("customFieldSet"),e.addFilter(t.equals("customFieldSet.relations.entityName","product")),e.addSorting(t.sort("customFieldSet.name","ASC")),e},operator:{get(){return this.ensureValueExist(),this.condition.value.operator},set(e){this.ensureValueExist(),this.condition.value={...this.condition.value,operator:e}}},renderedField:{get(){return this.ensureValueExist(),this.condition.value.renderedField},set(e){this.ensureValueExist(),this.condition.value={...this.condition.value,renderedField:e}}},selectedField:{get(){return this.ensureValueExist(),this.condition.value.selectedField},set(e){this.ensureValueExist(),this.condition.value={...this.condition.value,selectedField:e}}},selectedFieldSet:{get(){return this.ensureValueExist(),this.condition.value.selectedFieldSet},set(e){this.ensureValueExist(),this.condition.value={...this.condition.value,selectedFieldSet:e}}},renderedFieldValue:{get(){return this.ensureValueExist(),this.condition.value.renderedFieldValue},set(e){this.ensureValueExist(),this.condition.value={...this.condition.value,renderedFieldValue:e}}},operators(){return this.conditionDataProviderService.getOperatorSetByComponent(this.renderedField)},...s("condition",["value.renderedField","value.selectedField","value.selectedFieldSet","value.operator","value.renderedFieldValue"]),currentError(){return this.conditionValueRenderedFieldError||this.conditionValueSelectedFieldError||this.conditionValueSelectedFieldSetError||this.conditionValueOperatorError||this.conditionValueRenderedFieldValueError},truncateFilter(){return r.getByName("truncate")}},methods:{getTooltipConfig(e){if(e.allowCartExpose)return{message:"",disabled:!0};const l={name:"sw.settings.custom.field.detail",params:{id:e.customFieldSetId}},n=this.$router.resolve(l);return{disabled:!1,width:260,message:this.$t("global.sw-condition.condition.lineItemCustomField.field.customFieldSelect.tooltip",{customFieldSettingsLink:n.href})}},onFieldChange(e){this.$refs.selectedField.resultCollection.has(e)?(this.renderedField=this.$refs.selectedField.resultCollection.get(e),this.selectedFieldSet=this.renderedField.customFieldSetId):this.renderedField=null,this.operator=null,this.renderedFieldValue=null}}});
