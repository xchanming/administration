{"version":3,"file":"index-CwrL1Jii.js","sources":["../../../app/administration/src/module/sw-settings-basic-information/component/sw-settings-captcha-select-v2/sw-settings-captcha-select-v2.html.twig","../../../app/administration/src/module/sw-settings-basic-information/component/sw-settings-captcha-select-v2/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_settings_captcha_select_v2 %}\n<sw-container class=\"sw-settings-captcha-select-v2\">\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_captcha_select_v2_multi_select %}\n    <sw-multi-select\n        v-model:value=\"activeCaptchaSelect\"\n        v-bind=\"attributes\"\n        :options=\"availableCaptchas\"\n    />\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_captcha_select_v2_google_recaptcha_v2 %}\n    <sw-container\n        v-if=\"currentValue.googleReCaptchaV2.isActive\"\n        class=\"sw-settings-captcha-select-v2__google-recaptcha-v2\"\n    >\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_settings_captcha_select_v2_google_recaptcha_v2_description %}\n        <p class=\"sw-settings-captcha-select-v2__description sw-settings-captcha-select-v2__google-recaptcha-v2-description\">\n            {{ $tc('sw-settings-basic-information.captcha.label.googleReCaptchaV2CheckboxDescription') }}\n        </p>\n\n        <p class=\"sw-settings-captcha-select-v2__description sw-settings-captcha-select-v2__google-recaptcha-v2-description\">\n            {{ $tc('sw-settings-basic-information.captcha.label.googleReCaptchaV2InvisibleDescription') }}\n        </p>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_settings_captcha_select_v2_google_recaptcha_v2_site_key %}\n        <sw-text-field\n            v-model:value=\"currentValue.googleReCaptchaV2.config.siteKey\"\n            name=\"googleReCaptchaV2SiteKey\"\n            :label=\"$tc('sw-settings-basic-information.captcha.label.googleReCaptchaV2SiteKey')\"\n        />\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_settings_captcha_select_v2_google_recaptcha_v2_secret_key %}\n        <sw-text-field\n            v-model:value=\"currentValue.googleReCaptchaV2.config.secretKey\"\n            name=\"googleReCaptchaV2SecretKey\"\n            :label=\"$tc('sw-settings-basic-information.captcha.label.googleReCaptchaV2SecretKey')\"\n        />\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_settings_captcha_select_v2_google_recaptcha_v2_invisible %}\n        <sw-switch-field\n            v-model:value=\"currentValue.googleReCaptchaV2.config.invisible\"\n            bordered\n            name=\"googleReCaptchaV2Invisible\"\n            :label=\"$tc('sw-settings-basic-information.captcha.label.googleReCaptchaV2Invisible')\"\n        />\n        {% endblock %}\n\n    </sw-container>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_captcha_select_v2_google_recaptcha_v3 %}\n    <sw-container\n        v-if=\"currentValue.googleReCaptchaV3.isActive\"\n        class=\"sw-settings-captcha-select-v2__google-recaptcha-v3\"\n    >\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_settings_captcha_select_v2_google_recaptcha_v3_description %}\n        <p class=\"sw-settings-captcha-select-v2__description sw-settings-captcha-select-v2__google-recaptcha-v3-description\">\n            {{ $tc('sw-settings-basic-information.captcha.label.googleReCaptchaV3Description') }}\n        </p>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_settings_captcha_select_v2_google_recaptcha_v3_site_key %}\n\n        <sw-text-field\n            v-model:value=\"currentValue.googleReCaptchaV3.config.siteKey\"\n            name=\"googleReCaptchaV3SiteKey\"\n            :label=\"$tc('sw-settings-basic-information.captcha.label.googleReCaptchaV3SiteKey')\"\n        />\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_settings_captcha_select_v2_google_recaptcha_v3_secret_key %}\n        <sw-text-field\n            v-model:value=\"currentValue.googleReCaptchaV3.config.secretKey\"\n            name=\"googleReCaptchaV3SecretKey\"\n            :label=\"$tc('sw-settings-basic-information.captcha.label.googleReCaptchaV3SecretKey')\"\n        />\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_settings_captcha_select_v2_google_recaptcha_v3_threshold_score %}\n        <sw-number-field\n            v-model:value=\"currentValue.googleReCaptchaV3.config.thresholdScore\"\n            name=\"googleReCaptchaV3ThresholdScore\"\n            number-type=\"float\"\n            :min=\"0\"\n            :max=\"1\"\n            :step=\"0.1\"\n            :label=\"$tc('sw-settings-basic-information.captcha.label.googleReCaptchaV3ThresholdScore')\"\n            :help-text=\"$tc('sw-settings-basic-information.captcha.label.googleReCaptchaV3DescriptionThresholdScore')\"\n        />\n        {% endblock %}\n\n    </sw-container>\n    {% endblock %}\n\n</sw-container>\n{% endblock %}\n","/**\n * @package services-settings\n */\nimport template from './sw-settings-captcha-select-v2.html.twig';\nimport './sw-settings-captcha-select-v2.scss';\n\nconst { Mixin } = Cicada;\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: [\n        'feature',\n        'captchaService',\n    ],\n\n    emits: ['update:value'],\n\n    mixins: [\n        Mixin.getByName('sw-inline-snippet'),\n    ],\n\n    props: {\n        value: {\n            type: Object,\n            required: false,\n            default: null,\n        },\n    },\n\n    data() {\n        return {\n            availableCaptchas: [],\n        };\n    },\n\n    computed: {\n        attributes() {\n            return {\n                ...this.$attrs,\n                ...this.getTranslations(),\n            };\n        },\n\n        currentValue: {\n            get() {\n                return this.value;\n            },\n\n            set(val) {\n                this.$emit('update:value', val);\n            },\n        },\n\n        activeCaptchaSelect: {\n            get() {\n                const captchaSelected = [];\n                Object.keys(this.currentValue).forEach((key) => {\n                    if (this.currentValue[key].isActive) {\n                        captchaSelected.push(key);\n                    }\n                });\n\n                return captchaSelected;\n            },\n\n            set(val) {\n                if (val !== this.activeCaptchaSelect) {\n                    Object.keys(this.currentValue).forEach((key) => {\n                        this.currentValue[key].isActive = val.includes(key);\n                    });\n                }\n            },\n        },\n    },\n\n    watch: {\n        currentValue: {\n            deep: true,\n            handler(val) {\n                this.$emit('update:value', val);\n            },\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.captchaService.list(this.setCaptchaOptions);\n        },\n\n        setCaptchaOptions(list) {\n            this.availableCaptchas = list.map((technicalName) => this.renderCaptchaOption(technicalName));\n        },\n\n        renderCaptchaOption(technicalName) {\n            return {\n                label: this.$tc(`sw-settings-basic-information.captcha.label.${technicalName}`),\n                value: technicalName,\n            };\n        },\n\n        getTranslations() {\n            return [\n                'label',\n                'placeholder',\n                'helpText',\n            ]\n                .filter((name) => !!this.$attrs[name])\n                .reduce(\n                    (translations, name) => ({\n                        ...translations,\n                        [name]: this.getInlineSnippet(this.$attrs[name]),\n                    }),\n                    {},\n                );\n        },\n    },\n};\n"],"names":["template","Mixin","index","val","captchaSelected","key","list","technicalName","name","translations"],"mappings":"AAAA,MAAeA,EAAA,k5GCMT,CAAE,MAAAC,CAAO,EAAG,OAGHC,EAAA,CACX,SAAAF,EAEA,aAAc,OAAO,aAErB,OAAQ,CACJ,UACA,gBACH,EAED,MAAO,CAAC,cAAc,EAEtB,OAAQ,CACJC,EAAM,UAAU,mBAAmB,CACtC,EAED,MAAO,CACH,MAAO,CACH,KAAM,OACN,SAAU,GACV,QAAS,IACZ,CACJ,EAED,MAAO,CACH,MAAO,CACH,kBAAmB,CAAE,CACjC,CACK,EAED,SAAU,CACN,YAAa,CACT,MAAO,CACH,GAAG,KAAK,OACR,GAAG,KAAK,gBAAiB,CACzC,CACS,EAED,aAAc,CACV,KAAM,CACF,OAAO,KAAK,KACf,EAED,IAAIE,EAAK,CACL,KAAK,MAAM,eAAgBA,CAAG,CACjC,CACJ,EAED,oBAAqB,CACjB,KAAM,CACF,MAAMC,EAAkB,CAAA,EACxB,cAAO,KAAK,KAAK,YAAY,EAAE,QAASC,GAAQ,CACxC,KAAK,aAAaA,CAAG,EAAE,UACvBD,EAAgB,KAAKC,CAAG,CAEhD,CAAiB,EAEMD,CACV,EAED,IAAID,EAAK,CACDA,IAAQ,KAAK,qBACb,OAAO,KAAK,KAAK,YAAY,EAAE,QAASE,GAAQ,CAC5C,KAAK,aAAaA,CAAG,EAAE,SAAWF,EAAI,SAASE,CAAG,CAC1E,CAAqB,CAER,CACJ,CACJ,EAED,MAAO,CACH,aAAc,CACV,KAAM,GACN,QAAQF,EAAK,CACT,KAAK,MAAM,eAAgBA,CAAG,CACjC,CACJ,CACJ,EAED,SAAU,CACN,KAAK,iBAAgB,CACxB,EAED,QAAS,CACL,kBAAmB,CACf,KAAK,eAAe,KAAK,KAAK,iBAAiB,CAClD,EAED,kBAAkBG,EAAM,CACpB,KAAK,kBAAoBA,EAAK,IAAKC,GAAkB,KAAK,oBAAoBA,CAAa,CAAC,CAC/F,EAED,oBAAoBA,EAAe,CAC/B,MAAO,CACH,MAAO,KAAK,IAAI,+CAA+CA,CAAa,EAAE,EAC9E,MAAOA,CACvB,CACS,EAED,iBAAkB,CACd,MAAO,CACH,QACA,cACA,UACH,EACI,OAAQC,GAAS,CAAC,CAAC,KAAK,OAAOA,CAAI,CAAC,EACpC,OACG,CAACC,EAAcD,KAAU,CACrB,GAAGC,EACH,CAACD,CAAI,EAAG,KAAK,iBAAiB,KAAK,OAAOA,CAAI,CAAC,CACvE,GACoB,CAAE,CACtB,CACS,CACJ,CACL"}