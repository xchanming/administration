const c=`{% block sw_search_bar_item %} <li class="sw-search-bar-item sw-search-bar-item--v2" :class="componentClasses" @mouseenter="onMouseEnter($event)" > {% block sw_search_bar_item_icon %} <sw-icon v-if="iconName" :name="iconName" :color="iconColor" /> {% endblock %} {% block sw_search_bar_item_customer %} <router-link v-if="type === 'customer'" ref="routerLink" v-slot="{ href, navigate }" :to="{ name: 'sw.customer.detail.base', params: { id: item.id } }" custom > <a :href="href" class="sw-search-bar-item__link" @click="onClickSearchResult('customer', item.id) && navigate($event)" > {% block sw_search_bar_item_customer_label %} <span class="sw-search-bar-item__label" > {% block sw_search_bar_item_customer_label_name %} <sw-highlight-text :search-term="searchTerm" :text="\`\${item.name}\`" /> {% endblock %} {% block sw_search_bar_item_customer_label_number %} <sw-highlight-text :search-term="searchTerm" :text="item.customerNumber" /> {% endblock %} </span> {% endblock %} </a> </router-link> {% endblock %} {% block sw_search_bar_item_product %} <router-link v-else-if="type === 'product'" ref="routerLink" v-slot="{ href, navigate }" :to="{ name: 'sw.product.detail.base', params: { id: item.id } }" custom > <a :href="href" class="sw-search-bar-item__link" @click="onClickSearchResult('product', item.id) && navigate($event)" > {% block sw_search_bar_item_product_label %} <span class="sw-search-bar-item__label" > {% block sw_search_bar_item_product_label_name %} <sw-highlight-text :search-term="searchTerm" :text="productDisplayName" /> {% endblock %} {% block sw_search_bar_item_product_label_number %} <sw-highlight-text :search-term="searchTerm" :text="item.productNumber" /> {% endblock %} </span> {% endblock %} </a> </router-link> {% endblock %} {% block sw_search_bar_item_category %} <router-link v-else-if="type === 'category'" ref="routerLink" v-slot="{ href, navigate }" class="sw-search-bar-item__link" :to="{ name: 'sw.category.detail', params: { id: item.id } }" custom > <a :href="href" class="sw-search-bar-item__link" @click="onClickSearchResult('category', item.id) && navigate($event)" > {% block sw_search_bar_item_category_label %} <span class="sw-search-bar-item__label"> <sw-highlight-text :search-term="searchTerm" :text="item.name" /> </span> {% endblock %} </a> </router-link> {% endblock %} {% block sw_search_bar_item_order %} <router-link v-else-if="type === 'order'" ref="routerLink" v-slot="{ href, navigate }" class="sw-search-bar-item__link" :to="{ name: 'sw.order.detail', params: { id: item.id } }" custom > <a :href="href" class="sw-search-bar-item__link" @click="onClickSearchResult('order', item.id) && navigate($event)" > {% block sw_search_bar_item_order_label %} <span class="sw-search-bar-item__label" > {% block sw_search_bar_item_order_label_name %} <sw-highlight-text :search-term="searchTerm" :text="\`\${item.orderCustomer.name}\`" /> {% endblock %} {% block sw_search_bar_item_order_label_number %} <sw-highlight-text :search-term="searchTerm" :text="item.orderNumber" /> {% endblock %} </span> {% endblock %} </a> </router-link> {% endblock %} {% block sw_search_bar_item_media %} <router-link v-else-if="type === 'media'" ref="routerLink" v-slot="{ href, navigate }" class="sw-search-bar-item__link" :to="{ name: 'sw.media.index', params: { folderId: item.mediaFolderId }, query: { term: item.fileName } }" custom > <a :href="href" class="sw-search-bar-item__link" @click="onClickSearchResult('media', item.id) && navigate($event)" > {% block sw_search_bar_item_media_label %} <span class="sw-search-bar-item__label"> <sw-highlight-text :search-term="searchTerm" :text="mediaNameFilter(item)" /> </span> {% endblock %} </a> </router-link> {% endblock %} {% block sw_search_bar_item_cms_page %} <router-link v-else-if="type === 'cms_page'" ref="routerLink" v-slot="{ href, navigate }" class="sw-search-bar-item__link" :to="{ name: 'sw.cms.detail', params: { id: item.id } }" custom > <a :href="href" class="sw-search-bar-item__link" @click="onClickSearchResult('cms_page', item.id) && navigate($event)" > {% block sw_search_bar_item_cms_page_label %} <span class="sw-search-bar-item__label"> <sw-highlight-text :search-term="searchTerm" :text="item.name" /> </span> {% endblock %} </a> </router-link> {% endblock %} {% block sw_search_bar_item_landing_page %} <router-link v-else-if="type === 'landing_page'" ref="routerLink" v-slot="{ href, navigate }" class="sw-search-bar-item__link" :to="{ name: 'sw.category.landingPageDetail.base', params: { id: item.id } }" custom > <a :href="href" class="sw-search-bar-item__link" @click="onClickSearchResult('landing_page', item.id) && navigate($event)" > {% block sw_search_bar_item_cms_landing_page_label %} <span class="sw-search-bar-item__label"> <sw-highlight-text :search-term="searchTerm" :text="item.name" /> </span> {% endblock %} </a> </router-link> {% endblock %} {% block sw_search_bar_item_module %} <router-link v-else-if="['frequently_used', 'module'].includes(type)" ref="routerLink" class="sw-search-bar-item__link" :to="routeName" > {% block sw_search_bar_item_module_label %} <span class="sw-search-bar-item__label" > {% block sw_search_bar_item_module_label_module %} <sw-highlight-text :search-term="searchTerm" :text="moduleName" /> {% endblock %} {% block sw_search_bar_item_module_label_shortcut %} <sw-shortcut-overview-item v-if="shortcut" title="" :content="shortcut" /> {% endblock %} {% block sw_search_bar_item_module_label_action %} <sw-highlight-text :text="$tc(\`global.sw-search-bar-item.\${item.action ? 'typeLabelAction': 'typeLabelModule'}\`)" /> {% endblock %} </span> {% endblock %} </router-link> {% endblock %} {% block sw_search_bar_item_other_entity %} <router-link v-else-if="detailRoute && displayValue.length > 0" ref="routerLink" class="sw-search-bar-item__link" :to="{ name: detailRoute, params: { id: item.id } }" > {% block sw_search_bar_item_other_entity_label %} <span class="sw-search-bar-item__label"> <sw-highlight-text :search-term="searchTerm" :text="displayValue" /> </span> {% endblock %} </router-link> {% endblock %} </li> {% endblock %}`,{Component:n,Application:l}=Cicada;n.register("sw-search-bar-item",{template:c,compatConfig:Cicada.compatConfig,inject:{searchTypeService:"searchTypeService",feature:"feature",recentlySearchService:"recentlySearchService",searchBarOnMouseOver:{from:"searchBarOnMouseOver",default:null},searchBarRegisterActiveItemIndexSelectHandler:{from:"searchBarRegisterActiveItemIndexSelectHandler",default:null},searchBarUnregisterActiveItemIndexSelectHandler:{from:"searchBarUnregisterActiveItemIndexSelectHandler",default:null},searchBarRegisterKeyupEnterHandler:{from:"searchBarRegisterKeyupEnterHandler",default:null},searchBarUnregisterKeyupEnterHandler:{from:"searchBarUnregisterKeyupEnterHandler",default:null}},props:{item:{type:Object,required:!1,default:()=>({})},type:{required:!0,type:String},index:{type:Number,required:!0},column:{type:Number,required:!0},searchTerm:{type:String,required:!1,default:null},entityIconColor:{type:String,required:!0},entityIconName:{type:String,required:!0}},data(){return{isActive:!1}},computed:{searchTypes(){return this.searchTypeService.getTypes()},moduleManifest(){return(l.getContainer("factory").module.getModuleByEntityName(this.type)??{}).manifest},detailRoute(){var e,t,r;return(r=(t=(e=this.moduleManifest)==null?void 0:e.routes)==null?void 0:t.detail)==null?void 0:r.name},displayValue(){return this.moduleManifest.hasOwnProperty("entityDisplayProperty")?this.item.hasOwnProperty(this.moduleManifest.entityDisplayProperty)?this.item[this.moduleManifest.entityDisplayProperty]:this.item.hasOwnProperty("name")?this.item.name:this.item.id:this.item.hasOwnProperty("name")?this.item.name:this.item.id},componentClasses(){return[{"is--active":this.isActive}]},moduleName(){const{action:e,label:t,entity:r,title:a}=this.item;return a&&!e?this.$tc(`${a}`,2):e?this.$tc("global.sw-search-bar-item.addNewEntity",0,{entity:(t==null?void 0:t.toLowerCase())??this.$tc(`global.entities.${r}`).toLowerCase()}):t},routeName(){return typeof this.item.route=="object"?this.item.route:{name:this.item.route}},iconName(){var e;return["module","frequently_used"].includes(this.type)&&((e=this.item)!=null&&e.icon)?this.item.icon:this.entityIconName},iconColor(){var e;return["module","frequently_used"].includes(this.type)&&((e=this.item)!=null&&e.color)?this.item.color:this.entityIconColor},shortcut(){const{action:e,name:t}=this.item;return this.$te(`global.sw-search-bar-item.shortcuts.${t}`)?this.$tc(`global.sw-search-bar-item.shortcuts.${t}`,e?2:1):!1},productDisplayName(){var r,a,i;const e=((r=this.item.translated)==null?void 0:r.name)??this.item.name,t=[];return((i=(a=this.item)==null?void 0:a.variation)==null?void 0:i.length)>0?(this.item.variation.forEach(s=>{t.push(`${s.group}: ${s.option}`)}),`${e} (${t.join(" | ")})`):e},currentUser(){return Cicada.State.get("session").currentUser},mediaNameFilter(){return Cicada.Filter.getByName("mediaName")}},created(){this.createdComponent()},unmounted(){this.destroyedComponent()},methods:{createdComponent(){this.registerEvents(),this.index===0&&this.column===0&&(this.isActive=!0)},destroyedComponent(){this.removeEvents()},registerEvents(){if(this.isCompatEnabled("INSTANCE_EVENT_EMITTER")){let e=this.$parent;e=this.$parent.$parent,e.$on("active-item-index-select",this.checkActiveState),e.$on("keyup-enter",this.onEnter)}else this.searchBarRegisterActiveItemIndexSelectHandler(this.checkActiveState),this.searchBarRegisterKeyupEnterHandler(this.onEnter)},removeEvents(){if(this.isCompatEnabled("INSTANCE_EVENT_EMITTER")){let e=this.$parent;e=this.$parent.$parent,e.$off("active-item-index-select",this.checkActiveState),e.$off("keyup-enter",this.onEnter)}else this.searchBarUnregisterActiveItemIndexSelectHandler(this.checkActiveState),this.searchBarUnregisterKeyupEnterHandler(this.onEnter)},checkActiveState({index:e,column:t}){if(e===this.index&&t===this.column){this.isActive=!0;return}this.isActive&&(this.isActive=!1)},onEnter(e,t){if(e!==this.index||t!==this.column)return;const r=this.$refs.routerLink;this.$router.push(r.to)},onMouseEnter(e){if(this.isCompatEnabled("INSTANCE_EVENT_EMITTER")){let t=this.$parent;t=this.$parent.$parent,t.$emit("mouse-over",{originalDomEvent:e,index:this.index,column:this.column})}else this.searchBarOnMouseOver({originalDomEvent:e,index:this.index,column:this.column});this.isActive=!0},onClickSearchResult(e,t,r={}){this.recentlySearchService.add(this.currentUser.id,e,t,r)}}});
//# sourceMappingURL=index-B65OWTk_.js.map
