{"version":3,"file":"index-BxOWRi-j.js","sources":["../../../app/administration/src/module/sw-product/component/sw-product-visibility-detail/sw-product-visibility-detail.html.twig","../../../app/administration/src/module/sw-product/component/sw-product-visibility-detail/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_product_visibility_detail %}\n<sw-grid\n    class=\"sw-product-visibility-detail\"\n    table\n    :items=\"items\"\n    :selectable=\"false\"\n>\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_product_visibility_detail_columns %}\n    <template\n        #columns=\"{ item }\"\n    >\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_product_visibility_detail_columns_sales_channel %}\n        <sw-grid-column\n            :label=\"$tc('sw-product.visibility.columnSalesChannel')\"\n            class=\"sw-product-visibility-detail__column-sales-channel\"\n            flex=\"0.5fr\"\n            align=\"left\"\n        >\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_product_visibility_detail_columns_sales_channel_label %}\n            <span\n                v-tooltip=\"{ message: names[item.id], disabled: names[item.id].length < 10 }\"\n                class=\"sw-product-visibility-detail__name\"\n            >\n                {{ truncateFilter(names[item.id], 30) }}\n            </span>\n            {% endblock %}\n        </sw-grid-column>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_product_visibility_detail_columns_all %}\n        <sw-grid-column\n            :label=\"$tc('sw-product.visibility.columnAll')\"\n            class=\"sw-product-visibility-detail__column-all\"\n            flex=\"0.3fr\"\n            align=\"left\"\n        >\n            <sw-radio-field\n                :disabled=\"disabled\"\n                :value=\"item.visibility\"\n                :name=\"'visibility' + item.id\"\n                :options=\"[{ value: 30 }]\"\n                @update:value=\"changeVisibilityValue($event, item)\"\n            />\n        </sw-grid-column>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_product_visibility_detail_columns_search_only %}\n        <sw-grid-column\n            :label=\"$tc('sw-product.visibility.columnSearchOnly')\"\n            class=\"sw-product-visibility-detail__search-only\"\n            flex=\"0.7fr\"\n            align=\"left\"\n        >\n            <sw-radio-field\n                :disabled=\"disabled\"\n                :value=\"item.visibility\"\n                :name=\"'visibility' + item.id\"\n                :options=\"[{ value: 20 }]\"\n                @update:value=\"changeVisibilityValue($event, item)\"\n            />\n        </sw-grid-column>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_product_visibility_detail_columns_link_only %}\n        <sw-grid-column\n            :label=\"$tc('sw-product.visibility.columnLinkOnly')\"\n            class=\"sw-product-visibility-detail__link-only\"\n            flex=\"1fr\"\n            align=\"left\"\n        >\n            <sw-radio-field\n                :disabled=\"disabled\"\n                :value=\"item.visibility\"\n                :name=\"'visibility' + item.id\"\n                :options=\"[{ value: 10 }]\"\n                @update:value=\"changeVisibilityValue($event, item)\"\n            />\n        </sw-grid-column>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_product_visibility_detail_pagination %}\n    <template #pagination>\n        <sw-pagination\n            :page=\"page\"\n            :limit=\"limit\"\n            :total=\"total\"\n            :total-visible=\"10\"\n            :steps=\"[10]\"\n            @page-change=\"onPageChange\"\n        />\n    </template>\n    {% endblock %}\n</sw-grid>\n{% endblock %}\n","/*\n * @package inventory\n */\n\nimport template from './sw-product-visibility-detail.html.twig';\nimport './sw-product-visibility-detail.scss';\n\nconst { mapState } = Cicada.Component.getComponentHelper();\nconst { Filter } = Cicada;\n\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    props: {\n        disabled: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n    },\n\n    data() {\n        return {\n            items: [],\n            page: 1,\n            limit: 10,\n            total: 0,\n        };\n    },\n\n    computed: {\n        ...mapState('swProductDetail', [\n            'product',\n        ]),\n\n        truncateFilter() {\n            return Filter.getByName('truncate');\n        },\n\n        filteredItems() {\n            return this.product.visibilities.filter((item) => {\n                return !item.isDeleted;\n            });\n        },\n\n        names() {\n            const names = {};\n\n            this.filteredItems.forEach((item) => {\n                names[item.id] = item.salesChannelInternal\n                    ? item.salesChannelInternal.translated.name\n                    : item.salesChannel.translated.name;\n            });\n\n            return names;\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.onPageChange({ page: this.page, limit: this.limit });\n        },\n\n        onPageChange(params) {\n            const offset = (params.page - 1) * params.limit;\n\n            this.total = this.filteredItems.length;\n            this.items = this.filteredItems.slice(offset, offset + params.limit);\n        },\n\n        changeVisibilityValue(event, item) {\n            item.visibility = Number(event);\n        },\n    },\n};\n"],"names":["template","mapState","Filter","index","item","names","params","offset","event"],"mappings":"AAAA,MAAeA,EAAA,+rECOT,CAAE,SAAAC,CAAQ,EAAK,OAAO,UAAU,mBAAkB,EAClD,CAAE,OAAAC,CAAQ,EAAG,OAGJC,EAAA,CACX,SAAAH,EAEA,aAAc,OAAO,aAErB,MAAO,CACH,SAAU,CACN,KAAM,QACN,SAAU,GACV,QAAS,EACZ,CACJ,EAED,MAAO,CACH,MAAO,CACH,MAAO,CAAE,EACT,KAAM,EACN,MAAO,GACP,MAAO,CACnB,CACK,EAED,SAAU,CACN,GAAGC,EAAS,kBAAmB,CAC3B,SACZ,CAAS,EAED,gBAAiB,CACb,OAAOC,EAAO,UAAU,UAAU,CACrC,EAED,eAAgB,CACZ,OAAO,KAAK,QAAQ,aAAa,OAAQE,GAC9B,CAACA,EAAK,SAChB,CACJ,EAED,OAAQ,CACJ,MAAMC,EAAQ,CAAA,EAEd,YAAK,cAAc,QAASD,GAAS,CACjCC,EAAMD,EAAK,EAAE,EAAIA,EAAK,qBAChBA,EAAK,qBAAqB,WAAW,KACrCA,EAAK,aAAa,WAAW,IACnD,CAAa,EAEMC,CACV,CACJ,EAED,SAAU,CACN,KAAK,iBAAgB,CACxB,EAED,QAAS,CACL,kBAAmB,CACf,KAAK,aAAa,CAAE,KAAM,KAAK,KAAM,MAAO,KAAK,KAAK,CAAE,CAC3D,EAED,aAAaC,EAAQ,CACjB,MAAMC,GAAUD,EAAO,KAAO,GAAKA,EAAO,MAE1C,KAAK,MAAQ,KAAK,cAAc,OAChC,KAAK,MAAQ,KAAK,cAAc,MAAMC,EAAQA,EAASD,EAAO,KAAK,CACtE,EAED,sBAAsBE,EAAOJ,EAAM,CAC/BA,EAAK,WAAa,OAAOI,CAAK,CACjC,CACJ,CACL"}