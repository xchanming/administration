const a=`{% block sw_cms_element_vimeo_video_config %} <div class="sw-cms-el-config-vimeo-video"> {% block sw_cms_element_vimeo_video_config_video_id %} <sw-text-field v-model:value="videoID" class="sw-cms-el-config-vimeo-video__video-id" :label="$tc('sw-cms.elements.vimeoVideo.config.label.videoId')" :placeholder="$tc('sw-cms.elements.vimeoVideo.config.placeholder.videoId')" /> {% endblock %} {% block sw_cms_element_vimeo_video_config_title %} <sw-text-field v-model:value="element.config.iframeTitle.value" :label="$tc('sw-cms.elements.vimeoVideo.config.label.videoTitle')" :placeholder="$tc('sw-cms.elements.vimeoVideo.config.placeholder.videoTitle')" /> {% endblock %} {% block sw_cms_element_vimeo_video_config_player_controls %} <div class="sw-cms-el-config-vimeo-video__player-controls"> {% block sw_cms_element_vimeo_video_config_autoplay %} <sw-switch-field v-model:value="element.config.autoplay.value" :label="$tc('sw-cms.elements.vimeoVideo.config.label.autoPlay')" :help-text="$tc('sw-cms.elements.vimeoVideo.config.helpText.autoPlay')" /> {% endblock %} {% block sw_cms_element_vimeo_video_config_do_not_track %} <sw-switch-field v-model:value="element.config.doNotTrack.value" :label="$tc('sw-cms.elements.vimeoVideo.config.label.advancedPrivacy')" :help-text="$tc('sw-cms.elements.vimeoVideo.config.helpText.advancedPrivacy')" /> {% endblock %} {% block sw_cms_element_vimeo_video_config_loop %} <sw-switch-field v-model:value="element.config.loop.value" :label="$tc('sw-cms.elements.vimeoVideo.config.label.loop')" /> {% endblock %} {% block sw_cms_element_vimeo_video_config_controls %} <sw-switch-field v-model:value="element.config.controls.value" :label="$tc('sw-cms.elements.vimeoVideo.config.label.showControls')" /> {% endblock %} </div> {% endblock %} {% block sw_cms_element_vimeo_video_config_color %} <sw-colorpicker v-model:value="element.config.color.value" class="sw-cms-el-config-vimeo-video__color" :label="$tc('sw-cms.elements.vimeoVideo.config.label.controlsColor')" color-output="hex" :z-index="1001" :alpha="false" /> {% endblock %} {% block sw_cms_element_vimeo_video_config_artist_information %} <div class="sw-cms-el-config-vimeo-video__artist-information"> {% block sw_cms_element_vimeo_video_config_byline %} <sw-switch-field v-model:value="element.config.byLine.value" :label="$tc('sw-cms.elements.vimeoVideo.config.label.byLine')" /> {% endblock %} {% block sw_cms_element_vimeo_video_config_portrait %} <sw-switch-field v-model:value="element.config.portrait.value" :label="$tc('sw-cms.elements.vimeoVideo.config.label.showPortrait')" /> {% endblock %} {% block sw_cms_element_vimeo_video_config_title %} <sw-switch-field v-model:value="element.config.title.value" :label="$tc('sw-cms.elements.vimeoVideo.config.label.showTitle')" /> {% endblock %} </div> {% endblock %} {% block sw_cms_element_vimeo_video_config_needs_confirmation %} <div class="sw-cms-el-config-vimeo-video__confirmation"> <sw-switch-field v-model:value="element.config.needsConfirmation.value" :label="$tc('sw-cms.elements.vimeoVideo.config.label.needsConfirmation')" /> </div> {% endblock %} {% block sw_cms_element_vimeo_video_config_preview_media %} <sw-cms-mapping-field v-if="element.config.needsConfirmation.value" v-model:config="element.config.previewMedia" :label="$tc('sw-cms.elements.vimeoVideo.config.label.previewImage')" value-types="entity" entity="media" > <sw-media-upload-v2 variant="regular" :upload-tag="uploadTag" :source="previewSource" :allow-multi-select="false" :default-folder="cmsPageState.pageEntityName" :caption="$tc('sw-cms.elements.general.config.caption.mediaUpload')" @media-upload-sidebar-open="onOpenMediaModal" @media-upload-remove-image="onImageRemove" /> {% block sw_cms_element_vimeo_video_config_preview_media_display %} <template #preview="{ demoValue }"> <div class="sw-cms-el-config-image__mapping-preview"> <img v-if="demoValue.url" :src="demoValue.url" alt="" > <sw-alert v-else class="sw-cms-el-config-image__preview-info" variant="info" > {{ $tc('sw-cms.detail.label.mappingEmptyPreview') }} </sw-alert> </div> </template> {% endblock %} </sw-cms-mapping-field> {% block sw_cms_element_vimeo_video_config_preview_media_upload_listener %} <sw-upload-listener :upload-tag="uploadTag" auto-upload @media-upload-finish="onImageUpload" /> {% endblock %} {% block sw_cms_element_vimeo_video_config_preview_media_modal %} <sw-media-modal-v2 v-if="mediaModalIsOpen" variant="full" :caption="$tc('sw-cms.elements.general.config.caption.mediaUpload')" :entity-context="cmsPageState.entityName" :allow-multi-select="false" :initial-folder-id="cmsPageState.defaultMediaFolderId" @media-upload-remove-image="onImageRemove" @media-modal-selection-change="onSelectionChanges" @modal-close="onCloseModal" /> {% endblock %} {% endblock %} </div> {% endblock %}`,{Mixin:m}=Shopware,s={template:a,emits:["element-update"],mixins:[m.getByName("cms-element")],data(){return{mediaModalIsOpen:!1,initialFolderId:null}},computed:{videoID:{get(){return this.element.config.videoID.value},set(e){this.element.config.videoID.value=this.shortenLink(e)}},mediaRepository(){return this.repositoryFactory.create("media")},uploadTag(){return`cms-element-vimeo-video-config-${this.element.id}`},previewSource(){return this.element.data&&this.element.data.previewMedia&&this.element.data.previewMedia.id?this.element.data.previewMedia:this.element.config.previewMedia.value}},created(){this.createdComponent()},methods:{createdComponent(){this.initElementConfig("vimeo-video")},shortenLink(e){const i=e,t=/https:\/\/vimeo\.com\//,l=/#/;let o=i.replace(t,"");if(l.test(o)){const n=l.exec(o).index;o=o.substring(0,n)}return o},async onImageUpload({targetId:e}){const i=await this.mediaRepository.get(e);this.element.config.previewMedia.value=i.id,this.updateElementData(i),this.$emit("element-update",this.element)},onImageRemove(){this.element.config.previewMedia.value=null,this.updateElementData(),this.$emit("element-update",this.element)},onCloseModal(){this.mediaModalIsOpen=!1},onSelectionChanges(e){const i=e[0];this.element.config.previewMedia.value=i.id,this.updateElementData(i),this.$emit("element-update",this.element)},updateElementData(e=null){this.element.data.previewMediaId=e===null?null:e.id,this.element.data.previewMedia=e},onOpenMediaModal(){this.mediaModalIsOpen=!0}}};export{s as default};
