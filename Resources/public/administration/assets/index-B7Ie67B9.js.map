{"version":3,"file":"index-B7Ie67B9.js","sources":["../../../app/administration/src/module/sw-extension/component/sw-self-maintained-extension-card/index.js"],"sourcesContent":["import template from '../sw-extension-permissions-details-modal/sw-extension-permissions-details-modal.html.twig';\n\n/**\n * @package checkout\n * @private\n */\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    mixins: ['sw-extension-error'],\n\n    props: {\n        extension: {\n            type: Object,\n            required: true,\n        },\n    },\n\n    computed: {\n        extensionCardClasses() {\n            return {\n                'sw-self-maintained-extension-card': true,\n                ...this.$super('extensionCardClasses'),\n            };\n        },\n\n        permissions() {\n            return Object.keys(this.extension.permissions).length ? this.extension.permissions : null;\n        },\n\n        isInstalled() {\n            return this.extension.installedAt !== null;\n        },\n    },\n\n    methods: {\n        async changeExtensionStatus() {\n            // State in checkbox has already changed so we have to treat extension.active as the state to change to\n            if (this.isActive) {\n                await this.activateExtension();\n                return;\n            }\n\n            await this.deactivateExtension();\n        },\n\n        async installAndActivateExtension() {\n            this.isLoading = true;\n\n            try {\n                await this.cicadaExtensionService.installAndActivateExtension(this.extension.name, this.extension.type);\n\n                await this.clearCacheAndReloadPage();\n            } catch (e) {\n                this.showExtensionErrors(e);\n            } finally {\n                this.isLoading = false;\n            }\n        },\n\n        async installExtension() {\n            this.isLoading = true;\n\n            try {\n                await this.cicadaExtensionService.installExtension(this.extension.name, this.extension.type);\n\n                await this.clearCacheAndReloadPage();\n            } catch (e) {\n                this.showExtensionErrors(e);\n            } finally {\n                this.isLoading = false;\n            }\n        },\n\n        async activateExtension() {\n            try {\n                this.isLoading = true;\n\n                await this.cicadaExtensionService.activateExtension(this.extension.name, this.extension.type);\n                this.extension.active = true;\n\n                await this.clearCacheAndReloadPage();\n            } catch (e) {\n                this.extension.active = false;\n                this.showExtensionErrors(e);\n            } finally {\n                this.isLoading = false;\n            }\n        },\n\n        async deactivateExtension() {\n            try {\n                this.isLoading = true;\n\n                await this.cicadaExtensionService.deactivateExtension(this.extension.name, this.extension.type);\n                this.extension.active = false;\n\n                await this.clearCacheAndReloadPage();\n            } catch (e) {\n                this.extension.active = true;\n\n                this.showExtensionErrors(e);\n            } finally {\n                this.isLoading = false;\n            }\n        },\n\n        async removeExtension(removeData) {\n            try {\n                this.showRemovalModal = false;\n                this.isLoading = true;\n\n                await this.cicadaExtensionService.removeExtension(\n                    this.extension.name,\n                    this.extension.type,\n                    removeData,\n                );\n                this.extension.active = false;\n                await this.clearCacheAndReloadPage();\n            } catch (e) {\n                this.showExtensionErrors(e);\n            } finally {\n                this.isLoading = false;\n            }\n        },\n    },\n};\n"],"names":["index","template","removeData","e"],"mappings":"8EAMA,MAAeA,EAAA,CACX,SAAAC,EAEA,aAAc,OAAO,aAErB,OAAQ,CAAC,oBAAoB,EAE7B,MAAO,CACH,UAAW,CACP,KAAM,OACN,SAAU,EACb,CACJ,EAED,SAAU,CACN,sBAAuB,CACnB,MAAO,CACH,oCAAqC,GACrC,GAAG,KAAK,OAAO,sBAAsB,CACrD,CACS,EAED,aAAc,CACV,OAAO,OAAO,KAAK,KAAK,UAAU,WAAW,EAAE,OAAS,KAAK,UAAU,YAAc,IACxF,EAED,aAAc,CACV,OAAO,KAAK,UAAU,cAAgB,IACzC,CACJ,EAED,QAAS,CACL,MAAM,uBAAwB,CAE1B,GAAI,KAAK,SAAU,CACf,MAAM,KAAK,oBACX,MACH,CAED,MAAM,KAAK,qBACd,EAED,MAAM,6BAA8B,CAChC,KAAK,UAAY,GAEjB,GAAI,CACA,MAAM,KAAK,uBAAuB,4BAA4B,KAAK,UAAU,KAAM,KAAK,UAAU,IAAI,EAEtG,MAAM,KAAK,yBACd,OAAQ,EAAG,CACR,KAAK,oBAAoB,CAAC,CAC1C,QAAsB,CACN,KAAK,UAAY,EACpB,CACJ,EAED,MAAM,kBAAmB,CACrB,KAAK,UAAY,GAEjB,GAAI,CACA,MAAM,KAAK,uBAAuB,iBAAiB,KAAK,UAAU,KAAM,KAAK,UAAU,IAAI,EAE3F,MAAM,KAAK,yBACd,OAAQ,EAAG,CACR,KAAK,oBAAoB,CAAC,CAC1C,QAAsB,CACN,KAAK,UAAY,EACpB,CACJ,EAED,MAAM,mBAAoB,CACtB,GAAI,CACA,KAAK,UAAY,GAEjB,MAAM,KAAK,uBAAuB,kBAAkB,KAAK,UAAU,KAAM,KAAK,UAAU,IAAI,EAC5F,KAAK,UAAU,OAAS,GAExB,MAAM,KAAK,yBACd,OAAQ,EAAG,CACR,KAAK,UAAU,OAAS,GACxB,KAAK,oBAAoB,CAAC,CAC1C,QAAsB,CACN,KAAK,UAAY,EACpB,CACJ,EAED,MAAM,qBAAsB,CACxB,GAAI,CACA,KAAK,UAAY,GAEjB,MAAM,KAAK,uBAAuB,oBAAoB,KAAK,UAAU,KAAM,KAAK,UAAU,IAAI,EAC9F,KAAK,UAAU,OAAS,GAExB,MAAM,KAAK,yBACd,OAAQ,EAAG,CACR,KAAK,UAAU,OAAS,GAExB,KAAK,oBAAoB,CAAC,CAC1C,QAAsB,CACN,KAAK,UAAY,EACpB,CACJ,EAED,MAAM,gBAAgBC,EAAY,CAC9B,GAAI,CACA,KAAK,iBAAmB,GACxB,KAAK,UAAY,GAEjB,MAAM,KAAK,uBAAuB,gBAC9B,KAAK,UAAU,KACf,KAAK,UAAU,KACfA,CACpB,EACgB,KAAK,UAAU,OAAS,GACxB,MAAM,KAAK,yBACd,OAAQC,EAAG,CACR,KAAK,oBAAoBA,CAAC,CAC1C,QAAsB,CACN,KAAK,UAAY,EACpB,CACJ,CACJ,CACL"}