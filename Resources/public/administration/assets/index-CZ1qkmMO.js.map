{"version":3,"file":"index-CZ1qkmMO.js","sources":["../../../app/administration/src/module/sw-cms/component/sw-cms-layout-assignment-modal/sw-cms-layout-assignment-modal.html.twig","../../../app/administration/src/module/sw-cms/component/sw-cms-layout-assignment-modal/index.ts"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_cms_layout_assignment_modal %}\n<sw-modal\n    :title=\"$tc('sw-cms.detail.sidebar.titleLayoutAssignment')\"\n    class=\"sw-cms-layout-assignment-modal\"\n    @modal-close=\"onAbort\"\n>\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_cms_layout_assignment_modal_loader %}\n    <sw-loader\n        v-if=\"isLoading\"\n        class=\"sw-cms-layout-assignment-modal__loader\"\n    />\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_cms_layout_assignment_modal_info_text_general %}\n    <p\n        v-if=\"page.type !== 'page' && page.type !== 'product_detail'\"\n        class=\"sw-cms-layout-assignment-modal__info-text\"\n    >\n        {{ $tc('sw-cms.components.cmsLayoutAssignmentModal.infoText') }}\n    </p>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_cms_layout_assignment_modal_info_text_shop_pages %}\n    <p\n        v-if=\"page.type === 'page'\"\n        class=\"sw-cms-layout-assignment-modal__info-text\"\n    >\n        {{ $tc('sw-cms.components.cmsLayoutAssignmentModal.infoTextShopPages') }}\n    </p>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_cms_layout_assignment_modal_info_text_product_detail_pages %}\n    <p\n        v-if=\"page.type === 'product_detail'\"\n        class=\"sw-cms-layout-assignment-modal__info-text\"\n    >\n        {{ $tc('sw-cms.components.cmsLayoutAssignmentModal.infoTextProductDetailPages') }}\n    </p>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_cms_layout_assignment_modal_tabs %}\n    <sw-tabs\n        position-identifier=\"sw-cms-layout-assignment-modal\"\n        class=\"sw-cms-layout-assignment-modal__tabs\"\n        default-item=\"categories\"\n    >\n\n        <template #default=\"{ active }\">\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_cms_layout_assignment_modal_tab_categories %}\n            <sw-tabs-item\n                v-if=\"page.type === 'page' || page.type === 'landingpage'\"\n                :active-tab=\"active\"\n                :title=\"$tc('sw-cms.components.cmsLayoutAssignmentModal.tabCategories')\"\n                class=\"sw-cms-layout-assignment-modal__tab-categories\"\n                name=\"categories\"\n            >\n                {{ $tc('sw-cms.components.cmsLayoutAssignmentModal.tabCategories') }}\n            </sw-tabs-item>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_cms_layout_assignment_modal_tab_shop_pages %}\n            <sw-tabs-item\n                v-if=\"page.type === 'page'\"\n                v-tooltip=\"{\n                    message: $tc('sw-privileges.tooltip.warning'),\n                    showOnDisabledElements: true,\n                    disabled: acl.can('system.system_config')\n                }\"\n                :active-tab=\"active\"\n                :title=\"$tc('sw-cms.components.cmsLayoutAssignmentModal.tabShopPages')\"\n                :disabled=\"!acl.can('system.system_config')\"\n                class=\"sw-cms-layout-assignment-modal__tab-shop-pages\"\n                name=\"shop_pages\"\n            >\n                {{ $tc('sw-cms.components.cmsLayoutAssignmentModal.tabShopPages') }}\n            </sw-tabs-item>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_cms_layout_assignment_modal_tab_landing_pages %}\n            <sw-tabs-item\n                v-if=\"page.type === 'landingpage'\"\n                v-tooltip=\"{\n                    message: $tc('sw-privileges.tooltip.warning'),\n                    showOnDisabledElements: true,\n                    disabled: acl.can('system.system_config')\n                }\"\n                :active-tab=\"active\"\n                :title=\"$tc('sw-cms.components.cmsLayoutAssignmentModal.tabLandingPages')\"\n                :disabled=\"!acl.can('system.system_config')\"\n                class=\"sw-cms-layout-assignment-modal__tab-landing-pages\"\n                name=\"landing_pages\"\n            >\n                {{ $tc('sw-cms.components.cmsLayoutAssignmentModal.tabLandingPages') }}\n            </sw-tabs-item>\n            {% endblock %}\n        </template>\n\n        <template #content=\"{ active }\">\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_cms_layout_assignment_modal_landing_page_select %}\n            <template v-if=\"active === 'landing_pages'\">\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_layout_assignment_modal_landing_page_select_field %}\n                <sw-entity-multi-select\n                    v-model:entityCollection=\"page.landingPages\"\n                    class=\"sw-cms-layout-assignment-modal__landing-page-select\"\n                    :label=\"$tc('global.entities.landing_page')\"\n                    :placeholder=\"$tc('sw-cms.components.cmsLayoutAssignmentModal.placeholderLandingPages')\"\n                    entity-name=\"landing_page\"\n                />\n                {% endblock %}\n            </template>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_cms_layout_assignment_modal_category_select %}\n            <template v-if=\"!isProductDetailPage && active === 'categories'\">\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_layout_assignment_modal_category_select_field %}\n                <sw-category-tree-field\n                    key=\"categorySelect\"\n                    :categories-collection=\"page.categories\"\n                    :label=\"$tc('sw-cms.components.cmsLayoutAssignmentModal.labelCategories')\"\n                    :placeholder=\"$tc('sw-cms.components.cmsLayoutAssignmentModal.placeholderCategories')\"\n                    :page-id=\"page.id\"\n                    :is-categories-loading=\"isCategoriesLoading\"\n                    class=\"sw-cms-layout-assignment-modal__category-select\"\n                    @categories-load-more=\"onExtraCategories\"\n                />\n                {% endblock %}\n            </template>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_cms_layout_assignment_modal_shop_pages_select %}\n            <template v-if=\"!isProductDetailPage && active === 'shop_pages'\">\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_layout_assignment_modal_shop_pages_select_sales_channel_field %}\n                <sw-entity-single-select\n                    v-model:value=\"shopPageSalesChannelId\"\n                    class=\"sw-cms-layout-assignment-modal__sales-channel-select\"\n                    entity=\"sales_channel\"\n                    :label=\"$tc('sw-cms.components.cmsLayoutAssignmentModal.labelSalesChannel')\"\n                    :placeholder=\"$tc('sw-cms.components.cmsLayoutAssignmentModal.placeholderSalesChannel')\"\n                    :reset-option=\"$tc('sw-cms.components.cmsLayoutAssignmentModal.resetOptionSalesChannel')\"\n                    :help-text=\"$tc('sw-cms.components.cmsLayoutAssignmentModal.helpTextSalesChannel')\"\n                    show-clearable-button\n                    @update:value=\"onInputSalesChannelSelect\"\n                />\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_layout_assignment_modal_shop_pages_select_field %}\n                <sw-inherit-wrapper\n                    v-model:value=\"selectedShopPages[shopPageSalesChannelId]\"\n                    :inherited-value=\"selectedShopPages.null\"\n                    :has-parent=\"shopPageSalesChannelId !== null\"\n                    :label=\"$tc('sw-cms.components.cmsLayoutAssignmentModal.labelShopPages')\"\n                >\n                    <template #content=\"props\">\n                        <sw-multi-select\n                            class=\"sw-cms-layout-assignment-modal__shop-page-select\"\n                            :options=\"shopPages\"\n                            :disabled=\"props.isInherited\"\n                            :value=\"props.currentValue\"\n                            :map-inheritance=\"props\"\n                            @update:value=\"props.updateCurrentValue\"\n                        />\n                    </template>\n                </sw-inherit-wrapper>\n                {% endblock %}\n            </template>\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_cms_layout_assignment_modal_product_detail_pages_select %}\n            <template v-if=\"page.type === 'product_detail'\">\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_entity_many_to_many_assignment_card_select %}\n                <sw-cms-product-assignment\n                    class=\"sw-cms-layout-assignment-modal__product-select\"\n                    :local-mode=\"true\"\n                    :entity-collection=\"page.products\"\n                    :columns=\"productColumns\"\n                    :criteria=\"productCriteria\"\n                    :select-label=\"$tc('sw-cms.components.cmsLayoutAssignmentModal.products.productAssignmentLabel')\"\n                    :placeholder=\"$tc('sw-cms.components.cmsLayoutAssignmentModal.products.productAssignmentPlaceholder')\"\n                >\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_cms_layout_assignment_modal_product_detail_pages_column_name %}\n                    <template #column-name=\"{ item, column }\">\n                        <router-link\n                            :to=\"{ name: column.routerLink, params: { id: item.id } }\"\n                        >\n                            <sw-product-variant-info\n                                :variations=\"item.options\"\n                                @click=\"onAbort\"\n                            >\n                                {{ item.translated.name }}\n                            </sw-product-variant-info>\n                        </router-link>\n                    </template>\n                    {% endblock %}\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_cms_layout_assignment_modal_product_detail_pages_column_manufacturer %}\n                    <template #column-manufacturer.name=\"{ item, column }\">\n                        <router-link\n                            v-if=\"item.manufacturerId\"\n                            :to=\"{ name: column.routerLink, params: { id: item.manufacturerId } }\"\n                        >\n                            <p\n                                role=\"button\"\n                                tabindex=\"0\"\n                                @click=\"onAbort\"\n                                @keydown.enter=\"onAbort\"\n                            >\n                                {{ item.manufacturer.translated.name }}\n                            </p>\n                        </router-link>\n                        <span v-else></span>\n                    </template>\n\n                    {% endblock %}\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_cms_layout_assignment_modal_product_detail_pages_empty_state %}\n                    <template #empty-state>\n                        <img\n                            class=\"sw-cms-product-assignment__empty-state\"\n                            :src=\"assetFilter('/administration/static/img/empty-states/products-empty-state.svg')\"\n                            alt=\"\"\n                        >\n                        <p>{{ $tc('sw-cms.components.cmsLayoutAssignmentModal.products.productAssignmentEmptyStateDescription') }}</p>\n                    </template>\n                    {% endblock %}\n                </sw-cms-product-assignment>\n                {% endblock %}\n            </template>\n            {% endblock %}\n\n        </template>\n    </sw-tabs>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_cms_layout_assignment_modal_confirm_changes %}\n    <sw-modal\n        v-if=\"showConfirmChangesModal\"\n        class=\"sw-cms-layout-assignment-modal__confirm-changes-modal\"\n        size=\"650px\"\n        :title=\"$tc('sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTitle')\"\n        @modal-close=\"closeConfirmChangesModal\"\n    >\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_layout_assignment_modal_confirm_changes_text_categories %}\n        <p\n            v-if=\"hasDeletedCategories\"\n            class=\"sw-cms-layout-assignment-modal__confirm-text-categories\"\n        >\n            {{ $tc('sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTextCategories') }}\n        </p>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_layout_assignment_modal_confirm_changes_text_assigned_layouts %}\n        <p\n            v-if=\"hasCategoriesWithAssignedLayouts\"\n            class=\"sw-cms-layout-assignment-modal__confirm-text-assigned-layouts\"\n        >\n            {{ $tc('sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTextCategoriesAssignedLayouts') }}\n        </p>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_layout_assignment_modal_confirm_changes_text_landing_pages %}\n        <p\n            v-if=\"hasDeletedLandingPages\"\n            class=\"sw-cms-layout-assignment-modal__confirm-text-landing-pages\"\n        >\n            {{ $tc('sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTextLandingPages') }}\n        </p>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_layout_assignment_modal_confirm_changes_text_assigned_layouts_landing_pages %}\n        <p\n            v-if=\"hasLandingPagesWithAssignedLayouts\"\n            class=\"sw-cms-layout-assignment-modal__confirm-text-assigned-layouts\"\n        >\n            {{ $tc('sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTextLandingPagesAssignedLayouts') }}\n        </p>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_layout_assignment_modal_confirm_changes_text_shop_pages %}\n        <p\n            v-if=\"hasDeletedShopPages\"\n            class=\"sw-cms-layout-assignment-modal__confirm-text-shop-pages\"\n        >\n            {{ $tc('sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTextShopPages') }}\n        </p>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_layout_assignment_modal_confirm_changes_text_products %}\n        <p\n            v-if=\"hasDeletedProducts\"\n            class=\"sw-cms-layout-assignment-modal__confirm-text-products\"\n        >\n            {{ $tc('sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTextProducts') }}\n        </p>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_layout_assignment_modal_confirm_changes_text_products_assigned_layouts %}\n        <p\n            v-if=\"hasProductsWithAssignedLayouts\"\n            class=\"sw-cms-layout-assignment-modal__confirm-text-products-assigned-layouts\"\n        >\n            {{ $tc('sw-cms.components.cmsLayoutAssignmentModal.confirmChangesTextProductsAssignedLayouts') }}\n        </p>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_layout_assignment_modal_confirm_changes_text %}\n        <p><strong>{{ $tc('sw-cms.components.cmsLayoutAssignmentModal.confirmChangesText') }}</strong></p>\n        {% endblock %}\n\n        <template #modal-footer>\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_cms_layout_assignment_modal_confirm_changes_keep_editing %}\n            <sw-button\n                class=\"sw-cms-layout-assignment-modal__action-keep-editing\"\n                size=\"small\"\n                @click=\"onKeepEditing\"\n            >\n                {{ $tc('global.default.cancel') }}\n            </sw-button>\n            {% endblock %}\n\n            <div class=\"sw-cms-layout-assignment-modal__confirm-changes-modal-main-actions\">\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_layout_assignment_modal_confirm_changes_discard %}\n                <sw-button\n                    class=\"sw-cms-layout-assignment-modal__action-changes-discard\"\n                    variant=\"ghost\"\n                    size=\"small\"\n                    @click=\"onDiscardChanges\"\n                >\n                    {{ $tc('global.default.discard') }}\n                </sw-button>\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_layout_assignment_modal_confirm_changes_confirm %}\n                <sw-button\n                    class=\"sw-cms-layout-assignment-modal__action-changes-confirm\"\n                    variant=\"primary\"\n                    size=\"small\"\n                    @click=\"onConfirmChanges\"\n                >\n                    {{ $tc('global.default.confirm') }}\n                </sw-button>\n                {% endblock %}\n            </div>\n        </template>\n    </sw-modal>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_cms_layout_assignment_modal_actions %}\n    <template #modal-footer>\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_layout_assignment_action_abort %}\n        <sw-button\n            :disabled=\"isLoading\"\n            class=\"sw-cms-layout-assignment-modal__action-cancel\"\n            size=\"small\"\n            @click=\"onAbort\"\n        >\n            {{ $tc('global.default.cancel') }}\n        </sw-button>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_layout_assignment_action_confirm %}\n        <sw-button\n            :disabled=\"isLoading\"\n            class=\"sw-cms-layout-assignment-modal__action-confirm\"\n            size=\"small\"\n            variant=\"primary\"\n            @click=\"onConfirm\"\n        >\n            {{ $tc('global.default.apply') }}\n        </sw-button>\n        {% endblock %}\n    </template>\n    {% endblock %}\n</sw-modal>\n{% endblock %}\n","import EntityCollection from '@cicada-ag/meteor-admin-sdk/es/_internals/data/EntityCollection';\nimport { difference } from 'lodash';\nimport { type PropType } from 'vue';\nimport template from './sw-cms-layout-assignment-modal.html.twig';\nimport './sw-cms-layout-assignment-modal.scss';\n\nconst { cloneDeep } = Cicada.Utils.object;\nconst { Criteria } = Cicada.Data;\n\n/**\n * @private\n * @package discovery\n */\nexport default Cicada.Component.wrapComponentConfig({\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: [\n        'repositoryFactory',\n        'systemConfigApiService',\n        'acl',\n    ],\n\n    emits: ['modal-close'],\n\n    mixins: [\n        Cicada.Mixin.getByName('notification'),\n    ],\n\n    props: {\n        page: {\n            type: Object as PropType<EntitySchema.Entity<'cms_page'>>,\n            required: true,\n        },\n    },\n\n    data() {\n        return {\n            shopPageSalesChannelId: null as string | null,\n            previousCategories: [] as EntitySchema.Entity<'category'>[],\n            previousCategoryIds: [] as string[],\n            previousLandingPages: [] as EntitySchema.Entity<'landing_page'>[],\n            previousLandingPageIds: [] as string[],\n            showConfirmChangesModal: false,\n            isLoading: false,\n            selectedShopPages: {} as Record<string, string[] | null>,\n            previousShopPages: {} as Record<string, string[] | null>,\n            confirmedCategories: false,\n            confirmedShopPages: false,\n            confirmedProducts: false,\n            confirmedLandingPages: false,\n            hasDeletedCategories: false,\n            hasDeletedShopPages: false,\n            hasDeletedProducts: false,\n            hasDeletedLandingPages: false,\n            hasCategoriesWithAssignedLayouts: false,\n            hasProductsWithAssignedLayouts: false,\n            hasLandingPagesWithAssignedLayouts: false,\n            previousProducts: [] as EntitySchema.Entity<'product'>[],\n            previousProductIds: [] as string[],\n            categoryIndex: 1,\n            isCategoriesLoading: false,\n        };\n    },\n\n    computed: {\n        systemConfigDomain() {\n            return 'core.basicInformation';\n        },\n\n        shopPages() {\n            return [\n                {\n                    label: this.$tc('sw-cms.components.cmsLayoutAssignmentModal.shopPages.tosPage'),\n                    value: 'core.basicInformation.tosPage',\n                },\n                {\n                    label: this.$tc('sw-cms.components.cmsLayoutAssignmentModal.shopPages.privacyPage'),\n                    value: 'core.basicInformation.privacyPage',\n                },\n                {\n                    label: this.$tc('sw-cms.components.cmsLayoutAssignmentModal.shopPages.404Page'),\n                    value: 'core.basicInformation.404Page',\n                },\n                {\n                    label: this.$tc('sw-cms.components.cmsLayoutAssignmentModal.shopPages.maintenancePage'),\n                    value: 'core.basicInformation.maintenancePage',\n                },\n                {\n                    label: this.$tc('sw-cms.components.cmsLayoutAssignmentModal.shopPages.contactPage'),\n                    value: 'core.basicInformation.contactPage',\n                },\n                {\n                    label: this.$tc('sw-cms.components.cmsLayoutAssignmentModal.shopPages.newsletterPage'),\n                    value: 'core.basicInformation.newsletterPage',\n                },\n            ];\n        },\n\n        productColumns() {\n            return [\n                {\n                    property: 'name',\n                    label: this.$tc('sw-cms.components.cmsLayoutAssignmentModal.products.columnNameLabel'),\n                    dataIndex: 'name',\n                    routerLink: 'sw.product.detail',\n                    sortable: false,\n                },\n                {\n                    property: 'manufacturer.name',\n                    label: this.$tc('sw-cms.components.cmsLayoutAssignmentModal.products.columnManufacturerLabel'),\n                    routerLink: 'sw.manufacturer.detail',\n                    sortable: false,\n                },\n            ];\n        },\n\n        productCriteria() {\n            const productCriteria = new Criteria(1, 5);\n            productCriteria\n                .addAssociation('options.group')\n                .addAssociation('manufacturer')\n                .addFilter(Criteria.equals('parentId', null));\n            return productCriteria;\n        },\n\n        isProductDetailPage() {\n            return this.page.type === 'product_detail';\n        },\n\n        assetFilter() {\n            return Cicada.Filter.getByName('asset');\n        },\n\n        categoryRepository() {\n            return this.repositoryFactory.create('category');\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.previousCategories = [...this.page.categories!];\n            this.previousCategoryIds = this.page.categories!.getIds();\n\n            this.previousLandingPages = [...this.page.landingPages!];\n            this.previousLandingPageIds = this.page.landingPages!.getIds();\n\n            this.previousProducts = [...this.page.products!];\n            this.previousProductIds = this.page.products!.getIds();\n\n            void this.loadSystemConfig();\n        },\n\n        onModalClose(saveAfterClose = false) {\n            this.$emit('modal-close', saveAfterClose);\n        },\n\n        saveShopPages() {\n            if (this.page.type !== 'page' || !this.acl.can('system.system_config')) {\n                return Promise.resolve();\n            }\n\n            const shopPages: Record<string, Record<string, string | null>> = {};\n            let deletions = 0;\n\n            Object.keys(this.selectedShopPages).forEach((salesChannelId) => {\n                shopPages[salesChannelId] = {};\n\n                if (this.selectedShopPages[salesChannelId] === null) {\n                    return;\n                }\n\n                this.selectedShopPages[salesChannelId]?.forEach((name) => {\n                    shopPages[salesChannelId][name] = this.page.id;\n                });\n            });\n\n            // Set deleted items to null for API request\n            Object.keys(this.previousShopPages).forEach((salesChannelId) => {\n                if (this.previousShopPages[salesChannelId] === null) {\n                    return;\n                }\n\n                this.previousShopPages[salesChannelId]?.forEach((name) => {\n                    if (shopPages[salesChannelId][name] === undefined) {\n                        shopPages[salesChannelId][name] = null;\n                        deletions += 1;\n                    }\n                });\n            });\n\n            if (!this.confirmedShopPages && deletions > 0) {\n                this.hasDeletedShopPages = true;\n                this.openConfirmChangesModal();\n                return Promise.reject();\n            }\n\n            return this.systemConfigApiService.batchSave(shopPages).catch(() => {\n                this.createNotificationError({\n                    message: this.$tc('sw-cms.components.cmsLayoutAssignmentModal.shopPagesSaveError'),\n                });\n            });\n        },\n\n        // eslint-disable-next-line consistent-return\n        loadSystemConfig() {\n            if (this.page.type !== 'page' || !this.acl.can('system.system_config')) {\n                return false;\n            }\n\n            if (this.selectedShopPages.hasOwnProperty(this.shopPageSalesChannelId!)) {\n                return false;\n            }\n\n            this.isLoading = true;\n\n            return this.systemConfigApiService\n                .getValues(this.systemConfigDomain, this.shopPageSalesChannelId as null)\n                .then((values: { [key: string]: unknown }) => {\n                    const pages: string[] = [];\n\n                    Object.keys(values).forEach((key) => {\n                        const found = this.shopPages.find((item) => {\n                            return item.value === key;\n                        });\n\n                        if (found && values[key] === this.page.id) {\n                            pages.push(key);\n                        }\n                    });\n\n                    if (pages.length > 0) {\n                        if (this.isCompatEnabled('INSTANCE_SET')) {\n                            this.$set(this.selectedShopPages, this.shopPageSalesChannelId!, pages);\n                        } else {\n                            this.selectedShopPages[this.shopPageSalesChannelId!] = pages;\n                        }\n                    } else if (this.isCompatEnabled('INSTANCE_SET')) {\n                        this.$set(this.selectedShopPages, this.shopPageSalesChannelId!, null);\n                    } else {\n                        this.selectedShopPages[this.shopPageSalesChannelId!] = null;\n                    }\n\n                    this.previousShopPages = cloneDeep(this.selectedShopPages);\n                })\n                .catch(() => {\n                    this.createNotificationError({\n                        message: this.$tc('sw-cms.components.cmsLayoutAssignmentModal.shopPagesLoadError'),\n                    });\n                })\n                .finally(() => {\n                    this.isLoading = false;\n                });\n        },\n\n        validateCategories() {\n            // Skip validation when user has confirmed changes\n            if (this.confirmedCategories) {\n                return Promise.resolve();\n            }\n\n            const currentCategoryIds = this.page.categories!.getIds();\n            const categoryDiff = difference(currentCategoryIds, this.previousCategoryIds);\n\n            if (\n                this.previousCategoryIds.length > currentCategoryIds.length ||\n                (this.previousCategoryIds.length === currentCategoryIds.length && categoryDiff.length)\n            ) {\n                this.hasDeletedCategories = true;\n                this.openConfirmChangesModal();\n                return Promise.reject();\n            }\n\n            // Search for categories which already have a different layout\n            const foundCategoriesWithAssignedLayouts = this.page.categories!.find((category) => {\n                return (\n                    category.hasOwnProperty('cmsPageId') &&\n                    category.cmsPageId !== null &&\n                    category.cmsPageId !== this.page.id\n                );\n            });\n\n            if (foundCategoriesWithAssignedLayouts) {\n                this.hasCategoriesWithAssignedLayouts = true;\n                this.openConfirmChangesModal();\n                return Promise.reject();\n            }\n\n            return Promise.resolve();\n        },\n\n        validateLandingPages() {\n            // Skip validation when user has confirmed changes\n            if (this.confirmedLandingPages) {\n                return Promise.resolve();\n            }\n\n            const currentLandingPageIds = this.page.landingPages!.getIds();\n            const landingPageDiff = difference(currentLandingPageIds, this.previousLandingPageIds);\n\n            if (\n                this.previousLandingPageIds.length > currentLandingPageIds.length ||\n                (this.previousLandingPageIds.length === currentLandingPageIds.length && landingPageDiff.length)\n            ) {\n                this.hasDeletedLandingPages = true;\n                this.openConfirmChangesModal();\n                return Promise.reject();\n            }\n\n            // Search for categories which already have a different layout\n            const foundLandingPagesWithAssignedLayouts = this.page.landingPages!.find((landingPage) => {\n                return (\n                    landingPage.hasOwnProperty('cmsPageId') &&\n                    landingPage.cmsPageId !== null &&\n                    landingPage.cmsPageId !== this.page.id\n                );\n            });\n\n            if (foundLandingPagesWithAssignedLayouts) {\n                this.hasLandingPagesWithAssignedLayouts = true;\n                this.openConfirmChangesModal();\n                return Promise.reject();\n            }\n\n            return Promise.resolve();\n        },\n\n        validateProducts() {\n            // Skip validation when user has confirmed changes\n            if (this.confirmedProducts) {\n                return Promise.resolve();\n            }\n\n            const currentProductIds = this.page.products!.getIds();\n            const productDiff = difference(currentProductIds, this.previousProductIds);\n\n            if (\n                this.previousProductIds.length > currentProductIds.length ||\n                (this.previousProductIds.length === currentProductIds.length && productDiff.length)\n            ) {\n                this.hasDeletedProducts = true;\n                this.openConfirmChangesModal();\n                return Promise.reject();\n            }\n\n            const foundProductsWithAssignedLayouts = this.page.products!.find((product) => {\n                return (\n                    product.hasOwnProperty('cmsPageId') && product.cmsPageId !== null && product.cmsPageId !== this.page.id\n                );\n            });\n\n            if (foundProductsWithAssignedLayouts) {\n                this.hasProductsWithAssignedLayouts = true;\n                this.openConfirmChangesModal();\n                return Promise.reject();\n            }\n\n            return Promise.resolve();\n        },\n\n        onConfirm() {\n            this.isLoading = true;\n\n            Promise.all([\n                this.validateCategories(),\n                this.saveShopPages(),\n                this.validateProducts(),\n                this.validateLandingPages(),\n            ])\n                .then(() => {\n                    this.onModalClose(true);\n                })\n                .catch(() => {\n                    this.isLoading = false;\n                });\n        },\n\n        openConfirmChangesModal() {\n            this.showConfirmChangesModal = true;\n        },\n\n        closeConfirmChangesModal() {\n            this.showConfirmChangesModal = false;\n        },\n\n        async onDiscardChanges() {\n            this.discardCategoryChanges();\n            this.discardShopPageChanges();\n            this.discardProductChanges();\n            this.discardLandingPageChanges();\n\n            this.closeConfirmChangesModal();\n\n            // Wait until \"confirm changes\" modal is closed\n            await this.$nextTick();\n\n            this.onModalClose();\n        },\n\n        discardCategoryChanges() {\n            this.page.categories = new EntityCollection(\n                this.page.categories!.source,\n                this.page.categories!.entity,\n                Cicada.Context.api,\n                null,\n                this.previousCategories ?? [],\n            );\n        },\n\n        discardLandingPageChanges() {\n            this.page.landingPages = new EntityCollection(\n                this.page.landingPages!.source,\n                this.page.landingPages!.entity,\n                Cicada.Context.api,\n                null,\n                this.previousLandingPages ?? [],\n            );\n        },\n\n        discardShopPageChanges() {\n            if (this.page.type !== 'page') {\n                return;\n            }\n\n            this.selectedShopPages = this.previousShopPages;\n        },\n\n        discardProductChanges() {\n            this.page.products = new EntityCollection(\n                this.page.products!.source,\n                this.page.products!.entity,\n                Cicada.Context.api,\n                null,\n                this.previousProducts,\n            );\n        },\n\n        onAbort() {\n            this.discardCategoryChanges();\n            this.discardShopPageChanges();\n            this.discardProductChanges();\n            this.discardLandingPageChanges();\n\n            this.onModalClose();\n        },\n\n        onKeepEditing() {\n            this.closeConfirmChangesModal();\n        },\n\n        async onConfirmChanges() {\n            this.closeConfirmChangesModal();\n\n            this.confirmedCategories = true;\n            this.confirmedLandingPages = true;\n            this.confirmedShopPages = true;\n            this.confirmedProducts = true;\n\n            // Wait until \"confirm changes\" modal is closed\n            await this.$nextTick();\n\n            this.onConfirm();\n        },\n\n        onInputSalesChannelSelect() {\n            void this.loadSystemConfig();\n        },\n\n        async onExtraCategories() {\n            this.isCategoriesLoading = true;\n            this.categoryIndex += 1;\n\n            const criteria = new Criteria(this.categoryIndex, 25);\n\n            criteria.addFilter(Criteria.equals('cmsPageId', this.page.id));\n\n            const result = await this.categoryRepository.search(criteria);\n\n            if (result?.length > 0) {\n                this.page.categories!.push(...result);\n            }\n\n            this.isCategoriesLoading = false;\n        },\n    },\n});\n"],"names":["template","cloneDeep","Criteria","index","productCriteria","saveAfterClose","shopPages","deletions","salesChannelId","_a","name","values","pages","key","item","currentCategoryIds","categoryDiff","difference","category","currentLandingPageIds","landingPageDiff","landingPage","currentProductIds","productDiff","product","EntityCollection","criteria","result"],"mappings":"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"}