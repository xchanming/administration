{"version":3,"file":"index-C-b6PwB1.js","sources":["../../../app/administration/src/app/component/app/sw-app-wrong-app-url-modal/sw-app-wrong-app-url-modal.html.twig","../../../app/administration/src/app/component/app/sw-app-wrong-app-url-modal/index.js"],"sourcesContent":["<sw-modal\n    v-if=\"display\"\n    class=\"sw-app-wrong-app-url-modal\"\n    variant=\"large\"\n    :title=\"$tc('sw-app.component.sw-app-wrong-app-url-modal.title')\"\n    @modal-close=\"closeModal\"\n>\n    <template #default>\n        <div class=\"sw-app-wrong-app-url-modal__content-description\">\n            <img\n                class=\"sw-app-wrong-app-url-modal__content-image\"\n                :src=\"assetFilter('administration/static/img/empty-states/extensions-empty-state.svg')\"\n                alt=\"\"\n            >\n            <h3>{{ $tc('sw-app.component.sw-app-wrong-app-url-modal.explanationHeader') }}</h3>\n            <div>\n                {{ $tc('sw-app.component.sw-app-wrong-app-url-modal.explanation') }}\n            </div>\n            <br>\n            <div>\n                {{ $tc('sw-app.component.sw-app-wrong-app-url-modal.textGetSupport') }}\n            </div>\n\n            <sw-button\n                class=\"sw-app-wrong-app-url-modal__content-link-button\"\n                variant=\"ghost\"\n                :link=\"$tc('sw-app.component.sw-app-wrong-app-url-modal.linkToDocsArticle')\"\n            >\n                {{ $tc('sw-app.component.sw-app-wrong-app-url-modal.labelLearnMoreButton') }}\n            </sw-button>\n\n            <div class=\"sw-app-wrong-app-url_modal__content-description-technical-details\">\n                {{ $tc('sw-app.component.sw-app-wrong-app-url-modal.textDetails') }}\n            </div>\n        </div>\n    </template>\n</sw-modal>\n","/**\n * @package admin\n */\n\nimport template from './sw-app-wrong-app-url-modal.html.twig';\nimport './sw-app-wrong-app-url-modal.scss';\n\nconst { mapState } = Cicada.Component.getComponentHelper();\nconst { Component } = Cicada;\n\nconst STORAGE_KEY_WAS_WRONG_APP_MODAL_SHOWN = 'sw-app-wrong-app-url-modal-shown';\n\n/**\n * @private\n */\nComponent.register('sw-app-wrong-app-url-modal', {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    emits: ['modal-close'],\n\n    mixins: [Cicada.Mixin.getByName('notification')],\n\n    data() {\n        return {\n            wasModalAlreadyShown: !!localStorage.getItem(STORAGE_KEY_WAS_WRONG_APP_MODAL_SHOWN),\n            notification: {\n                title: this.$tc('sw-app.component.sw-app-wrong-app-url-modal.title'),\n                message: `${this.$tc('sw-app.component.sw-app-wrong-app-url-modal.explanation')}<br>\n                     ${this.$tc('sw-app.component.sw-app-wrong-app-url-modal.textGetSupport')}`,\n                actions: [\n                    {\n                        label: this.$tc('sw-app.component.sw-app-wrong-app-url-modal.labelLearnMoreButton'),\n                        route: this.$tc('sw-app.component.sw-app-wrong-app-url-modal.linkToDocsArticle'),\n                    },\n                ],\n                uuid: STORAGE_KEY_WAS_WRONG_APP_MODAL_SHOWN,\n            },\n        };\n    },\n\n    computed: {\n        ...mapState('context', {\n            isAppUrlReachable: (state) => state.app.config.settings.appUrlReachable,\n            hasAppsThatRequireAppUrl: (state) => state.app.config.settings.appsRequireAppUrl,\n        }),\n\n        display() {\n            return !this.isAppUrlReachable && this.hasAppsThatRequireAppUrl && !this.wasModalAlreadyShown;\n        },\n\n        assetFilter() {\n            return Cicada.Filter.getByName('asset');\n        },\n    },\n\n    created() {\n        if (!this.display && !this.isAppUrlReachable) {\n            this.createAlertNotification();\n        }\n\n        if (this.isAppUrlReachable) {\n            localStorage.removeItem(STORAGE_KEY_WAS_WRONG_APP_MODAL_SHOWN);\n            this.removeAlertNotification();\n        }\n    },\n\n    methods: {\n        closeModal() {\n            localStorage.setItem(STORAGE_KEY_WAS_WRONG_APP_MODAL_SHOWN, 'true');\n            this.wasModalAlreadyShown = true;\n            this.createAlertNotification();\n\n            this.$emit('modal-close');\n        },\n\n        createAlertNotification() {\n            this.createSystemNotificationInfo(this.notification);\n        },\n\n        removeAlertNotification() {\n            Cicada.State.commit('notification/removeNotification', this.notification);\n        },\n    },\n});\n"],"names":["template","mapState","Component","STORAGE_KEY_WAS_WRONG_APP_MODAL_SHOWN","state"],"mappings":"AAAA,MAAeA,EAAA,8kCCOT,CAAE,SAAAC,CAAQ,EAAK,OAAO,UAAU,mBAAkB,EAClD,CAAE,UAAAC,CAAW,EAAG,OAEhBC,EAAwC,mCAK9CD,EAAU,SAAS,6BAA8B,CAC7C,SAAAF,EAEA,aAAc,OAAO,aAErB,MAAO,CAAC,aAAa,EAErB,OAAQ,CAAC,OAAO,MAAM,UAAU,cAAc,CAAC,EAE/C,MAAO,CACH,MAAO,CACH,qBAAsB,CAAC,CAAC,aAAa,QAAQG,CAAqC,EAClF,aAAc,CACV,MAAO,KAAK,IAAI,mDAAmD,EACnE,QAAS,GAAG,KAAK,IAAI,yDAAyD,CAAC;AAAA,uBACxE,KAAK,IAAI,4DAA4D,CAAC,GAC7E,QAAS,CACL,CACI,MAAO,KAAK,IAAI,kEAAkE,EAClF,MAAO,KAAK,IAAI,+DAA+D,CAClF,CACJ,EACD,KAAMA,CACT,CACb,CACK,EAED,SAAU,CACN,GAAGF,EAAS,UAAW,CACnB,kBAAoBG,GAAUA,EAAM,IAAI,OAAO,SAAS,gBACxD,yBAA2BA,GAAUA,EAAM,IAAI,OAAO,SAAS,iBAC3E,CAAS,EAED,SAAU,CACN,MAAO,CAAC,KAAK,mBAAqB,KAAK,0BAA4B,CAAC,KAAK,oBAC5E,EAED,aAAc,CACV,OAAO,OAAO,OAAO,UAAU,OAAO,CACzC,CACJ,EAED,SAAU,CACF,CAAC,KAAK,SAAW,CAAC,KAAK,mBACvB,KAAK,wBAAuB,EAG5B,KAAK,oBACL,aAAa,WAAWD,CAAqC,EAC7D,KAAK,wBAAuB,EAEnC,EAED,QAAS,CACL,YAAa,CACT,aAAa,QAAQA,EAAuC,MAAM,EAClE,KAAK,qBAAuB,GAC5B,KAAK,wBAAuB,EAE5B,KAAK,MAAM,aAAa,CAC3B,EAED,yBAA0B,CACtB,KAAK,6BAA6B,KAAK,YAAY,CACtD,EAED,yBAA0B,CACtB,OAAO,MAAM,OAAO,kCAAmC,KAAK,YAAY,CAC3E,CACJ,CACL,CAAC"}