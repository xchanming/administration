{"version":3,"file":"index-Bz7IZFsm.js","sources":["../../../app/administration/src/module/sw-cms/elements/product-listing/config/sw-cms-el-config-product-listing.html.twig","../../../app/administration/src/module/sw-cms/elements/product-listing/config/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_cms_element_product_listing_config %}\n<div class=\"sw-cms-el-config-product-listing\">\n\n    <sw-tabs\n        position-identifier=\"sw-cms-element-config-product-listing\"\n        default-item=\"content\"\n    >\n        <template #default=\"{ active }\">\n            <sw-tabs-item\n                class=\"sw-cms-el-config-product-listing__tab-content\"\n                name=\"content\"\n                :active-tab=\"active\"\n            >\n                {{ $tc('sw-cms.elements.general.config.tab.content') }}\n            </sw-tabs-item>\n\n            <sw-tabs-item\n                class=\"sw-cms-el-config-product-listing__tab-sorting\"\n                name=\"sorting\"\n                :active-tab=\"active\"\n            >\n                {{ $tc('sw-cms.elements.productListing.config.tab.sorting') }}\n            </sw-tabs-item>\n\n            <sw-tabs-item\n                class=\"sw-cms-el-config-product-listing__tab-filter\"\n                name=\"filter\"\n                :active-tab=\"active\"\n            >\n                {{ $tc('sw-cms.elements.productListing.config.tab.filter') }}\n            </sw-tabs-item>\n        </template>\n\n        <template\n            #content=\"{ active }\"\n        >\n            <template v-if=\"active === 'content'\">\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_element_product_listing_config_layout_select %}\n                <sw-select-field\n                    v-model:value=\"element.config.boxLayout.value\"\n                    :label=\"$tc('sw-cms.elements.productBox.config.label.layoutType')\"\n                >\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_cms_element_product_listing_config_layout_select_options %}\n                    <option value=\"standard\">\n                        {{ $tc('sw-cms.elements.productBox.config.label.layoutTypeStandard') }}\n                    </option>\n                    <option value=\"image\">\n                        {{ $tc('sw-cms.elements.productBox.config.label.layoutTypeImage') }}\n                    </option>\n                    <option value=\"minimal\">\n                        {{ $tc('sw-cms.elements.productBox.config.label.layoutTypeMinimal') }}\n                    </option>\n                    {% endblock %}\n                </sw-select-field>\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_element_product_listing_config_info %}\n                <sw-alert variant=\"info\">\n                    {{ $tc('sw-cms.elements.general.config.infoText.listingElement') }}\n                </sw-alert>\n                {% endblock %}\n            </template>\n\n            <template v-if=\"active === 'sorting'\">\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_element_product_listing_config_show_sorting %}\n                <sw-switch-field\n                    v-model:value=\"element.config.showSorting.value\"\n                    :label=\"$tc('sw-cms.elements.productListing.config.sorting.labelShowSorting')\"\n                />\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_element_product_listing_config_use_default_sorting %}\n                <sw-switch-field\n                    v-model:value=\"element.config.useCustomSorting.value\"\n                    :label=\"$tc('sw-cms.elements.productListing.config.sorting.labelUseCustomSortings')\"\n                    :help-text=\"$tc('sw-cms.elements.productListing.config.sorting.helpTextUseCustomSortings')\"\n                    class=\"sw-cms-el-config-product-listing-custom-sortings\"\n                />\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_element_product_listing_config_default_sorting %}\n                <sw-entity-single-select\n                    v-if=\"showSortingGrid\"\n                    class=\"sw-cms-element-config-product-listing__sorting-default-select\"\n                    entity=\"product_sorting\"\n                    label-property=\"label\"\n                    show-clearable-button\n                    :value=\"defaultSorting.id\"\n                    :label=\"$tc('sw-cms.elements.productListing.config.sorting.labelDefaultSorting')\"\n                    :help-text=\"$tc('sw-cms.elements.productListing.config.sorting.helpTextDefaultSorting')\"\n                    :criteria=\"allProductSortingsCriteria\"\n                    :placeholder=\"$tc('sw-cms.elements.productListing.config.sorting.placeholderDefaultProductSorting')\"\n                    @option-select=\"onDefaultSortingChange\"\n                />\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_element_product_listing_config_available_sortings %}\n                <sw-entity-multi-select\n                    v-if=\"showSortingGrid\"\n                    v-model:entityCollection=\"productSortings\"\n                    class=\"sw-cms-el-config-product-listing-config-sorting-grid__select\"\n                    :label=\"$tc('sw-cms.elements.productListing.config.sorting.labelProductSortings')\"\n                    label-property=\"label\"\n                    :criteria=\"allProductSortingsCriteria\"\n                    :hide-labels=\"true\"\n                    :placeholder=\"$tc('sw-cms.elements.productListing.config.sorting.placeHolderProductSortings')\"\n                >\n                    <template #result-item=\"{ item, index, labelProperty, valueProperty, searchTerm, highlightSearchTerm, isSelected, addItem, getKey }\">\n                        <slot\n                            name=\"result-item\"\n                            v-bind=\"{ item, index, labelProperty, valueProperty: 'id', searchTerm, highlightSearchTerm, isSelected, addItem, getKey }\"\n                        >\n                            <sw-select-result\n                                v-tooltip=\"{\n                                    showDelay: 300,\n                                    message: $tc('sw-cms.elements.productListing.config.sorting.defaultSortingInUse'),\n                                    disabled: !isDefaultSorting(item)\n                                }\"\n                                :selected=\"isSelected(item)\"\n                                :disabled=\"isDefaultSorting(item)\"\n                                v-bind=\"{ item, index }\"\n                                @item-select=\"addItem\"\n                            >\n                                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                                {% block sw_entity_multi_select_base_results_list_result_label %}\n                                <slot\n                                    name=\"result-label-property\"\n                                    v-bind=\"{ item, index, labelProperty, valueProperty: 'id', searchTerm, highlightSearchTerm, getKey }\"\n                                >\n                                    <sw-highlight-text\n                                        v-if=\"highlightSearchTerm\"\n                                        :text=\"getKey(item,labelProperty) || getKey(item, `translated.${labelProperty}`)\"\n                                        :search-term=\"searchTerm\"\n                                    />\n                                    <template v-else>\n                                        {{ getKey(item,labelProperty) || getKey(item, `translated.${labelProperty}`) }}\n                                    </template>\n                                </slot>\n                                {% endblock %}\n                            </sw-select-result>\n                        </slot>\n                    </template>\n                </sw-entity-multi-select>\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_element_product_listing_config_sorting_grid %}\n                <sw-cms-el-config-product-listing-config-sorting-grid\n                    v-if=\"showSortingGrid\"\n                    :product-sortings=\"productSortings\"\n                    :default-sorting=\"defaultSorting\"\n                />\n                {% endblock %}\n            </template>\n\n            <template v-if=\"active === 'filter'\">\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_element_product_listing_config_filter_info %}\n                <sw-alert variant=\"info\">\n                    {{ $tc('sw-cms.elements.productListing.config.filter.infoText') }}\n                </sw-alert>\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_element_product_listing_config_filter_by_wrapper %}\n                <sw-container\n                    columns=\"1fr 1fr\"\n                    gap=\"0px 30px\"\n                >\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_cms_element_product_listing_config_filter_by_manufacturer %}\n                    <sw-switch-field\n                        v-model:value=\"filterByManufacturer\"\n                        :label=\"$tc('sw-cms.elements.productListing.config.filter.labelFilterByManufacturer')\"\n                    />\n                    {% endblock %}\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_cms_element_product_listing_config_filter_by_rating %}\n                    <sw-switch-field\n                        v-model:value=\"filterByRating\"\n                        :label=\"$tc('sw-cms.elements.productListing.config.filter.labelFilterByRating')\"\n                    />\n                    {% endblock %}\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_cms_element_product_listing_config_filter_by_price %}\n                    <sw-switch-field\n                        v-model:value=\"filterByPrice\"\n                        :label=\"$tc('sw-cms.elements.productListing.config.filter.labelFilterByPrice')\"\n                    />\n                    {% endblock %}\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_cms_element_product_listing_config_filter_for_free_shipping %}\n                    <sw-switch-field\n                        v-model:value=\"filterByFreeShipping\"\n                        :label=\"$tc('sw-cms.elements.productListing.config.filter.labelFilterForFreeShipping')\"\n                    />\n                    {% endblock %}\n                </sw-container>\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_element_product_listing_config_filter_properties_wrapper %}\n                <div>\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_cms_element_product_listing_config_filter_spacer %}\n                    <hr class=\"spacer\">\n                    {% endblock %}\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_cms_element_product_listing_config_filter_properties_as_filter %}\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_cms_element_product_listing_config_filter_properties_as_filter_switch %}\n                    <sw-switch-field\n                        v-model:value=\"filterByProperties\"\n                        :label=\"$tc('sw-cms.elements.productListing.config.filter.labelUseFilterByProperties')\"\n                        :help-text=\"$tc('sw-cms.elements.productListing.config.filter.helpTextUseFilterByProperties')\"\n                    />\n                    {% endblock %}\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_cms_element_product_listing_config_filter_properties_as_filter_info_text %}\n                    <div\n                        class=\"sw-cms-el-config-product-listing-filter_properties_as_filter__description-text\"\n                        v-html=\"$tc('sw-cms.elements.productListing.config.filter.descriptionTextUseFilterByProperties')\"\n                    ></div>\n                    {% endblock %}\n                    {% endblock %}\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_cms_element_product_listing_config_filter_property_search %}\n                    <sw-simple-search-field\n                        v-model:value=\"filterPropertiesTerm\"\n                        class=\"sw-cms-element-product-listing-config-filter-property-search\"\n                        variant=\"form\"\n                        :disabled=\"showFilterGrid\"\n                        @search-term-change=\"onFilterProperties\"\n                    />\n                    {% endblock %}\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_cms_element_product_listing_config_filter_property_grid %}\n                    <div\n                        v-if=\"showPropertySelection\"\n                        class=\"sw-cms-el-config-product-listing-property-grid\"\n                        :class=\"gridClasses\"\n                    >\n                        <sw-data-grid\n                            :data-source=\"properties\"\n                            :columns=\"gridColumns\"\n                            :compact-mode=\"true\"\n                            :allow-inline-edit=\"false\"\n                            :show-actions=\"false\"\n                            :show-selection=\"false\"\n                            plain-appearance\n                        >\n\n                            <template #column-status=\"{ item, column }\">\n                                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                                {% block sw_cms_element_product_listing_config_filter_property_grid_column_status %}\n                                <sw-switch-field\n                                    :disabled=\"column.disabled\"\n                                    :value=\"item.active\"\n                                    @update:value=\"propertyStatusChanged($event, item.id)\"\n                                />\n                            {% endblock %}\n                            </template>\n\n                            <template #pagination>\n                                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                                {% block sw_cms_element_product_listing_config_filter_property_grid_pagination %}\n                                <sw-pagination\n                                    v-if=\"!disabled\"\n                                    :page=\"propertiesPage\"\n                                    :limit=\"propertiesLimit\"\n                                    :total=\"propertiesTotal\"\n                                    :auto-hide=\"false\"\n                                    :steps=\"[]\"\n                                    @page-change=\"onPropertiesPageChange\"\n                                />\n                            {% endblock %}\n                            </template>\n                        </sw-data-grid>\n                    </div>\n                    {% endblock %}\n\n                    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                    {% block sw_cms_element_product_listing_config_filter_empty_state %}\n                    <sw-empty-state\n                        v-else\n                        :absolute=\"false\"\n                        :title=\"$tc('sw-cms.elements.productListing.config.filter.gridEmptyStateLabel')\"\n                        :subline=\"$tc('sw-cms.elements.productListing.config.filter.gridEmptyStateHint')\"\n                    >\n                        <template #icon>\n                            <img\n                                :src=\"assetFilter('/administration/static/img/empty-states/products-empty-state.svg')\"\n                                alt=\"$tc('sw-cms.elements.productListing.config.filter.gridEmptyStateLabel')\"\n                            >\n                        </template>\n                    </sw-empty-state>\n                    {% endblock %}\n                </div>\n                {% endblock %}\n            </template>\n        </template>\n    </sw-tabs>\n</div>\n{% endblock %}\n","import template from './sw-cms-el-config-product-listing.html.twig';\nimport './sw-cms-el-config-product-listing.scss';\n\nconst { Mixin } = Cicada;\nconst { Criteria, EntityCollection } = Cicada.Data;\n\n/**\n * @private\n * @package discovery\n */\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: [\n        'repositoryFactory',\n        'feature',\n    ],\n\n    mixins: [\n        Mixin.getByName('cms-element'),\n    ],\n\n    data() {\n        return {\n            productSortings: [], // only for presentational usage\n            defaultSorting: {},\n            filters: [],\n            filterPropertiesTerm: '',\n            properties: [],\n            propertiesPage: 1,\n            propertiesLimit: 6,\n            propertiesTotal: 0,\n        };\n    },\n\n    computed: {\n        showSortingGrid() {\n            return this.element.config.useCustomSorting.value;\n        },\n\n        showFilterGrid() {\n            return !this.filterByProperties;\n        },\n\n        productSortingRepository() {\n            return this.repositoryFactory.create('product_sorting');\n        },\n\n        propertyRepository() {\n            return this.repositoryFactory.create('property_group');\n        },\n\n        productSortingsCriteria() {\n            const criteria = new Criteria(1, 25);\n\n            criteria.addFilter(\n                Criteria.equalsAny('id', [\n                    ...Object.keys(this.productSortingsConfigValue),\n                ]),\n            );\n            criteria.addSorting(Criteria.sort('priority', 'desc'));\n\n            return criteria;\n        },\n\n        propertyCriteria() {\n            const criteria = new Criteria(this.propertiesPage, this.propertiesLimit);\n\n            criteria.setTerm(this.filterPropertiesTerm);\n\n            criteria.addSorting(Criteria.sort('name', 'ASC', false));\n            criteria.addFilter(Criteria.equals('filterable', true));\n\n            return criteria;\n        },\n\n        allProductSortingsCriteria() {\n            const criteria = new Criteria(1, 25);\n\n            criteria.addFilter(Criteria.equals('locked', false));\n\n            return criteria;\n        },\n\n        excludedDefaultSortingCriteria() {\n            const criteria = new Criteria(1, 25);\n\n            if (this.defaultSorting.id) {\n                criteria.addFilter(\n                    Criteria.not('AND', [\n                        Criteria.equals('id', this.defaultSorting.id),\n                    ]),\n                );\n            }\n\n            criteria.addFilter(Criteria.equals('locked', false));\n\n            return criteria;\n        },\n\n        productSortingsConfigValue() {\n            return this.element.config.availableSortings.value;\n        },\n\n        filterByManufacturer: {\n            get() {\n                return this.isActiveFilter('manufacturer-filter');\n            },\n            set(value) {\n                this.updateFilters('manufacturer-filter', value);\n            },\n        },\n\n        filterByRating: {\n            get() {\n                return this.isActiveFilter('rating-filter');\n            },\n            set(value) {\n                this.updateFilters('rating-filter', value);\n            },\n        },\n\n        filterByPrice: {\n            get() {\n                return this.isActiveFilter('price-filter');\n            },\n            set(value) {\n                this.updateFilters('price-filter', value);\n            },\n        },\n\n        filterByFreeShipping: {\n            get() {\n                return this.isActiveFilter('shipping-free-filter');\n            },\n            set(value) {\n                this.updateFilters('shipping-free-filter', value);\n            },\n        },\n\n        filterByProperties: {\n            get() {\n                return !this.isActiveFilter('property-filter');\n            },\n            set(value) {\n                this.updateFilters('property-filter', !value);\n                this.sortProperties(this.properties);\n            },\n        },\n\n        showPropertySelection() {\n            return !this.properties.length < 1;\n        },\n\n        gridColumns() {\n            return [\n                {\n                    property: 'status',\n                    label: 'sw-cms.elements.productListing.config.filter.gridHeaderStatus',\n                    disabled: this.showFilterGrid,\n                    width: '70px',\n                },\n                {\n                    property: 'name',\n                    label: 'sw-cms.elements.productListing.config.filter.gridHeaderName',\n                },\n            ];\n        },\n\n        gridClasses() {\n            return {\n                'is--disabled': this.showFilterGrid,\n            };\n        },\n\n        assetFilter() {\n            return Cicada.Filter.getByName('asset');\n        },\n    },\n\n    watch: {\n        productSortings: {\n            handler() {\n                this.element.config.availableSortings.value = this.transformProductSortings();\n            },\n            deep: true,\n        },\n\n        defaultSorting() {\n            if (Object.keys(this.defaultSorting).length === 0) {\n                this.element.config.defaultSorting.value = '';\n            } else {\n                this.element.config.defaultSorting.value = this.defaultSorting.id;\n            }\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.initElementConfig('product-listing');\n\n            if (Object.keys(this.productSortingsConfigValue).length === 0) {\n                this.productSortings = new EntityCollection(\n                    this.productSortingRepository.route,\n                    this.productSortingRepository.schema.entity,\n                    Cicada.Context.api,\n                    this.productSortingsCriteria,\n                );\n            } else {\n                this.fetchProductSortings().then((productSortings) => {\n                    this.productSortings = productSortings;\n                });\n            }\n\n            this.initDefaultSorting();\n            this.unpackFilters();\n            this.loadFilterableProperties();\n        },\n\n        fetchProductSortings() {\n            return this.productSortingRepository\n                .search(this.productSortingsCriteria)\n                .then((productSortings) => this.updateValuesFromConfig(productSortings));\n        },\n\n        updateValuesFromConfig(productSortings) {\n            Object.entries(this.productSortingsConfigValue).forEach(\n                ([\n                    id,\n                    value,\n                ]) => {\n                    const matchingProductSorting = productSortings.find((productSorting) => productSorting.id === id);\n\n                    if (!matchingProductSorting) {\n                        return;\n                    }\n\n                    matchingProductSorting.priority = value;\n                },\n            );\n\n            return productSortings;\n        },\n\n        /**\n         * This functions transforms the product sorting entities to an format that the server accepts\n         * e.g. 'Product sorting entity' => [{ 'test-sorting': 10 }]\n         */\n        transformProductSortings() {\n            if (this.productSortings.length === 0) {\n                return [];\n            }\n\n            const object = {};\n\n            this.productSortings.forEach((currentProductSorting) => {\n                object[currentProductSorting.id] = currentProductSorting.priority;\n            });\n\n            return object;\n        },\n\n        initDefaultSorting() {\n            const defaultSortingId = this.element.config.defaultSorting.value;\n            if (defaultSortingId !== '') {\n                const criteria = new Criteria(1, 25);\n\n                criteria.addFilter(Criteria.equals('id', defaultSortingId));\n\n                this.productSortingRepository.search(criteria).then((response) => {\n                    this.defaultSorting = response.first() || {};\n                });\n            }\n        },\n\n        loadFilterableProperties() {\n            return this.propertyRepository.search(this.propertyCriteria).then((properties) => {\n                this.propertiesTotal = properties.total;\n\n                this.properties = this.sortProperties(properties);\n            });\n        },\n\n        sortProperties(properties) {\n            properties.forEach((property) => {\n                if (!this.filterByProperties) {\n                    property.active = true;\n\n                    return;\n                }\n\n                // eslint-disable-next-line inclusive-language/use-inclusive-words\n                property.active = this.element.config.propertyWhitelist.value.includes(property.id);\n            });\n\n            properties.sort((a, b) => {\n                if (a.active === b.active || !a.active === !b.active) {\n                    return 0;\n                }\n\n                if (a.active) {\n                    return -1;\n                }\n\n                return 1;\n            });\n\n            return properties;\n        },\n\n        onDefaultSortingChange(entity, defaultSorting) {\n            if (!defaultSorting) {\n                this.defaultSorting = {};\n                return;\n            }\n\n            // add the default sorting to available sortings, so it won't break logic\n            if (!this.productSortings.has(defaultSorting.id)) {\n                this.productSortings.add(defaultSorting);\n            }\n\n            this.defaultSorting = defaultSorting;\n        },\n\n        isDefaultSorting(productSorting) {\n            return this.defaultSorting.id === productSorting.id;\n        },\n\n        isActiveFilter(item) {\n            return this.filters.includes(item);\n        },\n\n        updateFilters(item, active) {\n            if (active) {\n                this.filters = [\n                    ...this.filters,\n                    item,\n                ];\n            } else {\n                this.filters = this.filters.reduce((acc, current) => {\n                    if (current === item) {\n                        return acc;\n                    }\n\n                    return [\n                        ...acc,\n                        current,\n                    ];\n                }, []);\n            }\n\n            this.element.config.filters.value = this.filters.join();\n        },\n\n        unpackFilters() {\n            if (this.element.config.filters === undefined) {\n                return;\n            }\n\n            const filters = this.element.config.filters.value;\n\n            if (filters === null || filters === '') {\n                return;\n            }\n\n            this.filters = filters.split(',');\n        },\n\n        onFilterProperties() {\n            this.propertiesPage = 1;\n\n            return this.loadFilterableProperties();\n        },\n\n        onPropertiesPageChange({ limit, page }) {\n            this.propertiesLimit = limit;\n            this.propertiesPage = page;\n\n            return this.loadFilterableProperties();\n        },\n\n        propertyStatusChanged(enable, id) {\n            // eslint-disable-next-line inclusive-language/use-inclusive-words\n            const allowlist = this.element.config.propertyWhitelist.value;\n\n            if (enable) {\n                // eslint-disable-next-line inclusive-language/use-inclusive-words\n                this.element.config.propertyWhitelist.value = [\n                    ...allowlist,\n                    id,\n                ];\n\n                return;\n            }\n\n            // eslint-disable-next-line inclusive-language/use-inclusive-words\n            this.element.config.propertyWhitelist.value = allowlist.reduce((acc, current) => {\n                if (current === id) {\n                    return acc;\n                }\n\n                return [\n                    ...acc,\n                    current,\n                ];\n            }, []);\n        },\n    },\n};\n"],"names":["template","Mixin","Criteria","EntityCollection","index","criteria","value","productSortings","id","matchingProductSorting","productSorting","object","currentProductSorting","defaultSortingId","response","properties","property","a","b","entity","defaultSorting","item","active","acc","current","filters","limit","page","enable","allowlist"],"mappings":"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"}