{"version":3,"file":"index-CN72y5dD.js","sources":["../../../app/administration/src/app/component/rule/condition-type/sw-condition-billing-zip-code/sw-condition-billing-zip-code.html.twig","../../../app/administration/src/app/component/rule/condition-type/sw-condition-billing-zip-code/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_condition_value_content %}\n<div class=\"sw-condition-billing-zip-code sw-condition__condition-value\">\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_condition_billing_zip_code_field_numeric %}\n    <sw-single-select\n        v-model:value=\"isNumeric\"\n        name=\"sw-field--isNumeric\"\n        :disabled=\"disabled || undefined\"\n        class=\"sw-condition-zipcode-type-select\"\n        size=\"medium\"\n        :options=\"numericOptions\"\n        required\n        @update:value=\"onChangeNumeric\"\n    />\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_condition_billing_zip_code_field_operator %}\n    <sw-condition-operator-select\n        v-bind=\"{ condition, operators }\"\n        :disabled=\"disabled || undefined\"\n    />\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_condition_billing_zip_code_field_zip_codes %}\n    <sw-tagged-field\n        v-if=\"!isNumeric && !isEmpty\"\n        v-model:value=\"zipCodes\"\n        name=\"sw-field--zipCodes\"\n        size=\"medium\"\n        :placeholder=\"taggedFieldPlaceholder\"\n        :disabled=\"disabled || undefined\"\n    />\n    <sw-number-field\n        v-if=\"isNumeric && !isEmpty\"\n        v-model:value=\"zipCodes\"\n        name=\"sw-field--zipCodes\"\n        size=\"medium\"\n        :disabled=\"disabled || undefined\"\n        :min=\"0\"\n        :digits=\"20\"\n    />\n    {% endblock %}\n</div>\n{% endblock %}\n","import template from './sw-condition-billing-zip-code.html.twig';\nimport './sw-condition-billing-zip-code.scss';\n\nconst { Component } = Cicada;\nconst { mapPropertyErrors } = Component.getComponentHelper();\n\n/**\n * @public\n * @package services-settings\n * @description Condition for the BillingZipCodeRule. This component must a be child of sw-condition-tree.\n * @status prototype\n * @example-type code-only\n * @component-example\n * <sw-condition-billing-zip-code :condition=\"condition\" :level=\"0\"></sw-condition-billing-zip-code>\n */\nComponent.extend('sw-condition-billing-zip-code', 'sw-condition-base', {\n    template,\n\n    data() {\n        return {\n            inputKey: 'zipCodes',\n            isNumeric: false,\n        };\n    },\n\n    computed: {\n        operators() {\n            if (!this.isNumeric) {\n                return this.conditionDataProviderService.addEmptyOperatorToOperatorSet(\n                    this.conditionDataProviderService.getOperatorSet('multiStore'),\n                );\n            }\n\n            return this.conditionDataProviderService.getOperatorSet('zipCode');\n        },\n\n        zipCodes: {\n            get() {\n                this.ensureValueExist();\n\n                if (!this.condition.value.zipCodes) {\n                    return !this.isNumeric ? [] : null;\n                }\n\n                return !this.isNumeric ? this.condition.value.zipCodes : Number(this.condition.value.zipCodes[0]);\n            },\n            set(zipCodes) {\n                this.ensureValueExist();\n\n                if (!Array.isArray(zipCodes)) {\n                    zipCodes = [zipCodes.toString()];\n                }\n\n                this.condition.value = { ...this.condition.value, zipCodes };\n            },\n        },\n\n        taggedFieldPlaceholder() {\n            const defaultPlaceholder = this.$tc('global.sw-tagged-field.text-default-placeholder');\n\n            return `${defaultPlaceholder} ${this.$tc('global.sw-condition.condition.zipCodeWildcardPlaceholder')}`;\n        },\n\n        ...mapPropertyErrors('condition', [\n            'value.operator',\n            'value.zipCodes',\n        ]),\n\n        currentError() {\n            return this.conditionValueOperatorError || this.conditionValueZipCodesError;\n        },\n\n        numericOptions() {\n            return [\n                {\n                    value: false,\n                    label: this.$tc('sw-property.detail.alphanumericSortingType'),\n                },\n                {\n                    value: true,\n                    label: this.$tc('sw-property.detail.numericSortingType'),\n                },\n            ];\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.ensureValueExist();\n\n            if (this.condition.value.operator !== undefined) {\n                this.isNumeric = ![\n                    '=',\n                    '!=',\n                    'empty',\n                ].includes(this.condition.value.operator);\n            }\n        },\n        onChangeNumeric(value) {\n            this.ensureValueExist();\n\n            if (value === null) {\n                this.isNumeric = false;\n            }\n\n            this.condition.value.operator = undefined;\n        },\n    },\n});\n"],"names":["template","Component","mapPropertyErrors","zipCodes","value"],"mappings":"AAAA,MAAeA,EAAA,ihCCGT,CAAE,UAAAC,CAAW,EAAG,OAChB,CAAE,kBAAAC,CAAmB,EAAGD,EAAU,qBAWxCA,EAAU,OAAO,gCAAiC,oBAAqB,CACnE,SAAAD,EAEA,MAAO,CACH,MAAO,CACH,SAAU,WACV,UAAW,EACvB,CACK,EAED,SAAU,CACN,WAAY,CACR,OAAK,KAAK,UAMH,KAAK,6BAA6B,eAAe,SAAS,EALtD,KAAK,6BAA6B,8BACrC,KAAK,6BAA6B,eAAe,YAAY,CACjF,CAIS,EAED,SAAU,CACN,KAAM,CAGF,OAFA,KAAK,iBAAgB,EAEhB,KAAK,UAAU,MAAM,SAIlB,KAAK,UAA4C,OAAO,KAAK,UAAU,MAAM,SAAS,CAAC,CAAC,EAAvE,KAAK,UAAU,MAAM,SAHlC,KAAK,UAAiB,KAAL,CAAA,CAIhC,EACD,IAAIG,EAAU,CACV,KAAK,iBAAgB,EAEhB,MAAM,QAAQA,CAAQ,IACvBA,EAAW,CAACA,EAAS,SAAQ,CAAE,GAGnC,KAAK,UAAU,MAAQ,CAAE,GAAG,KAAK,UAAU,MAAO,SAAAA,EACrD,CACJ,EAED,wBAAyB,CAGrB,MAAO,GAFoB,KAAK,IAAI,iDAAiD,CAEzD,IAAI,KAAK,IAAI,0DAA0D,CAAC,EACvG,EAED,GAAGD,EAAkB,YAAa,CAC9B,iBACA,gBACZ,CAAS,EAED,cAAe,CACX,OAAO,KAAK,6BAA+B,KAAK,2BACnD,EAED,gBAAiB,CACb,MAAO,CACH,CACI,MAAO,GACP,MAAO,KAAK,IAAI,4CAA4C,CAC/D,EACD,CACI,MAAO,GACP,MAAO,KAAK,IAAI,uCAAuC,CAC1D,CACjB,CACS,CACJ,EAED,SAAU,CACN,KAAK,iBAAgB,CACxB,EAED,QAAS,CACL,kBAAmB,CACf,KAAK,iBAAgB,EAEjB,KAAK,UAAU,MAAM,WAAa,SAClC,KAAK,UAAY,CAAC,CACd,IACA,KACA,OACH,EAAC,SAAS,KAAK,UAAU,MAAM,QAAQ,EAE/C,EACD,gBAAgBE,EAAO,CACnB,KAAK,iBAAgB,EAEjBA,IAAU,OACV,KAAK,UAAY,IAGrB,KAAK,UAAU,MAAM,SAAW,MACnC,CACJ,CACL,CAAC"}