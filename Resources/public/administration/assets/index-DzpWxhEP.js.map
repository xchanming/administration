{"version":3,"file":"index-DzpWxhEP.js","sources":["../../../app/administration/src/app/component/base/sw-tabs-item/sw-tabs-item.html.twig","../../../app/administration/src/app/component/base/sw-tabs-item/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_side_navigation_item %}\n<!-- eslint-disable-next-line vuejs-accessibility/click-events-have-key-events, vuejs-accessibility/no-static-element-interactions -->\n<a\n    v-if=\"isNative\"\n    class=\"sw-tabs-item\"\n    :class=\"tabsItemClasses\"\n    v-bind=\"$attrs\"\n    role=\"tab\"\n    tabindex=\"0\"\n    @click=\"clickEvent\"\n>\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_tabs_item_slot %}\n    <slot></slot>\n    {% endblock %}\n\n    <sw-icon\n        v-if=\"hasError\"\n        v-tooltip=\"{ message: errorTooltip }\"\n        class=\"sw-tabs-item__error-badge\"\n        name=\"solid-exclamation-circle\"\n        size=\"12px\"\n    />\n\n    <sw-icon\n        v-if=\"!hasError && hasWarning\"\n        v-tooltip=\"{ message: warningTooltip }\"\n        class=\"sw-tabs-item__warning-badge\"\n        name=\"solid-exclamation-triangle\"\n        size=\"12px\"\n    />\n</a>\n\n<router-link\n    v-else\n    ref=\"sw-tabs-item\"\n    :class=\"tabsItemClasses\"\n    v-bind=\"$attrs\"\n    class=\"sw-tabs-item\"\n    :to=\"route\"\n    role=\"tab\"\n    tabindex=\"0\"\n    @click=\"clickEvent\"\n>\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_tabs_item_slot_native %}\n    <slot></slot>\n    <sw-icon\n        v-if=\"hasError\"\n        v-tooltip=\"{ message: errorTooltip }\"\n        class=\"sw-tabs-item__error-badge\"\n        name=\"solid-exclamation-circle\"\n        size=\"12px\"\n    />\n    <sw-icon\n        v-if=\"!hasError && hasWarning\"\n        v-tooltip=\"{ message: warningTooltip }\"\n        class=\"sw-tabs-item__warning-badge\"\n        name=\"solid-exclamation-triangle\"\n        size=\"12px\"\n    />\n    {% endblock %}\n</router-link>\n{% endblock %}\n","/**\n * @package admin\n */\nimport template from './sw-tabs-item.html.twig';\nimport './sw-tabs-item.scss';\n\nconst { Component } = Cicada;\nconst types = Cicada.Utils.types;\n\n/**\n * @private\n * @description Renders a tab item.\n * @status ready\n * @example-type static\n * @component-example\n * <sw-tabs>\n *\n *     <sw-tabs-item :route=\"{ name: 'sw.explore.index' }\">\n *         Explore\n *     </sw-tabs-item>\n *\n *     <sw-tabs-item to=\"A link\">\n *         My Plugins\n *     </sw-tabs-item>\n *\n * </sw-tabs>\n */\nComponent.register('sw-tabs-item', {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inheritAttrs: false,\n\n    inject: {\n        feature: {\n            from: 'feature',\n            default: null,\n        },\n        onNewItemActive: {\n            from: 'onNewItemActive',\n            default: null,\n        },\n        registerNewTabItem: {\n            from: 'registerNewTabItem',\n            default: null,\n        },\n        unregisterNewTabItem: {\n            from: 'unregisterNewTabItem',\n            default: null,\n        },\n        swTabsSetActiveItem: {\n            from: 'swTabsSetActiveItem',\n            default: null,\n        },\n    },\n\n    emits: ['click'],\n\n    props: {\n        route: {\n            type: [\n                String,\n                Object,\n            ],\n            required: false,\n            default: '',\n        },\n        active: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n        activeTab: {\n            type: String,\n            required: false,\n            default: '',\n        },\n        name: {\n            type: String,\n            required: false,\n            default: '',\n        },\n        hasError: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n        hasWarning: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n        disabled: {\n            type: Boolean,\n            required: false,\n            default: false,\n        },\n        errorTooltip: {\n            type: String,\n            required: false,\n            default() {\n                return Cicada.Snippet.tc('global.sw-tabs-item.tooltipTabHasErrors');\n            },\n        },\n        warningTooltip: {\n            type: String,\n            required: false,\n            default() {\n                return Cicada.Snippet.tc('global.sw-tabs-item.tooltipTabHasWarnings');\n            },\n        },\n    },\n\n    data() {\n        return {\n            isActive: false,\n        };\n    },\n\n    computed: {\n        isNative() {\n            return types.isEmpty(this.route);\n        },\n\n        tabsItemClasses() {\n            return {\n                'sw-tabs-item--active': this.isActive,\n                'sw-tabs-item--has-error': this.hasError,\n                'sw-tabs-item--has-warning': !this.hasError && this.hasWarning,\n                'sw-tabs-item--is-disabled': this.disabled,\n            };\n        },\n    },\n\n    watch: {\n        $route() {\n            this.checkIfRouteMatchesLink();\n        },\n    },\n\n    mounted() {\n        this.mountedComponent();\n    },\n\n    beforeUpdate() {\n        this.beforeUpdateComponent();\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    beforeUnmount() {\n        if (this.isCompatEnabled('INSTANCE_CHILDREN')) {\n            this.$parent.$off('new-item-active', this.checkIfActive);\n        } else {\n            this.unregisterNewTabItem?.(this);\n        }\n    },\n\n    methods: {\n        createdComponent() {\n            if (this.isCompatEnabled('INSTANCE_CHILDREN')) {\n                this.$parent.$on('new-item-active', this.checkIfActive);\n            } else {\n                this.onNewItemActive?.(this.checkIfActive);\n                this.registerNewTabItem?.(this);\n            }\n\n            if (this.active) {\n                this.isActive = true;\n            }\n        },\n\n        beforeUpdateComponent() {\n            this.updateActiveState();\n        },\n\n        mountedComponent() {\n            this.updateActiveState();\n        },\n        updateActiveState() {\n            this.checkIfRouteMatchesLink();\n            if (this.activeTab && this.activeTab === this.name) {\n                this.isActive = true;\n            }\n        },\n\n        clickEvent() {\n            if (this.disabled) {\n                return;\n            }\n\n            if (this.isCompatEnabled('INSTANCE_CHILDREN')) {\n                this.$parent.setActiveItem(this);\n            } else {\n                this.swTabsSetActiveItem(this);\n            }\n            this.$emit('click');\n        },\n        checkIfActive(item) {\n            this.isActive = item.$vnode === this.$vnode;\n        },\n        checkIfRouteMatchesLink() {\n            this.$nextTick().then(() => {\n                /**\n                 * Prevent endless loop with checking if the route exists. Because a router-link with a\n                 * non-existing route has always the class 'router-link-active'\n                 */\n                let resolvedRoute;\n\n                try {\n                    resolvedRoute = this.$router.resolve(this.route);\n                } catch {\n                    return;\n                }\n\n                if (resolvedRoute === undefined) {\n                    return;\n                }\n\n                let routeExists = false;\n                routeExists = resolvedRoute.matched.length > 0;\n\n                if (!routeExists) {\n                    return;\n                }\n\n                const routeIsActive = this.$el.classList.contains('router-link-active');\n                if (routeIsActive) {\n                    if (this.isCompatEnabled('INSTANCE_CHILDREN')) {\n                        this.$parent.setActiveItem(this);\n                    } else {\n                        this.swTabsSetActiveItem(this);\n                    }\n                }\n            });\n        },\n    },\n});\n"],"names":["template","Component","types","_a","_b","item","resolvedRoute","routeExists"],"mappings":"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"}