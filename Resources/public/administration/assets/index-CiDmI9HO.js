const e='{% block sw_bulk_edit_save_modal %} <sw-modal class="sw-bulk-edit-save-modal" variant="small" :title="title" @modal-close="onModalClose" > {% block sw_bulk_edit_save_modal_body %} <div class="sw-bulk-edit-save-modal-body"> <router-view v-slot="{ Component }" > <component :is="Component" :item-total="itemTotal" :bulk-edit-data="bulkEditData" class="sw-bulk-edit-save-modal__component" @changes-apply="applyChanges" @buttons-update="updateButtons" @redirect="redirect" @title-set="setTitle" /> </router-view> </div> {% endblock %} {% block sw_bulk_edit_save_modal_footer %} <template #modal-footer> {% block sw_bulk_edit_save_modal_footer_left %} <div class="footer-left"> <sw-button v-for="button in buttons.left" :key="button.key" size="small" :variant="button.variant" :disabled="button.disabled" @click="onButtonClick(button.action)" > {{ button.label }} </sw-button> </div> {% endblock %} {% block sw_bulk_edit_save_modal_footer_right %} <div class="footer-right"> <sw-button v-for="button in buttons.right" :key="button.key" size="small" :variant="button.variant" :disabled="button.disabled" @click="onButtonClick(button.action)" > {{ button.label }} </sw-button> </div> {% endblock %} </template> {% endblock %} </sw-modal> {% endblock %}',o={template:e,compatConfig:Cicada.compatConfig,emits:["modal-close","bulk-save"],props:{itemTotal:{required:!0,type:Number},isLoading:{required:!0,type:Boolean},processStatus:{required:!0,type:String},bulkEditData:{type:Object,required:!1,default:()=>({})}},data(){return{title:null,buttonConfig:[]}},computed:{currentStep(){return this.isLoading&&!this.processStatus?"process":!this.isLoading&&this.processStatus==="success"?"success":!this.isLoading&&this.processStatus==="fail"?"fail":"confirm"},buttons(){return{right:this.buttonConfig.filter(t=>t.position==="right"),left:this.buttonConfig.filter(t=>t.position==="left")}}},watch:{currentStep(t){t==="success"&&this.redirect("success"),t==="fail"&&this.redirect("error")}},created(){this.createdComponent()},beforeUnmount(){this.beforeDestroyComponent()},methods:{createdComponent(){this.addEventListeners()},beforeDestroyComponent(){this.removeEventListeners()},addEventListeners(){window.addEventListener("beforeunload",t=>this.beforeUnloadListener(t))},removeEventListeners(){window.removeEventListener("beforeunload",t=>this.beforeUnloadListener(t))},beforeUnloadListener(t){return this.isLoading?(t.preventDefault(),t.returnValue=this.$tc("sw-bulk-edit.modal.messageBeforeTabLeave"),this.$tc("sw-bulk-edit.modal.messageBeforeTabLeave")):""},onModalClose(){this.$emit("modal-close")},applyChanges(){this.$emit("bulk-save")},redirect(t){if(!t){this.$emit("modal-close");return}this.$router.push({path:t})},setTitle(t){this.title=t},updateButtons(t){this.buttonConfig=t},onButtonClick(t){if(typeof t=="string"){this.redirect(t);return}typeof t=="function"&&t.call()}}};export{o as default};
//# sourceMappingURL=index-CiDmI9HO.js.map
