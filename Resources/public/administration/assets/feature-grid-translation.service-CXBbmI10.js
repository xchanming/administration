const{Criteria:a}=Cicada.Data;class p{constructor(t,e,r){this.component=t,this.propertyGroupRepository=e,this.customFieldRepository=r,this.entities={property:[],customField:[]}}fetchPropertyGroupEntities(t){return this._fetchEntities(t,"property","id",this.propertyGroupRepository)}fetchCustomFieldEntities(t){return this._fetchEntities(t,"customField","name",this.customFieldRepository)}_fetchEntities(t,e,r,s){if(!t||t.length<1)return Promise.resolve();const o=t.filter(i=>i.type===e).map(i=>i[r]);if(o.length<1)return Promise.resolve();const n=new a(1,25);return n.addFilter(a.equalsAny(r,o)),s.search(n,Cicada.Context.api).then(i=>{this.entities[e]=i})}getNameTranslation(t){if(t.type==="product")return this.component.$tc(`sw-settings-product-feature-sets.modal.label.${t.name}`);if(t.type==="property")return this.entities.property.filter(e=>e.id===t.id).map(e=>e.translated.name).pop();if(t.type==="customField"){const e=Cicada.State.get("session").currentLocale,r=Cicada.Context.app.fallbackLocale;return this.entities.customField.filter(s=>s.name===t.name).map(s=>s.config.label[e]||s.config.label[r]).pop()}return t.type==="referencePrice"?this.component.$tc("sw-settings-product-feature-sets.modal.label.referencePrice"):""}getTypeTranslation(t){return t.type==="product"?this.component.$tc("sw-settings-product-feature-sets.modal.textProductInfoLabel"):t.type==="property"?this.component.$tc("sw-settings-product-feature-sets.modal.textPropertyLabel"):t.type==="customField"?this.component.$tc("sw-settings-product-feature-sets.modal.textCustomFieldLabel"):t.type==="referencePrice"?this.component.$tc("sw-settings-product-feature-sets.modal.textReferencePriceLabel"):""}}export{p as F};
//# sourceMappingURL=feature-grid-translation.service-CXBbmI10.js.map
