const s='{% block sw_sidebar %} <aside class="sw-sidebar" :class="sidebarClasses" > {% block sw_sidebar_navigation %} <nav class="sw-sidebar__navigation"> {% block sw_sidebar_navigation_list %} <ul v-for="(section, index) in sections" :key="`sidebar-section-${index}`" class="sw_sidebar__navigation-list" :class="`is--${index}`" > <li v-for="item in section" :key="item.id" > {% block sw_sidebar_navigation_item %} <sw-sidebar-navigation-item :sidebar-item="item" @item-click="setItemActive(item)" /> {% endblock %} </li> </ul> {% endblock %} </nav> {% endblock %} {% block sw_sidebar_content %} <div class="sw-sidebar__content"> <slot> </slot> </div> {% endblock %} </aside> {% endblock %}',{Component:n}=Shopware;n.register("sw-sidebar",{template:s,provide(){return{registerSidebarItem:this.registerSidebarItem}},inject:["setSwPageSidebarOffset","removeSwPageSidebarOffset"],emits:["item-click"],props:{propagateWidth:{type:Boolean,required:!1,default:!1}},data(){return{items:[],isOpened:!1,_parent:this.$parent}},computed:{sections(){const e={};return this.items.forEach(t=>{e[t.position]||(e[t.position]=[]),e[t.position].push(t)}),e},sidebarClasses(){return{"is--opened":this.isOpened}}},created(){this.createdComponent()},mounted(){this.mountedComponent()},unmounted(){this.destroyedComponent()},methods:{createdComponent(){let e=this.$parent;for(;e;){if(e.$options.name==="sw-page"){this._parent=e;return}e=e.$parent}},mountedComponent(){if(this.propagateWidth){const e=this.$el.querySelector(".sw-sidebar__navigation").offsetWidth;this.setSwPageSidebarOffset(e)}},destroyedComponent(){this.propagateWidth&&this.removeSwPageSidebarOffset()},_isItemRegistered(e){return this.items.findIndex(i=>i===e)>-1},_isAnyItemActive(){return this.items.findIndex(t=>t.isActive)>-1},closeSidebar(){this.isOpened=!1},registerSidebarItem(e){this._isItemRegistered(e)||(this.items.push(e),e.registerToggleActiveListener(this.setItemActive),e.registerCloseContentListener(this.closeSidebar))},setItemActive(e){this.$emit("item-click",e),this.items.forEach(t=>{t.sidebarButtonClick&&t.sidebarButtonClick(e)}),e.hasDefaultSlot&&(this.isOpened=this._isAnyItemActive())}}});
