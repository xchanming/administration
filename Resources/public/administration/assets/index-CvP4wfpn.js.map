{"version":3,"file":"index-CvP4wfpn.js","sources":["../../../app/administration/src/module/sw-first-run-wizard/view/sw-first-run-wizard-defaults/sw-first-run-wizard-defaults.html.twig","../../../app/administration/src/module/sw-first-run-wizard/view/sw-first-run-wizard-defaults/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_first_run_wizard_defaults %}\n<div class=\"sw-first-run-wizard-defaults\">\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_first_run_wizard_defaults_sales_channel_card %}\n    <sw-settings-listing-default-sales-channel\n        ref=\"defaultSalesChannelCard\"\n        :is-loading=\"isLoading\"\n        @vue:mounted=\"() => defaultSalesChannelCardLoaded = true\"\n    />\n    {% endblock %}\n\n</div>\n{% endblock %}\n","import template from './sw-first-run-wizard-defaults.html.twig';\nimport './sw-first-run-wizard-defaults.scss';\n\n/**\n * @package checkout\n * @private\n */\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: ['repositoryFactory'],\n\n    emits: [\n        'frw-set-title',\n        'frw-redirect',\n        'buttons-update',\n    ],\n\n    data() {\n        return {\n            isLoading: false,\n            defaultSalesChannelCardLoaded: false,\n            salesChannel: null,\n            configData: {\n                null: {\n                    'core.defaultSalesChannel.salesChannel': [],\n                    'core.defaultSalesChannel.active': true,\n                    'core.defaultSalesChannel.visibility': {},\n                },\n            },\n        };\n    },\n\n    computed: {\n        salesChannelRepository() {\n            return this.repositoryFactory.create('sales_channel');\n        },\n\n        buttonConfig() {\n            const buttons = [\n                {\n                    key: 'next',\n                    label: this.$tc('sw-first-run-wizard.general.buttonNext'),\n                    position: 'right',\n                    variant: 'primary',\n                    action: this.nextAction.bind(this),\n                    disabled: !this.defaultSalesChannelCardLoaded,\n                },\n            ];\n\n            if (!Cicada.State.get('context').app.config.settings.disableExtensionManagement) {\n                buttons.unshift({\n                    key: 'back',\n                    label: this.$tc('sw-first-run-wizard.general.buttonBack'),\n                    position: 'left',\n                    variant: null,\n                    action: 'sw.first.run.wizard.index.data-import',\n                    disabled: false,\n                });\n            }\n\n            return buttons;\n        },\n    },\n\n    watch: {\n        buttonConfig: {\n            handler() {\n                this.updateButtons();\n            },\n            deep: true,\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.updateButtons();\n            this.setTitle();\n        },\n\n        setTitle() {\n            this.$emit('frw-set-title', this.$tc('sw-first-run-wizard.defaults.modalTitle'));\n        },\n\n        async nextAction() {\n            this.isLoading = true;\n\n            await this.$refs.defaultSalesChannelCard.saveSalesChannelVisibilityConfig();\n\n            this.isLoading = false;\n            this.$emit('frw-redirect', 'sw.first.run.wizard.index.mailer.selection');\n        },\n\n        updateButtons() {\n            this.$emit('buttons-update', this.buttonConfig);\n        },\n\n        updateSalesChannel(salesChannel) {\n            this.salesChannel = salesChannel;\n        },\n    },\n};\n"],"names":["template","index","buttons","salesChannel"],"mappings":"AAAA,MAAeA,EAAA,qVCOAC,EAAA,CACX,SAAAD,EAEA,aAAc,OAAO,aAErB,OAAQ,CAAC,mBAAmB,EAE5B,MAAO,CACH,gBACA,eACA,gBACH,EAED,MAAO,CACH,MAAO,CACH,UAAW,GACX,8BAA+B,GAC/B,aAAc,KACd,WAAY,CACR,KAAM,CACF,wCAAyC,CAAE,EAC3C,kCAAmC,GACnC,sCAAuC,CAAE,CAC5C,CACJ,CACb,CACK,EAED,SAAU,CACN,wBAAyB,CACrB,OAAO,KAAK,kBAAkB,OAAO,eAAe,CACvD,EAED,cAAe,CACX,MAAME,EAAU,CACZ,CACI,IAAK,OACL,MAAO,KAAK,IAAI,wCAAwC,EACxD,SAAU,QACV,QAAS,UACT,OAAQ,KAAK,WAAW,KAAK,IAAI,EACjC,SAAU,CAAC,KAAK,6BACnB,CACjB,EAEY,OAAK,OAAO,MAAM,IAAI,SAAS,EAAE,IAAI,OAAO,SAAS,4BACjDA,EAAQ,QAAQ,CACZ,IAAK,OACL,MAAO,KAAK,IAAI,wCAAwC,EACxD,SAAU,OACV,QAAS,KACT,OAAQ,wCACR,SAAU,EAC9B,CAAiB,EAGEA,CACV,CACJ,EAED,MAAO,CACH,aAAc,CACV,SAAU,CACN,KAAK,cAAa,CACrB,EACD,KAAM,EACT,CACJ,EAED,SAAU,CACN,KAAK,iBAAgB,CACxB,EAED,QAAS,CACL,kBAAmB,CACf,KAAK,cAAa,EAClB,KAAK,SAAQ,CAChB,EAED,UAAW,CACP,KAAK,MAAM,gBAAiB,KAAK,IAAI,yCAAyC,CAAC,CAClF,EAED,MAAM,YAAa,CACf,KAAK,UAAY,GAEjB,MAAM,KAAK,MAAM,wBAAwB,iCAAgC,EAEzE,KAAK,UAAY,GACjB,KAAK,MAAM,eAAgB,4CAA4C,CAC1E,EAED,eAAgB,CACZ,KAAK,MAAM,iBAAkB,KAAK,YAAY,CACjD,EAED,mBAAmBC,EAAc,CAC7B,KAAK,aAAeA,CACvB,CACJ,CACL"}