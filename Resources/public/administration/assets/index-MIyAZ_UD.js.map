{"version":3,"file":"index-MIyAZ_UD.js","sources":["../../../app/administration/src/module/sw-cms/elements/product-slider/component/sw-cms-el-product-slider.html.twig","../../../app/administration/src/module/sw-cms/elements/product-slider/component/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_cms_element_product_slider %}\n<div\n    class=\"sw-cms-el-product-slider\"\n    :class=\"classes\"\n    :style=\"verticalAlignStyle\"\n>\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_cms_element_product_slider_title %}\n    <div\n        v-if=\"element.config.title.value\"\n        class=\"sw-cms-el-product-slider__title\"\n    >\n        {{ element.config.title.value }}\n    </div>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_cms_element_product_slider_content %}\n    <div class=\"sw-cms-el-product-slider__content\">\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_element_product_slider_arrow_left %}\n        <div\n            v-if=\"hasNavigationArrows\"\n            class=\"sw-cms-el-product-slider__navigation is--left-arrow\"\n            :class=\"navArrowsClasses\"\n        >\n            <sw-icon\n                class=\"sw-cms-el-product-slider__navigation-button\"\n                name=\"regular-chevron-left\"\n                size=\"24\"\n            />\n        </div>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_element_product_slider_product_holder %}\n        <div\n            ref=\"productHolder\"\n            class=\"sw-cms-el-product-slider__product-holder\"\n            :style=\"sliderBoxMinWidth\"\n        >\n            <template v-if=\"!element.data || !element.data.products\">\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_element_product_slider_demo_data %}\n                <sw-cms-el-product-box\n                    v-for=\"index in sliderBoxLimit\"\n                    :key=\"index\"\n                    :element=\"demoProductElement\"\n                />\n                {% endblock %}\n            </template>\n\n            <template v-else>\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_cms_element_product_slider_products %}\n                <template\n                    v-for=\"(product, index) in element.data.products\"\n                    :key=\"index\"\n                >\n                    <sw-cms-el-product-box\n                        v-if=\"index < sliderBoxLimit\"\n                        :element=\"getProductEl(product)\"\n                    />\n                </template>\n                {% endblock %}\n            </template>\n        </div>\n        {% endblock %}\n\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_cms_element_product_slider_arrow_right %}\n        <div\n            v-if=\"hasNavigationArrows\"\n            class=\"sw-cms-el-product-slider__navigation is--right-arrow\"\n            :class=\"navArrowsClasses\"\n        >\n            <sw-icon\n                class=\"sw-cms-el-product-slider__navigation-button\"\n                name=\"regular-chevron-right\"\n                size=\"24\"\n            />\n        </div>\n        {% endblock %}\n    </div>\n    {% endblock %}\n</div>\n{% endblock %}\n","import template from './sw-cms-el-product-slider.html.twig';\nimport './sw-cms-el-product-slider.scss';\n\nconst { Mixin } = Cicada;\n\n/**\n * @private\n * @package discovery\n */\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    inject: ['feature'],\n\n    mixins: [\n        Mixin.getByName('cms-element'),\n    ],\n\n    data() {\n        return {\n            sliderBoxLimit: 3,\n        };\n    },\n\n    computed: {\n        demoProductElement() {\n            return {\n                config: {\n                    boxLayout: {\n                        source: 'static',\n                        value: this.element.config.boxLayout.value,\n                    },\n                    displayMode: {\n                        source: 'static',\n                        value: this.element.config.displayMode.value,\n                    },\n                },\n                data: null,\n            };\n        },\n\n        /**\n         * @deprecated tag:v6.7.0 - Will be removed, use the specific navigation setting `hasNavigationArrows` instead\n         */\n        hasNavigation() {\n            return this.hasNavigationArrows;\n        },\n\n        hasNavigationArrows() {\n            return [\n                'inside',\n                'outside',\n            ].includes(this.element.config.navigationArrows.value);\n        },\n\n        classes() {\n            return {\n                'has--navigation-indent': this.element.config.navigationArrows.value === 'outside',\n                'has--border': !!this.element.config.border.value,\n            };\n        },\n\n        navArrowsClasses() {\n            if (this.hasNavigationArrows) {\n                return [`has--arrow-${this.element.config.navigationArrows.value}`];\n            }\n\n            return null;\n        },\n\n        sliderBoxMinWidth() {\n            if (this.element.config.elMinWidth.value && this.element.config.elMinWidth.value.indexOf('px') > -1) {\n                return `repeat(auto-fit, minmax(${this.element.config.elMinWidth.value}, 1fr))`;\n            }\n\n            return null;\n        },\n\n        currentDeviceView() {\n            return this.cmsPageState.currentCmsDeviceView;\n        },\n\n        verticalAlignStyle() {\n            if (!this.element.config.verticalAlign.value) {\n                return null;\n            }\n\n            return `align-self: ${this.element.config.verticalAlign.value};`;\n        },\n    },\n\n    watch: {\n        'element.config.elMinWidth.value': {\n            handler() {\n                this.setSliderRowLimit();\n            },\n        },\n\n        currentDeviceView() {\n            setTimeout(() => {\n                this.setSliderRowLimit();\n            }, 400);\n        },\n    },\n\n    created() {\n        this.createdComponent();\n    },\n\n    mounted() {\n        this.mountedComponent();\n    },\n\n    methods: {\n        createdComponent() {\n            this.initElementConfig('product-slider');\n            this.initElementData('product-slider');\n        },\n\n        mountedComponent() {\n            this.setSliderRowLimit();\n        },\n\n        setSliderRowLimit() {\n            const boxWidth = this.$refs.productHolder?.offsetWidth;\n\n            if (boxWidth === undefined) {\n                return;\n            }\n\n            if (this.currentDeviceView === 'mobile' || boxWidth < 500) {\n                this.sliderBoxLimit = 1;\n                return;\n            }\n\n            if (\n                !this.element.config.elMinWidth.value ||\n                this.element.config.elMinWidth.value === 'px' ||\n                this.element.config.elMinWidth.value.indexOf('px') === -1\n            ) {\n                this.sliderBoxLimit = 3;\n                return;\n            }\n\n            if (parseInt(this.element.config.elMinWidth.value.replace('px', ''), 10) <= 0) {\n                return;\n            }\n\n            // Subtract to fake look in storefront which has more width\n            const fakeLookWidth = 100;\n            const elGap = 32;\n            let elWidth = parseInt(this.element.config.elMinWidth.value.replace('px', ''), 10);\n\n            if (elWidth >= 300) {\n                elWidth -= fakeLookWidth;\n            }\n\n            this.sliderBoxLimit = Math.floor(boxWidth / (elWidth + elGap));\n        },\n\n        getProductEl(product) {\n            return {\n                config: {\n                    boxLayout: {\n                        source: 'static',\n                        value: this.element.config.boxLayout.value,\n                    },\n                    displayMode: {\n                        source: 'static',\n                        value: this.element.config.displayMode.value,\n                    },\n                },\n                data: {\n                    product,\n                },\n            };\n        },\n    },\n};\n"],"names":["template","Mixin","index","_a","boxWidth","fakeLookWidth","elGap","elWidth","product"],"mappings":"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"}