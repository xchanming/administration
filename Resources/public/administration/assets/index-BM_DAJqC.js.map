{"version":3,"file":"index-BM_DAJqC.js","sources":["../../../app/administration/src/module/sw-settings-login-registration/page/sw-settings-login-registration/sw-settings-login-registration.html.twig","../../../app/administration/src/module/sw-settings-login-registration/page/sw-settings-login-registration/index.js"],"sourcesContent":["<!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n{% block sw_settings_login_registration_index %}\n<sw-page class=\"sw-settings-login-registration\">\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_login_registration_search_bar %}\n    <template #search-bar>\n        <sw-search-bar />\n    </template>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_login_registration_smart_bar_header %}\n    <template #smart-bar-header>\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_settings_login_registration_smart_bar_header_title %}\n        <h2>\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_settings_login_registration_smart_bar_header_title_text %}\n            {{ $tc('sw-settings.index.title') }}\n            <sw-icon\n                name=\"regular-chevron-right-xs\"\n                small\n            />\n            {{ $tc('sw-settings-login-registration.general.textHeadline') }}\n            {% endblock %}\n\n            <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n            {% block sw_settings_login_registration_smart_bar_header_amount %}\n            <span\n                v-if=\"false\"\n                class=\"sw-page__smart-bar-amount\"\n            >\n                ({{ total }})\n            </span>\n            {% endblock %}\n        </h2>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_login_registration_smart_bar_actions %}\n    <template #smart-bar-actions>\n        <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n        {% block sw_settings_login_registration_actions_save %}\n        <sw-button-process\n            class=\"sw-settings-login-registration__save-action\"\n            :is-loading=\"isLoading || systemConfigLoading\"\n            :process-success=\"isSaveSuccessful\"\n            :disabled=\"isLoading || systemConfigLoading\"\n            variant=\"primary\"\n            @update:process-success=\"saveFinish\"\n            @click=\"onSave\"\n        >\n            {{ $tc('sw-settings-login-registration.general.buttonSave') }}\n        </sw-button-process>\n        {% endblock %}\n    </template>\n    {% endblock %}\n\n    <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n    {% block sw_settings_login_registration_content %}\n    <template #content>\n        <sw-card-view>\n            <template v-if=\"systemConfigLoading\">\n                <sw-skeleton />\n                <sw-skeleton />\n            </template>\n\n            {# v-show is used here as underlying components influence the loading state and v-if would destroy this behaviour #}\n            <div v-show=\"!systemConfigLoading\">\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_setting_login_registration_system_config %}\n                <sw-system-config\n                    ref=\"systemConfig\"\n                    sales-channel-switchable\n                    domain=\"core.loginRegistration\"\n                    @loading-changed=\"onLoginRegistrationLoadingChanged\"\n                />\n                {% endblock %}\n\n                <!-- eslint-disable-next-line sw-deprecation-rules/no-twigjs-blocks -->\n                {% block sw_setting_login_registration_system_wide %}\n                <sw-system-config\n                    ref=\"systemConfigSystemWide\"\n                    :sales-channel-switchable=\"false\"\n                    domain=\"core.systemWideLoginRegistration\"\n                    @loading-changed=\"onSystemWideLoadingChanged\"\n                />\n                {% endblock %}\n            </div>\n        </sw-card-view>\n    </template>\n    {% endblock %}\n</sw-page>\n{% endblock %}\n","import template from './sw-settings-login-registration.html.twig';\n\nconst { Mixin } = Cicada;\n\n/**\n * @package services-settings\n */\n// eslint-disable-next-line sw-deprecation-rules/private-feature-declarations\nexport default {\n    template,\n\n    compatConfig: Cicada.compatConfig,\n\n    mixins: [\n        Mixin.getByName('notification'),\n    ],\n\n    data() {\n        return {\n            isLoading: false,\n            isSaveSuccessful: false,\n            coreLoginRegistrationLoading: false,\n            coreSystemWideLoginRegistrationLoading: false,\n        };\n    },\n\n    metaInfo() {\n        return {\n            title: this.$createTitle(),\n        };\n    },\n\n    computed: {\n        systemConfigLoading() {\n            return this.coreLoginRegistrationLoading || this.coreSystemWideLoginRegistrationLoading;\n        },\n    },\n\n    methods: {\n        saveFinish() {\n            this.isSaveSuccessful = false;\n        },\n\n        onSave() {\n            this.isSaveSuccessful = false;\n            this.isLoading = true;\n\n            Promise.all([\n                this.$refs.systemConfig.saveAll(),\n                this.$refs.systemConfigSystemWide.saveAll(),\n            ])\n                .then(() => {\n                    this.isLoading = false;\n                    this.isSaveSuccessful = true;\n                })\n                .catch((err) => {\n                    this.isLoading = false;\n                    this.createNotificationError({\n                        message: err,\n                    });\n                });\n        },\n\n        onLoginRegistrationLoadingChanged(loading) {\n            this.coreLoginRegistrationLoading = loading;\n        },\n\n        onSystemWideLoadingChanged(loading) {\n            this.coreSystemWideLoginRegistrationLoading = loading;\n        },\n    },\n};\n"],"names":["template","Mixin","index","err","loading"],"mappings":"AAAA,MAAeA,EAAA,urECET,CAAE,MAAAC,CAAO,EAAG,OAMHC,EAAA,CACX,SAAAF,EAEA,aAAc,OAAO,aAErB,OAAQ,CACJC,EAAM,UAAU,cAAc,CACjC,EAED,MAAO,CACH,MAAO,CACH,UAAW,GACX,iBAAkB,GAClB,6BAA8B,GAC9B,uCAAwC,EACpD,CACK,EAED,UAAW,CACP,MAAO,CACH,MAAO,KAAK,aAAc,CACtC,CACK,EAED,SAAU,CACN,qBAAsB,CAClB,OAAO,KAAK,8BAAgC,KAAK,sCACpD,CACJ,EAED,QAAS,CACL,YAAa,CACT,KAAK,iBAAmB,EAC3B,EAED,QAAS,CACL,KAAK,iBAAmB,GACxB,KAAK,UAAY,GAEjB,QAAQ,IAAI,CACR,KAAK,MAAM,aAAa,QAAS,EACjC,KAAK,MAAM,uBAAuB,QAAS,CAC3D,CAAa,EACI,KAAK,IAAM,CACR,KAAK,UAAY,GACjB,KAAK,iBAAmB,EAC5C,CAAiB,EACA,MAAOE,GAAQ,CACZ,KAAK,UAAY,GACjB,KAAK,wBAAwB,CACzB,QAASA,CACjC,CAAqB,CACrB,CAAiB,CACR,EAED,kCAAkCC,EAAS,CACvC,KAAK,6BAA+BA,CACvC,EAED,2BAA2BA,EAAS,CAChC,KAAK,uCAAyCA,CACjD,CACJ,CACL"}