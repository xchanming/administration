var p=Object.defineProperty;var b=(o,e,r)=>e in o?p(o,e,{enumerable:!0,configurable:!0,writable:!0,value:r}):o[e]=r;var n=(o,e,r)=>b(o,typeof e!="symbol"?e+"":e,r);import{a as l}from"./cicada-PjXUns31.js";import{A as h}from"./api.service-BUA61cyq.js";import"./util.service-B_A8c2s1.js";import"./channel-DxwX5hMG.js";import"./administration-BlrHhDOI.js";import"./_baseUniq-B2mRmqmX.js";import"./_baseIteratee-vB4JeBI0.js";import"./camelCase-C_yyocYD.js";import"./string.utils-Bdo6o_1y.js";import"./CicadaError-VTJe91--.js";import"./sanitizer.helper-9fM03JVT.js";import"./promotion.helper-DcTQ5h0i.js";import"./order.types-BvKP5qzO.js";class P extends h{constructor(r,s,a="_admin"){super(r,s,a);n(this,"searchAbortController",null);this.name="searchService"}elastic(r,s,a,t={}){const c=this.getBasicHeaders(t);return this.searchAbortController&&!this.searchAbortController.signal.aborted&&this.searchAbortController.abort(),this.searchAbortController=new AbortController,this.httpClient.post(`${this.getApiBasePath()}/es-search`,{term:r,limit:a,entities:s},{headers:c,signal:this.searchAbortController.signal}).then(i=>h.handleResponse(i)).catch(i=>{if(i instanceof l.CanceledError)return{};throw i})}searchQuery(r={},s={}){const a=this.getBasicHeaders(s);return Object.keys(r).forEach(t=>{typeof r[t].parse=="function"&&(r[t]=r[t].parse())}),this.searchAbortController&&!this.searchAbortController.signal.aborted&&this.searchAbortController.abort(),this.searchAbortController=new AbortController,this.httpClient.post(`${this.getApiBasePath()}/search`,r,{headers:a,signal:this.searchAbortController.signal}).then(t=>h.handleResponse(t)).catch(t=>{if(t instanceof l.CanceledError)return{};throw t})}}export{P as default};
//# sourceMappingURL=search.api.service-Bo2NsVe-.js.map
