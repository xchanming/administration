const i=`{% block sw_inherit_wrapper %} <div class="sw-inherit-wrapper" :class="{ 'is--inherited': isInherited, 'is--required': required, 'has--parent' : hasParent }" > {% block sw_inherit_wrapper_toggle %} <template v-if="label"> {% block sw_inherit_wrapper_toggle_wrapper %} <div class="sw-inherit-wrapper__toggle-wrapper"> {% block sw_inherit_wrapper_toggle_wrapper_field %} <sw-inheritance-switch v-if="isInheritField" :disabled="disabled" class="sw-inherit-wrapper__inheritance-icon" :is-inherited="isInherited" @inheritance-restore="restoreInheritance" @inheritance-remove="removeInheritance" /> {% endblock %} {% block sw_inherit_wrapper_toggle_wrapper_label %} <label class="sw-inherit-wrapper__inheritance-label" :class="labelClasses" > {{ label }} </label> {% endblock %} {% block sw_inherit_wrapper_toggle_wrapper_help_text %} <sw-help-text v-if="helpText" class="sw-inherit-wrapper__help-text" :text="helpText" /> {% endblock %} </div> {% endblock %} </template> {% endblock %} {% block sw_inherit_wrapper_content %} <slot name="content" v-bind="{ currentValue, updateCurrentValue, isInherited, isInheritField, toggleInheritance, restoreInheritance, removeInheritance, error, label }" ></slot> {% endblock %} </div> {% endblock %}`,{Component:r}=Cicada;r.register("sw-inherit-wrapper",{template:i,compatConfig:Cicada.compatConfig,inject:["feature"],emits:["update:value","inheritance-restore","inheritance-remove"],props:{value:{required:!0},inheritedValue:{required:!0},disabled:{type:Boolean,required:!1,default:!1},label:{type:String,required:!1,default:null},required:{type:Boolean,required:!1,default:!1},isAssociation:{type:Boolean,required:!1,default:!1},hasParent:{type:Boolean,required:!1,default:void 0},customInheritationCheckFunction:{type:Function,required:!1,default:null},customRestoreInheritanceFunction:{type:Function,required:!1,default:null},customRemoveInheritanceFunction:{type:Function,required:!1,default:null},helpText:{type:String,required:!1,default:null},error:{type:Object,required:!1,default:null}},data(){return{forceInheritanceRemove:!1}},computed:{currentValue:{get(){return this.isInherited?this.inheritedValue:this.value},set(e){if(!(this.isInherited&&e===this.inheritedValue)){if(!this.isInherited&&e!==this.inheritedValue){this.updateValue(e,"restore");return}this.removeInheritance(e)}}},isInheritField(){return this.hasParent!==void 0?this.hasParent:!(this.inheritedValue===null||typeof this.inheritedValue>"u")},isInherited(){return!this.isInheritField||this.forceInheritanceRemove?!1:typeof this.customInheritationCheckFunction=="function"?this.customInheritationCheckFunction(this.value):(this.isAssociation||Array.isArray(this.value))&&this.value?this.value.length<=0:this.value===null||this.value===void 0},labelClasses(){return{"has--error":!!this.error}}},methods:{updateCurrentValue(e){this.currentValue=e},updateValue(e,t){this.$emit("update:value",e),this.$emit(`inheritance-${t}`)},toggleInheritance(){this.isInherited?this.removeInheritance():this.restoreInheritance()},restoreInheritance(){if(this.forceInheritanceRemove=!1,typeof this.customRestoreInheritanceFunction=="function"){this.updateValue(this.customRestoreInheritanceFunction(this.value),"restore");return}if(this.isAssociation){this.value.getIds().forEach(e=>{this.value.remove(e)}),this.updateValue(this.value,"restore");return}this.$emit("update:value",null)},removeInheritance(e=this.currentValue){if(typeof this.customRemoveInheritanceFunction=="function"){this.updateValue(this.customRemoveInheritanceFunction(e,this.value),"remove");return}if(this.isAssociation&&e&&this.value){this.restoreInheritance(),e.length<=0&&(this.forceInheritanceRemove=!0),e.forEach(t=>{this.value.add(t)}),this.updateValue(this.value,"remove");return}(!e||Array.isArray(e)&&e.length<=0)&&(this.forceInheritanceRemove=!0),this.$emit("update:value",e)}}});
//# sourceMappingURL=index-BkFNjAjk.js.map
