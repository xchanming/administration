(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[58334],{164700:function(){},958334:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return a}});var i=n(102908);n(732351);let{Service:s}=Cicada,{Criteria:r}=Cicada.Data;var a={template:'\n{% block sw_order_product_select %}\n<span class="sw-order-product-select">\n    \n    {% block sw_order_product_select_blank_item %}\n    <sw-text-field\n        v-if="isShownItemLabelInput"\n        v-model:value="item.label"\n        v-bind="$attrs"\n        size="small"\n        :placeholder="$tc(\'sw-order.detailBase.columnProductName\')"\n    />\n    {% endblock %}\n\n    \n    {% block sw_order_product_select_existing_product %}\n    \n    <sw-entity-single-select\n        v-else-if="isShownProductSelect"\n        v-model:value="product"\n        class="sw-order-product-select__single-select"\n        :context="contextWithInheritance"\n        :criteria="productCriteria"\n        entity="product"\n        size="small"\n        show-clearable-button\n        @update:value="onItemChanged"\n    >\n        <template #selection-label-property="{ item }">\n            <slot\n                name="selection-label-property"\n                v-bind="{ item }"\n            >\n                \n                {% block sw_order_product_select_results_variant_info %}\n                <sw-product-variant-info :variations="item.variation">\n                    {{ item.translated.name || item.name }}\n                </sw-product-variant-info>\n                {% endblock %}\n            </slot>\n        </template>\n\n        <template #result-item="{ item, index }">\n            <slot\n                name="result-item"\n                v-bind="{ item, index }"\n            >\n                <sw-select-result\n                    v-bind="{ item, index }"\n                >\n                    \n                    {% block sw_order_product_select_results_list_result_label %}\n                    <sw-product-variant-info :variations="item.variation">\n                        {{ item.translated.name || item.name }}\n                    </sw-product-variant-info>\n                    {% endblock %}\n                </sw-select-result>\n            </slot>\n        </template>\n    </sw-entity-single-select>\n    {% endblock %}\n\n    \n    {% block sw_order_product_show_product %}\n    <template v-else>\n        <span class="sw-order-product-select__label">\n            {{ item.label }}\n        </span>\n    </template>\n    {% endblock %}\n</span>\n{% endblock %}\n',compatConfig:Cicada.compatConfig,props:{item:{type:Object,required:!0},salesChannelId:{type:String,required:!0,default:""},taxStatus:{type:String,required:!0,default:""}},data(){return{product:null}},computed:{productRepository(){return s("repositoryFactory").create("product")},lineItemTypes(){return i.S},lineItemPriceTypes(){return i.F},isShownProductSelect(){return this.item._isNew&&this.item.type===this.lineItemTypes.PRODUCT},isShownItemLabelInput(){return this.item.type!==this.lineItemTypes.PRODUCT},contextWithInheritance(){return{...Cicada.Context.api,inheritance:!0}},productCriteria(){let e=new r(1,25);return e.addAssociation("options.group"),e.addAssociation("tax"),e.addFilter(r.multi("OR",[r.equals("childCount",0),r.equals("childCount",null)])),e.addFilter(r.equals("visibilities.salesChannelId",this.salesChannelId)),e.addFilter(r.equals("active",!0)),e}},methods:{onItemChanged(e){let t=new r(1,1);t.addAssociation("tax"),this.productRepository.get(e,this.contextWithInheritance,t).then(e=>{this.item.identifier=e.id,this.item.label=e.name,this.item.priceDefinition.price="gross"===this.taxStatus?e.price[0].gross:e.price[0].net,this.item.priceDefinition.type=this.lineItemPriceTypes.QUANTITY,this.item.price.taxRules[0].taxRate=e.tax.taxRate,this.item.price.unitPrice="...",this.item.price.totalPrice="...",this.item.price.quantity=1,this.item.unitPrice="...",this.item.totalPrice="...",this.item.precision=2,this.item.priceDefinition.taxRules[0].taxRate=e.tax.taxRate})}}}},732351:function(e,t,n){var i=n(164700);i.__esModule&&(i=i.default),"string"==typeof i&&(i=[[e.id,i,""]]),i.locals&&(e.exports=i.locals),n(745346).Z("45837750",i,!0,{})}}]);