"use strict";(window.webpackJsonpAdministration=window.webpackJsonpAdministration||[]).push([[73031],{473031:function(e,t,n){n.r(t),n.d(t,{default:function(){return i}});let a=Cicada.Utils,{Data:{Criteria:r}}=Cicada;var i={template:"\n{% block sw_settings_number_range_detail_language_switch %}\n\n<template #language-switch>\n    <sw-language-switch disabled />\n</template>\n{% endblock %}\n\n\n{% block sw_settings_number_range_detail_content_global_product_warning %}\n<sw-alert\n    v-if=\"isShowProductWarning\"\n    class=\"sw-number_range-quickinfo__alert-global-type sw-number_range-quickinfo__product-alert\"\n    variant=\"warning\"\n    :title=\"$tc('sw-settings-number-range.general.infoGlobalTypeTitle', 0, { typeName: 'Product'})\"\n>\n    {{ $tc('sw-settings-number-range.general.infoGlobalType', 0, { typeName: 'Product' }) }}\n</sw-alert>\n{% endblock %}\n\n{% block sw_settings_number_range_detail_assignment_card_global_warning %}\n{% endblock %}\n",data(){return{hasProductNumberRange:!1,isShowProductWarning:!1}},beforeRouteEnter(e,t,n){e.name.includes("sw.settings.number.range.create")&&!e.params.id&&(e.params.id=a.createId()),n()},computed:{productNumberRangeCriteria(){let e=new r(1,1);return e.addAssociation("type"),e.addFilter(r.multi("and",[r.equals("type.global",!0),r.equals("type.technicalName","product")])),e},numberRangeTypeCriteria(){let e=new r(1,25);return this.hasProductNumberRange&&e.addFilter(r.equals("global",!1)),e.addSorting(r.sort("typeName","ASC")),e},disableNumberRangeTypeSelect(){return!1}},methods:{async createdComponent(){await this.getProductNumberRanges(),Cicada.State.getters["context/isSystemDefaultLanguage"]||Cicada.State.commit("context/resetLanguageToDefault"),this.$route.params.id?this.numberRange=this.numberRangeRepository.create(Cicada.Context.api,this.$route.params.id):this.numberRange=this.numberRangeRepository.create(),this.numberRange.start=1,this.numberRange.global=!1,this.numberRange.pattern="",this.numberRange.isLoading=!0,this.numberRange.type=this.numberRangeTypeRepository.create(),this.numberRange.type.global=this.hasProductNumberRange,this.$super("createdComponent"),this.getPreview(),this.splitPattern(),this.onChangePattern(),this.numberRange.isLoading=!1},saveFinish(){this.isSaveSuccessful=!1,this.$router.push({name:"sw.settings.number.range.detail",params:{id:this.numberRange.id}})},onSave(){this.$super("onSave")},async getProductNumberRanges(){this.numberRangeRepository.search(this.productNumberRangeCriteria).then(e=>{this.hasProductNumberRange=!!e.total})},onChangeType(e,t){this.isShowProductWarning=t&&"product"===t.technicalName,this.numberRange.global=this.isShowProductWarning,this.loadSalesChannels()}}}}}]);